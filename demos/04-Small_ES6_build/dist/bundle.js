(function(u){function h(N){if(w[N])return w[N].exports;var A=w[N]={i:N,l:!1,exports:{}};return u[N].call(A.exports,A,A.exports,h),A.l=!0,A.exports}var w={};return h.m=u,h.c=w,h.i=function(N){return N},h.d=function(N,A,M){h.o(N,A)||Object.defineProperty(N,A,{configurable:!1,enumerable:!0,get:M})},h.n=function(N){var A=N&&N.__esModule?function(){return N['default']}:function(){return N};return h.d(A,'a',A),A},h.o=function(N,A){return Object.prototype.hasOwnProperty.call(N,A)},h.p='dist',h(h.s=37)})({0:function(u,h,w){'use strict';(function(N){h.e=function(F,B,z){if(B){if(B.innerError&&z)return B;const H='\n------------------------------------------------\n';F+=`${H}Inner Error:\n`,'string'==typeof B?F+=`Message: ${B}`:(F+=B.message?`Message: ${B.message}`:`Unknown Inner Error Type. Displaying Inner Error as JSON:\n ${JSON.stringify(B,null,'  ')}`,B.stack&&(F+=`\nInner Error Stack:\n${B.stack}`,F+='\nEnd Inner Error Stack')),F+=H}let D=new Error(F);return B&&(D.innerError=B),D},w.d(h,'b',function(){return T}),h.f=function(F){T||(T=!0,'function'!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(B,z){let D=Object.getOwnPropertyDescriptor(B,z),H=Object.getPrototypeOf(B);for(;'undefined'==typeof D&&null!==H;)D=Object.getOwnPropertyDescriptor(H,z),H=Object.getPrototypeOf(H);return D}),F(L,R,V))};const R={};h.d=R;const L={noop(){},eachModule(){},moduleName(F){return F}};h.a=L,L.global=function(){return'undefined'==typeof self?'undefined'==typeof N?new Function('return this')():N:self}();const V={};h.c=V;let T=!1}).call(h,w(25))},1:function(u,h,w){'use strict';function N(bn){return'-'+bn.toLowerCase()}function A(bn){return(bn.charAt(0).toLowerCase()+bn.slice(1)).replace(wt,N)}function M(bn){return!(bn.auInterpolationTarget||/[^\t\n\r ]/.test(bn.textContent))}function R(bn){throw new Error(`BindingLanguage must implement ${bn}().`)}function L(bn,yn,xn,wn){if(yn){let kn=bn[yn];if(kn){if(kn!==xn)throw new Error(`Attempted to register ${wn} when one with the same name already exists. Name: ${yn}.`);return}bn[yn]=xn}}function V(bn){if(bn.animatableElement!==void 0)return bn.animatableElement;let yn=bn.firstChild;for(;yn&&1!==yn.nodeType;)yn=yn.nextSibling;return yn&&1===yn.nodeType?bn.animatableElement=yn.classList.contains('au-animate')?yn:null:bn.animatableElement=null}function T(bn){if(bn===Ee.c.Element)return this.element;if(bn===Qt){if(this.boundViewFactory)return this.boundViewFactory;let yn=this.instruction.viewFactory,xn=this.partReplacements;return xn&&(yn=xn[yn.part]||yn),this.boundViewFactory=new Qt(this,yn,xn),this.boundViewFactory}return bn===Ht?(void 0===this.viewSlot&&(this.viewSlot=new Ht(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):bn===Ct?this.elementEvents||(this.elementEvents=new Ct(this.element)):bn===xt?this.compositionTransaction||(this.compositionTransaction=this.parent.get(bn)):bn===zt?this.viewResources:bn===At?this.instruction:this.superGet(bn)}function F(bn,yn,xn,wn,kn,Cn){let _n=bn.createChild(),Sn,Nn;for(_n.element=yn,_n.instruction=xn,_n.children=wn,_n.viewResources=Cn,_n.partReplacements=kn,Sn=xn.providers,Nn=Sn.length;Nn--;)_n._resolvers.set(Sn[Nn],Wt);return _n.superGet=_n.get,_n.get=T,_n}function B(bn){return this._element.hasAttribute(bn)}function z(bn){return this._element.getAttribute(bn)}function D(bn,yn){this._element.setAttribute(bn,yn)}function H(bn,yn){let xn=Ee.c.createComment('anchor');if(yn){let wn=bn.firstChild;wn&&'AU-CONTENT'===wn.tagName&&(xn.contentElement=wn),xn._element=bn,xn.hasAttribute=B,xn.getAttribute=z,xn.setAttribute=D}return Ee.c.replaceNode(xn,bn),xn}function U(bn,yn,xn,wn,kn,Cn,_n,Sn,Nn){let An=xn.behaviorInstructions,Mn=xn.expressions,Pn,In,En,On,Rn;if(xn.contentExpression)return kn.push(xn.contentExpression.createBinding(yn.nextSibling)),yn.nextSibling.auInterpolationTarget=!0,void yn.parentNode.removeChild(yn);if(xn.shadowSlot){let Ln=Ee.c.createComment('slot'),Vn;return Vn=xn.slotDestination?new qt(Ln,xn.slotName,xn.slotDestination,xn.slotFallbackFactory):new jt(Ln,xn.slotName,xn.slotFallbackFactory),Ee.c.replaceNode(Ln,yn),_n[xn.slotName]=Vn,void wn.push(Vn)}if(An.length)for(xn.anchorIsContainer||(yn=H(yn,xn.elementInstruction)),bn[xn.injectorId]=Pn=F(bn[xn.parentInjectorId],yn,xn,Cn,Sn,Nn),(In=0,En=An.length);In<En;++In)On=An[In],Rn=On.type.create(Pn,On,yn,kn),wn.push(Rn);for(In=0,En=Mn.length;In<En;++In)kn.push(Mn[In].createBinding(yn))}function W(bn,yn){let xn=bn.split(';'),wn,kn,Cn,_n,Sn;for(yn=yn||{},kn=0;kn<xn.length;kn++)Cn=xn[kn],wn=Cn.indexOf(':'),_n=Cn.substring(0,wn).trim(),Sn=Cn.substring(wn+1).trim(),yn[_n]=Sn;return yn}function Q(bn){let yn='';for(let xn in bn)yn+=xn+':'+bn[xn]+';';return yn}function K(bn,yn,xn,wn,kn,Cn){let _n=xn.behaviorInstructions,Sn=xn.expressions,Nn=xn.providers,An=xn.values,Mn,Pn,In,En,On;for(Mn=Nn.length;Mn--;)bn._resolvers.set(Nn[Mn],Wt);for(let Rn in An)if(On=yn.getAttribute(Rn),!On)yn.setAttribute(Rn,An[Rn]);else if('class'==Rn)yn.setAttribute('class',On+' '+An[Rn]);else if('style'==Rn){let Ln=W(An[Rn]);W(On,Ln),yn.setAttribute('style',Q(Ln))}if(_n.length)for(Mn=0,Pn=_n.length;Mn<Pn;++Mn)In=_n[Mn],En=In.type.create(bn,In,yn,kn),En.contentView&&Cn.push(En.contentView),wn.push(En);for(Mn=0,Pn=Sn.length;Mn<Pn;++Mn)kn.push(Sn[Mn].createBinding(yn))}function $(){return++Gt}function Y(){return(++Yt).toString()}function X(bn){let yn=bn.getAttribute('class'),xn=Y();return bn.setAttribute('class',yn?yn+' au-target':'au-target'),bn.setAttribute('au-target-id',xn),xn}function Z(bn,yn,xn,wn,kn){let Cn=Ee.c.createElement('au-shadow-slot');Ee.c.replaceNode(Cn,xn);let _n=X(Cn),Sn=At.shadowSlot(kn);if(Sn.slotName=xn.getAttribute('name')||Bt.defaultSlotKey,Sn.slotDestination=xn.getAttribute('slot'),xn.innerHTML.trim()){let Nn=Ee.c.createDocumentFragment(),An;for(;An=xn.firstChild;)Nn.appendChild(An);Sn.slotFallbackFactory=bn.compile(Nn,yn)}return wn[_n]=Sn,Cn}function J(bn,yn){return yn instanceof Re.b?Promise.resolve(yn):bn.loadTemplate(yn)}function ee(bn,yn,xn){let wn=yn.__observers__;return void 0===wn&&(!bn.isInitialized&&bn.initialize(Le.a.instance||new Le.a,yn.constructor),wn=bn.observerLocator.getOrCreateObserversLookup(yn),bn._ensurePropertiesDefined(yn,wn)),wn[xn]}function te(){return++ln}function ne(){return!0}function re(){}function se(bn,yn,xn){let wn=bn.get(yn);wn||(wn=[],bn.set(yn,wn)),wn.push(xn)}function le(bn,yn){let xn=yn.binders,wn=xn.length,kn=new Map;for(let Cn=0,_n=bn.length;Cn<_n;++Cn){let Sn=bn[Cn],Nn=Sn.addedNodes,An=Sn.removedNodes;for(let Mn=0,Pn=An.length,In;Mn<Pn;++Mn)if(In=An[Mn],1===In.nodeType)for(let En=0,On;En<wn;++En)On=xn[En],On.onRemove(In)&&se(kn,On,Sn);for(let Mn=0,Pn=Nn.length,In;Mn<Pn;++Mn)if(In=Nn[Mn],1===In.nodeType)for(let En=0,On;En<wn;++En)On=xn[En],On.onAdd(In)&&se(kn,On,Sn)}kn.forEach((Cn,_n)=>{null!==_n.changeHandler&&_n.viewModel[_n.changeHandler](Cn)})}function de(bn){return bn.skipActivation||'function'!=typeof bn.viewModel.activate?Promise.resolve():bn.viewModel.activate(bn.model)||Promise.resolve()}function ue(bn,yn){if(/[A-Z]/.test(bn)){let xn=A(bn);return Pe.getLogger('templating').warn(`'${bn}' is not a valid ${yn} name and has been converted to '${xn}'. Upper-case letters are not allowed because the DOM is not case-sensitive.`),xn}return bn}function Ce(bn){return function(yn){Ie.a.define(Lt.viewStrategyMetadataKey,bn,yn)}}var Pe=w(5),Ie=w(4),Ee=w(0),Oe=w(6),Re=w(8),Le=w(2),Ve=w(3),Te=w(9);w.d(h,'n',function(){return vt}),w.d(h,'d',function(){return xt}),w.d(h,'s',function(){return Nt}),w.d(h,'o',function(){return At}),w.d(h,'r',function(){return Lt}),w.d(h,'b',function(){return Vt}),w.d(h,'t',function(){return Bt}),w.d(h,'a',function(){return zt}),w.d(h,'e',function(){return Ht}),w.d(h,'l',function(){return Qt}),w.d(h,'f',function(){return rn}),w.d(h,'p',function(){return mn}),h.g=function(bn){return function(yn){Ie.a.define(Ie.a.resource,bn,yn)}},h.h=function(bn){return function(yn){let xn=Ie.a.getOrCreateOwn(Ie.a.resource,dn,yn);xn.elementName=ue(bn,'custom element')}},h.k=function(bn,yn){return function(xn){let wn=Ie.a.getOrCreateOwn(Ie.a.resource,dn,xn);wn.attributeName=ue(bn,'custom attribute'),wn.attributeDefaultBindingMode=yn}},h.m=function(bn){let yn=function(xn){let wn=Ie.a.getOrCreateOwn(Ie.a.resource,dn,xn);wn.liftsContent=!0};return bn?yn(bn):yn},h.j=function(bn,yn,xn){let wn=function(kn,Cn,_n){let Sn=Cn?kn.constructor:kn,Nn=Ie.a.getOrCreateOwn(Ie.a.resource,dn,Sn),An;return Cn&&(bn=bn||{},bn.name=Cn),An=new sn(bn),An.registerWith(Sn,Nn,_n)};if(!bn)return wn;if(yn){let kn=bn;return bn=null,wn(kn,yn,xn)}return wn},h.i=function(bn){return Ce(new Pt(bn))},h.q=function(bn,yn){let xn,wn;'function'==typeof bn?xn=bn:(wn=bn,xn=void 0);let kn=function(Cn){Ie.a.define(Lt.viewStrategyMetadataKey,new Et(wn,yn),Cn)};return xn?kn(xn):kn},w.d(h,'c',function(){return vn});var Fe,qe,je,Be,ze,De,He,Ue,We,Qe,Ke,Ge,Ye,Xe,Ze,Je,et,tt,nt,rt,at,ot,st,lt,dt,ut,ct,pt,mt,gt,ht;let vt=class{enter(){return Promise.resolve(!1)}leave(){return Promise.resolve(!1)}removeClass(yn,xn){return yn.classList.remove(xn),Promise.resolve(!1)}addClass(yn,xn){return yn.classList.add(xn),Promise.resolve(!1)}animate(){return Promise.resolve(!1)}runSequence(){}registerEffect(){}unregisterEffect(){}},bt=class{constructor(yn){this.owner=yn,this.owner._compositionCount++}done(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()}},yt=class{constructor(yn){this.owner=yn,this.owner._ownershipToken=this,this.thenable=this._createThenable()}waitForCompositionComplete(){return this.owner._tryCompleteTransaction(),this.thenable}resolve(){this._resolveCallback()}_createThenable(){return new Promise((yn)=>{this._resolveCallback=yn})}},xt=class{constructor(){this._ownershipToken=null,this._compositionCount=0}tryCapture(){return null===this._ownershipToken?new yt(this):null}enlist(){return new bt(this)}_tryCompleteTransaction(){if(0>=this._compositionCount&&(this._compositionCount=0,null!==this._ownershipToken)){let yn=this._ownershipToken;this._ownershipToken=null,yn.resolve()}}};const wt=/([A-Z])/g;let kt=class bn{constructor(){}initialize(yn,xn){this.instance=yn.get(xn)}register(yn){yn.registerViewEngineHooks(this.instance)}load(){}static convention(yn){if(yn.endsWith('ViewEngineHooks'))return new bn}},Ct=class{constructor(yn){this.element=yn,this.subscriptions={}}_enqueueHandler(yn){this.subscriptions[yn.eventName]=this.subscriptions[yn.eventName]||[],this.subscriptions[yn.eventName].push(yn)}_dequeueHandler(yn){let wn=this.subscriptions[yn.eventName],xn;return wn&&(xn=wn.indexOf(yn),-1<xn&&wn.splice(xn,1)),yn}publish(yn,xn={},wn=!0,kn=!0){let Cn=Ee.c.createCustomEvent(yn,{cancelable:kn,bubbles:wn,detail:xn});this.element.dispatchEvent(Cn)}subscribe(yn,xn,wn=!0){return xn&&'function'==typeof xn?(xn.eventName=yn,xn.handler=xn,xn.bubbles=wn,xn.dispose=()=>{this.element.removeEventListener(yn,xn,wn),this._dequeueHandler(xn)},this.element.addEventListener(yn,xn,wn),this._enqueueHandler(xn),xn):void 0}subscribeOnce(yn,xn,wn=!0){if(xn&&'function'==typeof xn){let kn=(Cn)=>{xn(Cn),kn.dispose()};return this.subscribe(yn,kn,wn)}}dispose(yn){if(yn&&'string'==typeof yn){let xn=this.subscriptions[yn];if(xn)for(;xn.length;){let wn=xn.pop();wn&&wn.dispose()}}else this.disposeAll()}disposeAll(){for(let yn in this.subscriptions)this.dispose(yn)}},_t=class{constructor(){this.dependencies={}}addDependency(yn){this.dependencies[yn]=!0}hasDependency(yn){return yn in this.dependencies}},St=class{constructor(yn=!1,xn=!1){this.targetShadowDOM=yn,this.compileSurrogate=xn,this.associatedModuleId=null}};St.normal=new St;let Nt=class bn{static enhance(){let yn=new bn;return yn.enhance=!0,yn}static unitTest(yn,xn){let wn=new bn;return wn.type=yn,wn.attributes=xn||{},wn}static element(yn,xn){let wn=new bn;return wn.type=xn,wn.attributes={},wn.anchorIsContainer=!(yn.hasAttribute('containerless')||xn.containerless),wn.initiatedByBehavior=!0,wn}static attribute(yn,xn){let wn=new bn;return wn.attrName=yn,wn.type=xn||null,wn.attributes={},wn}static dynamic(yn,xn,wn){let kn=new bn;return kn.host=yn,kn.viewModel=xn,kn.viewFactory=wn,kn.inheritBindingContext=!0,kn}constructor(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}};Nt.normal=new Nt;let At=(qe=Fe=class bn{static shadowSlot(yn){let xn=new bn;return xn.parentInjectorId=yn,xn.shadowSlot=!0,xn}static contentExpression(yn){let xn=new bn;return xn.contentExpression=yn,xn}static lifting(yn,xn){let wn=new bn;return wn.parentInjectorId=yn,wn.expressions=bn.noExpressions,wn.behaviorInstructions=[xn],wn.viewFactory=xn.viewFactory,wn.providers=[xn.type.target],wn.lifting=!0,wn}static normal(yn,xn,wn,kn,Cn,_n){let Sn=new bn;return Sn.injectorId=yn,Sn.parentInjectorId=xn,Sn.providers=wn,Sn.behaviorInstructions=kn,Sn.expressions=Cn,Sn.anchorIsContainer=!_n||_n.anchorIsContainer,Sn.elementInstruction=_n,Sn}static surrogate(yn,xn,wn,kn){let Cn=new bn;return Cn.expressions=wn,Cn.behaviorInstructions=xn,Cn.providers=yn,Cn.values=kn,Cn}constructor(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}},Fe.noExpressions=Object.freeze([]),qe);const Mt=Ie.b.create('aurelia:view-strategy',{validate(bn){return!('function'!=typeof bn.loadViewFactory)||'View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>'},compose(bn){'function'==typeof bn.makeRelativeTo||(bn.makeRelativeTo=Ee.a.noop)}});let Pt=(je=Mt(),je(Be=class{constructor(yn){this.path=yn,this.absolutePath=null}loadViewFactory(yn,xn,wn,kn){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=w.i(Oe.a)(this.path,this.moduleId)),xn.associatedModuleId=this.moduleId,yn.loadViewFactory(this.absolutePath||this.path,xn,wn,kn)}makeRelativeTo(yn){null===this.absolutePath&&(this.absolutePath=w.i(Oe.a)(this.path,yn))}})||Be),It=(ze=Mt(),ze(De=class{constructor(yn,xn){this.moduleId=xn.moduleId,this.viewUrl=yn.convertOriginToViewUrl(xn)}loadViewFactory(yn,xn,wn,kn){return xn.associatedModuleId=this.moduleId,yn.loadViewFactory(this.viewUrl,xn,wn,kn)}})||De),Et=(He=Mt(),He(Ue=class{constructor(yn,xn){this.dependencies=yn||null,this.dependencyBaseUrl=xn||''}loadViewFactory(yn,xn,wn,kn){let Cn=this.entry,_n=this.dependencies;if(Cn&&Cn.factoryIsReady)return Promise.resolve(null);if(this.entry=Cn=new Re.b(this.moduleId||this.dependencyBaseUrl),Cn.dependencies=[],Cn.templateIsLoaded=!0,null!==_n)for(let Sn=0,Nn=_n.length,An;Sn<Nn;++Sn)An=_n[Sn],'string'==typeof An||'function'==typeof An?Cn.addDependency(An):Cn.addDependency(An.from,An.as);return xn.associatedModuleId=this.moduleId,yn.loadViewFactory(Cn,xn,wn,kn)}})||Ue),Ot=(We=Mt(),We(Qe=class{constructor(yn,xn){this.moduleId=yn,this.entry=xn}loadViewFactory(yn,xn,wn,kn){let Cn=this.entry;return Cn.factoryIsReady?Promise.resolve(Cn.factory):(xn.associatedModuleId=this.moduleId,yn.loadViewFactory(Cn,xn,wn,kn))}})||Qe),Rt=(Ke=Mt(),Ke(Ge=class{constructor(yn,xn,wn){this.markup=yn,this.dependencies=xn||null,this.dependencyBaseUrl=wn||''}loadViewFactory(yn,xn,wn,kn){let Cn=this.entry,_n=this.dependencies;if(Cn&&Cn.factoryIsReady)return Promise.resolve(Cn.factory);if(this.entry=Cn=new Re.b(this.moduleId||this.dependencyBaseUrl),Cn.template=Ee.c.createTemplateFromMarkup(this.markup),null!==_n)for(let Sn=0,Nn=_n.length,An;Sn<Nn;++Sn)An=_n[Sn],'string'==typeof An||'function'==typeof An?Cn.addDependency(An):Cn.addDependency(An.from,An.as);return xn.associatedModuleId=this.moduleId,yn.loadViewFactory(Cn,xn,wn,kn)}})||Ge),Lt=(Xe=Ye=class bn{getViewStrategy(yn){if(!yn)return null;if('object'==typeof yn&&'getViewStrategy'in yn){let kn=Ie.c.get(yn.constructor);return yn=yn.getViewStrategy(),'string'==typeof yn&&(yn=new Pt(yn)),Mt.assert(yn),kn.moduleId&&yn.makeRelativeTo(kn.moduleId),yn}if('string'==typeof yn&&(yn=new Pt(yn)),Mt.validate(yn))return yn;'function'!=typeof yn&&(yn=yn.constructor);let xn=Ie.c.get(yn),wn=Ie.a.get(bn.viewStrategyMetadataKey,yn);if(!wn){if(!xn.moduleId)throw new Error('Cannot determine default view strategy for object.',yn);wn=this.createFallbackViewStrategy(xn)}else xn.moduleId&&(wn.moduleId=xn.moduleId);return wn}createFallbackViewStrategy(yn){return new It(this,yn)}convertOriginToViewUrl(yn){let xn=yn.moduleId,wn=xn.endsWith('.js')||xn.endsWith('.ts')?xn.substring(0,xn.length-3):xn;return wn+'.html'}},Ye.viewStrategyMetadataKey='aurelia:view-strategy',Xe),Vt=class{inspectAttribute(){R('inspectAttribute')}createAttributeInstruction(){R('createAttributeInstruction')}inspectTextContent(){R('inspectTextContent')}},Tt=Object.freeze([]),Ft=(Ze=w.i(Le.b)(Ee.c.Element),Ze(Je=class{constructor(yn){this.element=yn,this.element.auSlotAttribute=this}valueChanged(){}})||Je),qt=class bn{constructor(yn,xn,wn,kn){this.anchor=yn,this.anchor.viewSlot=this,this.name=xn,this.destinationName=wn,this.fallbackFactory=kn,this.destinationSlot=null,this.projections=0,this.contentView=null;let Cn=new Ft(this.anchor);Cn.value=this.destinationName}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}renderFallbackContent(yn,xn,wn,kn){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);let Cn=Object.create(null);Cn[this.destinationSlot.name]=this.destinationSlot,Bt.distributeView(this.contentView,Cn,wn,kn,this.destinationSlot.name)}}passThroughTo(yn){this.destinationSlot=yn}addNode(yn,xn,wn,kn){return null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),xn.viewSlot instanceof bn?void xn.viewSlot.passThroughTo(this):void(this.projections++,this.destinationSlot.addNode(yn,xn,wn,kn))}removeView(yn,xn){this.projections--,this.destinationSlot.removeView(yn,xn),this.needsFallbackRendering&&this.renderFallbackContent(null,Tt,xn)}removeAll(yn){this.projections=0,this.destinationSlot.removeAll(yn),this.needsFallbackRendering&&this.renderFallbackContent(null,Tt,yn)}projectFrom(yn,xn){this.destinationSlot.projectFrom(yn,xn)}created(yn){this.ownerView=yn}bind(yn){this.contentView&&this.contentView.bind(yn.bindingContext,yn.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},jt=class{constructor(yn,xn,wn){this.anchor=yn,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=xn,this.fallbackFactory=wn,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}addNode(yn,xn,wn,kn){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),xn.viewSlot instanceof qt)return void xn.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)Bt.distributeNodes(yn,[xn],this.destinationSlots,this,kn);else{xn.auOwnerView=yn,xn.auProjectionSource=wn,xn.auAssignedSlot=this;let _n=this._findAnchor(yn,xn,wn,kn),Sn=_n.parentNode;Sn.insertBefore(xn,_n),this.children.push(xn),this.projections++}}removeView(yn,xn){if(null!==this.destinationSlots)Bt.undistributeView(yn,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)Bt.undistributeView(yn,this.contentView.slots,xn);else{let wn=this.children.find((kn)=>kn.auSlotProjectFrom===xn);if(wn){let kn=wn.auProjectionChildren;for(let Cn=0,_n=kn.length,Sn;Cn<_n;++Cn)Sn=kn[Cn],Sn.auOwnerView===yn&&(kn.splice(Cn,1),yn.fragment.appendChild(Sn),Cn--,_n--,this.projections--);this.needsFallbackRendering&&this.renderFallbackContent(yn,Tt,xn)}}}removeAll(yn){if(null!==this.destinationSlots)Bt.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)Bt.undistributeAll(this.contentView.slots,yn);else{let xn=this.children.find((wn)=>wn.auSlotProjectFrom===yn);if(xn){let wn=xn.auProjectionChildren;for(let kn=0,Cn=wn.length,_n;kn<Cn;++kn)_n=wn[kn],_n.auOwnerView.fragment.appendChild(_n),this.projections--;xn.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,Tt,yn)}}}_findAnchor(yn,xn,wn,kn){if(wn){let Cn=this.children.find((_n)=>_n.auSlotProjectFrom===wn);if(Cn){if(void 0!==kn){let _n=Cn.auProjectionChildren,Sn=-1,Nn;for(let An=0,Mn=_n.length,Pn;An<Mn;++An)if(Pn=_n[An],Pn.auOwnerView!==Nn&&(Sn++,Nn=Pn.auOwnerView,Sn>=kn&&Nn!==yn))return _n.splice(An,0,xn),Pn}return Cn.auProjectionChildren.push(xn),Cn}}return this.anchor}projectTo(yn){this.destinationSlots=yn}projectFrom(yn,xn){let wn=Ee.c.createComment('anchor'),kn=this.anchor.parentNode;wn.auSlotProjectFrom=xn,wn.auOwnerView=yn,wn.auProjectionChildren=[],kn.insertBefore(wn,this.anchor),this.children.push(wn),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(wn)}renderFallbackContent(yn,xn,wn,kn){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){let Cn=this.contentView.slots,_n=this.projectFromAnchors;if(null!==_n)for(let Sn in Cn){let Nn=Cn[Sn];for(let An=0,Mn=_n.length,Pn;An<Mn;++An)Pn=_n[An],Nn.projectFrom(Pn.auOwnerView,Pn.auSlotProjectFrom)}this.fallbackSlots=Cn,Bt.distributeNodes(yn,xn,Cn,wn,kn)}}created(yn){this.ownerView=yn}bind(yn){this.contentView&&this.contentView.bind(yn.bindingContext,yn.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},Bt=(tt=et=class bn{static getSlotName(yn){return void 0===yn.auSlotAttribute?bn.defaultSlotKey:yn.auSlotAttribute.value}static distributeView(yn,xn,wn,kn,Cn){let _n;if(null===yn)_n=Tt;else{let Sn=yn.fragment.childNodes,Nn=Sn.length;_n=Array(Nn);for(let An=0;An<Nn;++An)_n[An]=Sn[An]}bn.distributeNodes(yn,_n,xn,wn,kn,Cn)}static undistributeView(yn,xn,wn){for(let kn in xn)xn[kn].removeView(yn,wn)}static undistributeAll(yn,xn){for(let wn in yn)yn[wn].removeAll(xn)}static distributeNodes(yn,xn,wn,kn,Cn,_n){for(let Sn=0,Nn=xn.length;Sn<Nn;++Sn){let An=xn[Sn],Mn=An.nodeType;if(An.isContentProjectionSource){for(let Pn in An.viewSlot.projectTo(wn),wn)wn[Pn].projectFrom(yn,An.viewSlot);xn.splice(Sn,1),Nn--,Sn--}else if(!(1===Mn||3===Mn||An.viewSlot instanceof qt))xn.splice(Sn,1),Nn--,Sn--;else if(3===Mn&&M(An))xn.splice(Sn,1),Nn--,Sn--;else{let Pn=wn[_n||bn.getSlotName(An)];Pn&&(Pn.addNode(yn,An,kn,Cn),xn.splice(Sn,1),Nn--,Sn--)}}for(let Sn in wn){let Nn=wn[Sn];Nn.needsFallbackRendering&&Nn.renderFallbackContent(yn,xn,kn,Cn)}}},et.defaultSlotKey='__au-default-slot-key__',tt),zt=class{constructor(yn,xn){this.bindingLanguage=null,this.parent=yn||null,this.hasParent=null!==this.parent,this.viewUrl=xn||'',this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}_tryAddHook(yn,xn){if('function'==typeof yn[xn]){let wn=yn[xn].bind(yn),kn=1,Cn;for(;this[Cn=xn+kn.toString()]!==void 0;)kn++;this[xn]=!0,this[Cn]=wn}}_invokeHook(yn,xn,wn,kn,Cn){if(this.hasParent&&this.parent._invokeHook(yn,xn,wn,kn,Cn),this[yn]){this[yn+'1'](xn,wn,kn,Cn);let _n=yn+'2';if(this[_n]&&(this[_n](xn,wn,kn,Cn),_n=yn+'3',this[_n])){this[_n](xn,wn,kn,Cn);for(let Sn=4;void 0!==this[_n=yn+Sn.toString()];)this[_n](xn,wn,kn,Cn),Sn++}}}registerViewEngineHooks(yn){this._tryAddHook(yn,'beforeCompile'),this._tryAddHook(yn,'afterCompile'),this._tryAddHook(yn,'beforeCreate'),this._tryAddHook(yn,'afterCreate'),this._tryAddHook(yn,'beforeBind'),this._tryAddHook(yn,'beforeUnbind')}getBindingLanguage(yn){return this.bindingLanguage||(this.bindingLanguage=yn)}patchInParent(yn){let xn=this.parent;this.parent=yn||null,this.hasParent=null!==this.parent,null===yn.parent&&(yn.parent=xn,yn.hasParent=null!==xn)}relativeToView(yn){return w.i(Oe.a)(yn,this.viewUrl)}registerElement(yn,xn){L(this.elements,yn,xn,'an Element')}getElement(yn){return this.elements[yn]||(this.hasParent?this.parent.getElement(yn):null)}mapAttribute(yn){return this.attributeMap[yn]||(this.hasParent?this.parent.mapAttribute(yn):null)}registerAttribute(yn,xn,wn){this.attributeMap[yn]=wn,L(this.attributes,yn,xn,'an Attribute')}getAttribute(yn){return this.attributes[yn]||(this.hasParent?this.parent.getAttribute(yn):null)}registerValueConverter(yn,xn){L(this.valueConverters,yn,xn,'a ValueConverter')}getValueConverter(yn){return this.valueConverters[yn]||(this.hasParent?this.parent.getValueConverter(yn):null)}registerBindingBehavior(yn,xn){L(this.bindingBehaviors,yn,xn,'a BindingBehavior')}getBindingBehavior(yn){return this.bindingBehaviors[yn]||(this.hasParent?this.parent.getBindingBehavior(yn):null)}registerValue(yn,xn){L(this.values,yn,xn,'a value')}getValue(yn){return this.values[yn]||(this.hasParent?this.parent.getValue(yn):null)}},Dt=class{constructor(yn,xn,wn,kn,Cn,_n,Sn){for(let Nn in this.container=yn,this.viewFactory=xn,this.resources=xn.resources,this.fragment=wn,this.firstChild=wn.firstChild,this.lastChild=wn.lastChild,this.controllers=kn,this.bindings=Cn,this.children=_n,this.slots=Sn,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,Sn){this.hasSlots=!0;break}}returnToCache(){this.viewFactory.returnViewToCache(this)}created(){let yn,xn,wn=this.controllers;for(yn=0,xn=wn.length;yn<xn;++yn)wn[yn].created(this)}bind(yn,xn,wn){let kn,Cn,_n,Sn,Nn;if(!(wn&&this._isUserControlled)){if(this.isBound){if(this.bindingContext===yn)return;this.unbind()}for(this.isBound=!0,this.bindingContext=yn,this.overrideContext=xn||w.i(Ve.a)(yn),this.resources._invokeHook('beforeBind',this),Cn=this.bindings,(Sn=0,Nn=Cn.length);Sn<Nn;++Sn)Cn[Sn].bind(this);for(null!==this.viewModelScope&&(yn.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),kn=this.controllers,(Sn=0,Nn=kn.length);Sn<Nn;++Sn)kn[Sn].bind(this);for(_n=this.children,Sn=0,Nn=_n.length;Sn<Nn;++Sn)_n[Sn].bind(yn,xn,!0);this.hasSlots&&Bt.distributeView(this.contentView,this.slots)}}addBinding(yn){this.bindings.push(yn),this.isBound&&yn.bind(this)}unbind(){let yn,xn,wn,kn,Cn;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook('beforeUnbind',this),null!==this.controller&&this.controller.unbind(),xn=this.bindings,(kn=0,Cn=xn.length);kn<Cn;++kn)xn[kn].unbind();for(yn=this.controllers,kn=0,Cn=yn.length;kn<Cn;++kn)yn[kn].unbind();for(wn=this.children,kn=0,Cn=wn.length;kn<Cn;++kn)wn[kn].unbind();this.bindingContext=null,this.overrideContext=null}}insertNodesBefore(yn){yn.parentNode.insertBefore(this.fragment,yn)}appendNodesTo(yn){yn.appendChild(this.fragment)}removeNodes(){for(let yn=this.fragment,xn=this.firstChild,wn=this.lastChild,kn;xn&&(kn=xn.nextSibling,yn.appendChild(xn),xn!==wn);)xn=kn}attached(){let yn,xn,wn,kn;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),yn=this.controllers,(wn=0,kn=yn.length);wn<kn;++wn)yn[wn].attached();for(xn=this.children,wn=0,kn=xn.length;wn<kn;++wn)xn[wn].attached()}}detached(){let yn,xn,wn,kn;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),yn=this.controllers,(wn=0,kn=yn.length);wn<kn;++wn)yn[wn].detached();for(xn=this.children,wn=0,kn=xn.length;wn<kn;++wn)xn[wn].detached()}}},Ht=class{constructor(yn,xn,wn=vt.instance){this.anchor=yn,this.anchorIsContainer=xn,this.bindingContext=null,this.overrideContext=null,this.animator=wn,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,yn.viewSlot=this,yn.isContentProjectionSource=!1}animateView(yn,xn='enter'){let wn=V(yn);if(null!==wn)switch(xn){case'enter':return this.animator.enter(wn);case'leave':return this.animator.leave(wn);default:throw new Error('Invalid animation direction: '+xn);}}transformChildNodesIntoView(){let yn=this.anchor;this.children.push({fragment:yn,firstChild:yn.firstChild,lastChild:yn.lastChild,returnToCache(){},removeNodes(){for(let xn;xn=yn.lastChild;)yn.removeChild(xn)},created(){},bind(){},unbind(){},attached(){},detached(){}})}bind(yn,xn){let wn,kn,Cn;if(this.isBound){if(this.bindingContext===yn)return;this.unbind()}for(this.isBound=!0,this.bindingContext=yn=yn||this.bindingContext,this.overrideContext=xn=xn||this.overrideContext,Cn=this.children,(wn=0,kn=Cn.length);wn<kn;++wn)Cn[wn].bind(yn,xn,!0)}unbind(){if(this.isBound){let yn,xn,wn=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,(yn=0,xn=wn.length);yn<xn;++yn)wn[yn].unbind()}}add(yn){if(this.anchorIsContainer?yn.appendNodesTo(this.anchor):yn.insertNodesBefore(this.anchor),this.children.push(yn),this.isAttached)return yn.attached(),this.animateView(yn,'enter')}insert(yn,xn){let wn=this.children,kn=wn.length;return 0===yn&&0===kn||yn>=kn?this.add(xn):(xn.insertNodesBefore(wn[yn].firstChild),wn.splice(yn,0,xn),this.isAttached)?(xn.attached(),this.animateView(xn,'enter')):void 0}move(yn,xn){if(yn!==xn){const wn=this.children,kn=wn[yn];kn.removeNodes(),kn.insertNodesBefore(wn[xn].firstChild),wn.splice(yn,1),wn.splice(xn,0,kn)}}remove(yn,xn,wn){return this.removeAt(this.children.indexOf(yn),xn,wn)}removeMany(yn,xn,wn){const kn=this.children;let Cn=yn.length,_n,Sn=[];yn.forEach((An)=>{if(wn)return void An.removeNodes();let Mn=this.animateView(An,'leave');Mn?Sn.push(Mn.then(()=>An.removeNodes())):An.removeNodes()});let Nn=()=>{if(this.isAttached)for(_n=0;_n<Cn;++_n)yn[_n].detached();if(xn)for(_n=0;_n<Cn;++_n)yn[_n].returnToCache();for(_n=0;_n<Cn;++_n){const An=kn.indexOf(yn[_n]);0<=An&&kn.splice(An,1)}};return 0<Sn.length?Promise.all(Sn).then(()=>Nn()):Nn()}removeAt(yn,xn,wn){let kn=this.children[yn],Cn=()=>{return yn=this.children.indexOf(kn),kn.removeNodes(),this.children.splice(yn,1),this.isAttached&&kn.detached(),xn&&kn.returnToCache(),kn};if(!wn){let _n=this.animateView(kn,'leave');if(_n)return _n.then(()=>Cn())}return Cn()}removeAll(yn,xn){let wn=this.children,kn=wn.length,Cn,_n=[];wn.forEach((Nn)=>{if(xn)return void Nn.removeNodes();let An=this.animateView(Nn,'leave');An?_n.push(An.then(()=>Nn.removeNodes())):Nn.removeNodes()});let Sn=()=>{if(this.isAttached)for(Cn=0;Cn<kn;++Cn)wn[Cn].detached();if(yn)for(Cn=0;Cn<kn;++Cn)wn[Cn].returnToCache();this.children=[]};return 0<_n.length?Promise.all(_n).then(()=>Sn()):Sn()}attached(){let yn,xn,wn,kn;if(!this.isAttached)for(this.isAttached=!0,wn=this.children,(yn=0,xn=wn.length);yn<xn;++yn)kn=wn[yn],kn.attached(),this.animateView(kn,'enter')}detached(){let yn,xn,wn;if(this.isAttached)for(this.isAttached=!1,wn=this.children,(yn=0,xn=wn.length);yn<xn;++yn)wn[yn].detached()}projectTo(yn){this.projectToSlots=yn,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach((xn)=>Bt.distributeView(xn,yn,this))}_projectionAdd(yn){Bt.distributeView(yn,this.projectToSlots,this),this.children.push(yn),this.isAttached&&yn.attached()}_projectionInsert(yn,xn){0===yn&&!this.children.length||yn>=this.children.length?this.add(xn):(Bt.distributeView(xn,this.projectToSlots,this,yn),this.children.splice(yn,0,xn),this.isAttached&&xn.attached())}_projectionMove(yn,xn){if(yn!==xn){const wn=this.children,kn=wn[yn];Bt.undistributeView(kn,this.projectToSlots,this),Bt.distributeView(kn,this.projectToSlots,this,xn),wn.splice(yn,1),wn.splice(xn,0,kn)}}_projectionRemove(yn){Bt.undistributeView(yn,this.projectToSlots,this),this.children.splice(this.children.indexOf(yn),1),this.isAttached&&yn.detached()}_projectionRemoveAt(yn){let wn=this.children[yn];Bt.undistributeView(wn,this.projectToSlots,this),this.children.splice(yn,1),this.isAttached&&wn.detached()}_projectionRemoveMany(yn,xn){yn.forEach((wn)=>this.remove(wn,xn))}_projectionRemoveAll(){Bt.undistributeAll(this.projectToSlots,this);let xn=this.children;if(this.isAttached)for(let wn=0,kn=xn.length;wn<kn;++wn)xn[wn].detached();this.children=[]}},Ut=w.i(Le.c)(nt=class{get(yn,xn){let wn=xn.__providerId__;return wn in yn?yn[wn]:yn[wn]=yn.invoke(xn)}})||nt,Wt=new Ut,Qt=class{constructor(yn,xn,wn){this.parentContainer=yn,this.viewFactory=xn,this.factoryCreateInstruction={partReplacements:wn}}create(){let yn=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return yn._isUserControlled=!0,yn}get isCaching(){return this.viewFactory.isCaching}setCacheSize(yn,xn){this.viewFactory.setCacheSize(yn,xn)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(yn){this.viewFactory.returnViewToCache(yn)}},Kt=class{constructor(yn,xn,wn){this.isCaching=!1,this.template=yn,this.instructions=xn,this.resources=wn,this.cacheSize=-1,this.cache=null}setCacheSize(yn,xn){yn&&('*'===yn?yn=Number.MAX_VALUE:'string'==typeof yn&&(yn=parseInt(yn,10))),-1!==this.cacheSize&&xn||(this.cacheSize=yn),this.cache=0<this.cacheSize?[]:null,this.isCaching=0<this.cacheSize}getCachedView(){return null===this.cache?null:this.cache.pop()||null}returnViewToCache(yn){yn.isAttached&&yn.detached(),yn.isBound&&yn.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(yn.fromCache=!0,this.cache.push(yn))}create(yn,xn,wn){xn=xn||Nt.normal;let kn=this.getCachedView();if(null!==kn)return kn;let Cn=xn.enhance?this.template:this.template.cloneNode(!0),_n=Cn.querySelectorAll('.au-target'),Sn=this.instructions,Nn=this.resources,An=[],Mn=[],Pn=[],In=Object.create(null),En={root:yn},On=xn.partReplacements,Rn,Ln,Vn,Tn,Fn;for(this.resources._invokeHook('beforeCreate',this,yn,Cn,xn),wn&&null!==this.surrogateInstruction&&K(yn,wn,this.surrogateInstruction,An,Mn,Pn),xn.enhance&&Cn.hasAttribute('au-target-id')&&(Tn=Cn,Fn=Sn[Tn.getAttribute('au-target-id')],U(En,Tn,Fn,An,Mn,Pn,In,On,Nn)),(Rn=0,Ln=_n.length);Rn<Ln;++Rn)Tn=_n[Rn],Fn=Sn[Tn.getAttribute('au-target-id')],U(En,Tn,Fn,An,Mn,Pn,In,On,Nn);return Vn=new Dt(yn,this,Cn,An,Mn,Pn,In),xn.initiatedByBehavior||Vn.created(),this.resources._invokeHook('afterCreate',Vn),Vn}},Gt=0,Yt=0,Xt=(rt=w.i(Le.b)(Vt,zt),rt(at=class{constructor(yn,xn){this.bindingLanguage=yn,this.resources=xn}compile(yn,xn,wn){xn=xn||this.resources,wn=wn||St.normal,yn='string'==typeof yn?Ee.c.createTemplateFromMarkup(yn):yn;let kn,Cn,_n;yn.content?(Cn=yn.getAttribute('part'),_n=yn.getAttribute('view-cache'),kn=Ee.c.adoptNode(yn.content)):kn=yn,wn.targetShadowDOM=wn.targetShadowDOM&&Ee.d.shadowDOM,xn._invokeHook('beforeCompile',kn,xn,wn);let Sn={};this._compileNode(kn,xn,Sn,yn,'root',!wn.targetShadowDOM);let Nn=kn.firstChild;if(Nn&&1===Nn.nodeType){let Mn=Nn.getAttribute('au-target-id');if(Mn){let Pn=Sn[Mn];(Pn.shadowSlot||Pn.lifting||Pn.elementInstruction&&!Pn.elementInstruction.anchorIsContainer)&&kn.insertBefore(Ee.c.createComment('view'),Nn)}}let An=new Kt(kn,Sn,xn);return An.surrogateInstruction=wn.compileSurrogate?this._compileSurrogate(yn,xn):null,An.part=Cn,_n&&An.setCacheSize(_n),xn._invokeHook('afterCompile',An),An}_compileNode(yn,xn,wn,kn,Cn,_n){switch(yn.nodeType){case 1:return this._compileElement(yn,xn,wn,kn,Cn,_n);case 3:let Sn=xn.getBindingLanguage(this.bindingLanguage).inspectTextContent(xn,yn.wholeText);if(Sn){let An=Ee.c.createElement('au-marker'),Mn=X(An);for((yn.parentNode||kn).insertBefore(An,yn),yn.textContent=' ',wn[Mn]=At.contentExpression(Sn);yn.nextSibling&&3===yn.nextSibling.nodeType;)(yn.parentNode||kn).removeChild(yn.nextSibling)}else for(;yn.nextSibling&&3===yn.nextSibling.nodeType;)yn=yn.nextSibling;return yn.nextSibling;case 11:for(let Nn=yn.firstChild;Nn;)Nn=this._compileNode(Nn,xn,wn,yn,Cn,_n);break;default:}return yn.nextSibling}_compileSurrogate(yn,xn){let wn=yn.tagName.toLowerCase(),kn=yn.attributes,Cn=xn.getBindingLanguage(this.bindingLanguage),_n,Sn,Nn,An,Mn,Pn,In,En,On,Rn,Ln=[],Vn,Tn=[],Fn={},qn=!1,jn=[];for(An=0,Mn=kn.length;An<Mn;++An)if(Pn=kn[An],In=Pn.name,En=Pn.value,On=Cn.inspectAttribute(xn,wn,In,En),Rn=xn.getAttribute(On.attrName),Rn&&(_n=xn.mapAttribute(On.attrName),_n&&(Sn=Rn.attributes[_n],Sn&&(On.defaultBindingMode=Sn.defaultBindingMode,!On.command&&!On.expression&&(On.command=Sn.hasOptions?'options':null),On.command&&'options'!==On.command&&Rn.primaryProperty&&(In=On.attrName=Rn.primaryProperty.name)))),Nn=Cn.createAttributeInstruction(xn,yn,On,void 0,Rn),Nn){if(Nn.alteredAttr&&(Rn=xn.getAttribute(Nn.attrName)),Nn.discrete)Ln.push(Nn);else if(!Rn)Ln.push(Nn.attributes[Nn.attrName]);else if(Nn.type=Rn,this._configureProperties(Nn,xn),Rn.liftsContent)throw new Error('You cannot place a template controller on a surrogate element.');else Tn.push(Nn);}else if(!Rn)'id'!==In&&'part'!==In&&'replace-part'!==In&&(qn=!0,Fn[In]=En);else if(Nn=Nt.attribute(In,Rn),Nn.attributes[xn.mapAttribute(In)]=En,Rn.liftsContent)throw new Error('You cannot place a template controller on a surrogate element.');else Tn.push(Nn);if(Ln.length||Tn.length||qn){for(An=0,Mn=Tn.length;An<Mn;++An)Nn=Tn[An],Nn.type.compile(this,xn,yn,Nn),jn.push(Nn.type.target);for(An=0,Mn=Ln.length;An<Mn;++An)Vn=Ln[An],void 0!==Vn.attrToRemove&&yn.removeAttribute(Vn.attrToRemove);return At.surrogate(jn,Tn,Ln,Fn)}return null}_compileElement(yn,xn,wn,kn,Cn,_n){let Sn=yn.tagName.toLowerCase(),Nn=yn.attributes,An=[],Mn,Pn=[],In=[],En=xn.getBindingLanguage(this.bindingLanguage),On,Rn,Ln,Vn,Tn,Fn,qn,jn,Bn,zn,Dn,Hn,Un,Wn,Qn,Kn;if('slot'===Sn)return _n&&(yn=Z(this,xn,yn,wn,Cn)),yn.nextSibling;for('template'===Sn?(Rn=this.compile(yn,xn),Rn.part=yn.getAttribute('part')):(Ln=xn.getElement(yn.getAttribute('as-element')||Sn),Ln&&(Vn=Nt.element(yn,Ln),Ln.processAttributes(this,xn,yn,Nn,Vn),Pn.push(Vn))),Fn=0,qn=Nn.length;Fn<qn;++Fn)if(jn=Nn[Fn],Bn=jn.name,zn=jn.value,Hn=En.inspectAttribute(xn,Sn,Bn,zn),_n&&'slot'===Hn.attrName&&(Hn.attrName=Bn='au-slot'),Ln=xn.getAttribute(Hn.attrName),Tn=null,Ln?(Wn=xn.mapAttribute(Hn.attrName),Wn&&(Un=Ln.attributes[Wn],Un&&(Hn.defaultBindingMode=Un.defaultBindingMode,!Hn.command&&!Hn.expression&&(Hn.command=Un.hasOptions?'options':null),Hn.command&&'options'!==Hn.command&&Ln.primaryProperty&&(Bn=Hn.attrName=Ln.primaryProperty.name)))):Vn&&(Tn=Vn.type.attributes[Hn.attrName],Tn&&(Hn.defaultBindingMode=Tn.defaultBindingMode)),Dn=Tn?En.createAttributeInstruction(xn,yn,Hn,Vn):En.createAttributeInstruction(xn,yn,Hn,void 0,Ln),Dn){if(Dn.alteredAttr&&(Ln=xn.getAttribute(Dn.attrName)),Dn.discrete)An.push(Dn);else if(!Ln)Tn?Vn.attributes[Hn.attrName].targetProperty=Tn.name:An.push(Dn.attributes[Dn.attrName]);else if(Dn.type=Ln,this._configureProperties(Dn,xn),Ln.liftsContent){Dn.originalAttrName=Bn,On=Dn;break}else Pn.push(Dn);}else if(!Ln)Tn&&(Vn.attributes[Bn]=zn);else if(Dn=Nt.attribute(Bn,Ln),Dn.attributes[xn.mapAttribute(Bn)]=zn,Ln.liftsContent){Dn.originalAttrName=Bn,On=Dn;break}else Pn.push(Dn);if(On)On.viewFactory=Rn,yn=On.type.compile(this,xn,yn,On,kn),Qn=X(yn),wn[Qn]=At.lifting(Cn,On);else{if(An.length||Pn.length){for(Kn=!!Pn.length&&$(),Fn=0,qn=Pn.length;Fn<qn;++Fn)Dn=Pn[Fn],Dn.type.compile(this,xn,yn,Dn,kn),In.push(Dn.type.target);for(Fn=0,qn=An.length;Fn<qn;++Fn)Mn=An[Fn],void 0!==Mn.attrToRemove&&yn.removeAttribute(Mn.attrToRemove);Qn=X(yn),wn[Qn]=At.normal(Kn,Cn,In,Pn,An,Vn)}if(Vn&&Vn.skipContentProcessing)return yn.nextSibling;for(let Gn=yn.firstChild;Gn;)Gn=this._compileNode(Gn,xn,wn,yn,Kn||Cn,_n)}return yn.nextSibling}_configureProperties(yn,xn){let wn=yn.type,kn=yn.attrName,Cn=yn.attributes,An=xn.mapAttribute(kn),_n,Sn,Nn;for(Sn in An&&kn in Cn&&An!==kn&&(Cn[An]=Cn[kn],delete Cn[kn]),Cn)Nn=Cn[Sn],null!==Nn&&'object'==typeof Nn&&(_n=wn.attributes[Sn],Nn.targetProperty=void 0===_n?Sn:_n.name)}})||at),Zt=class{constructor(yn){this.id=yn,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}initialize(yn){let xn=this.mainResource,wn=this.resources,kn=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==xn&&(xn.metadata.viewStrategy=kn,xn.initialize(yn));for(let Cn=0,_n=wn.length;Cn<_n;++Cn)xn=wn[Cn],xn.metadata.viewStrategy=kn,xn.initialize(yn)}}register(yn,xn){let wn=this.mainResource,kn=this.resources;wn!==void 0&&(wn.register(yn,xn),xn=null);for(let Cn=0,_n=kn.length;Cn<_n;++Cn)kn[Cn].register(yn,xn),xn=null}load(yn,xn){if(null!==this.onLoaded)return this.loadContext===xn?Promise.resolve():this.onLoaded;let wn=this.mainResource,kn=this.resources,Cn;if(void 0!==wn){Cn=Array(kn.length+1),Cn[0]=wn.load(yn,xn);for(let _n=0,Sn=kn.length;_n<Sn;++_n)Cn[_n+1]=kn[_n].load(yn,xn)}else{Cn=Array(kn.length);for(let _n=0,Sn=kn.length;_n<Sn;++_n)Cn[_n]=kn[_n].load(yn,xn)}return this.loadContext=xn,this.onLoaded=Promise.all(Cn),this.onLoaded}},Jt=class{constructor(yn,xn,wn){wn||(wn=Ie.a.get(Ie.a.resource,xn),!wn&&(wn=new dn,wn.elementName=A(yn),Ie.a.define(Ie.a.resource,wn,xn))),wn instanceof dn?wn.elementName===void 0?wn.elementName=A(yn):wn.attributeName===void 0?wn.attributeName=A(yn):null===wn.attributeName&&null===wn.elementName&&dn.convention(yn,wn):!wn.name&&(wn.name=A(yn)),this.metadata=wn,this.value=xn}initialize(yn){this.metadata.initialize(yn,this.value)}register(yn,xn){this.metadata.register(yn,xn)}load(yn,xn){return this.metadata.load(yn,this.value,xn)}},en=class{constructor(){this.cache=Object.create(null)}getAnalysis(yn){return this.cache[yn]}analyze(yn,xn,wn){let Mn=[],kn,Cn,_n,Sn,Nn,An,Pn,In,En;if(En=this.cache[yn],En)return En;for(Nn in En=new Zt(yn),this.cache[yn]=En,'function'==typeof xn&&(xn={'default':xn}),wn&&(kn=new Jt(wn,xn[wn])),xn)(An=xn[Nn],Nn!==wn&&'function'==typeof An)&&(Sn=Ie.a.get(Ie.a.resource,An),Sn?(null===Sn.attributeName&&null===Sn.elementName&&dn.convention(Nn,Sn),null===Sn.attributeName&&null===Sn.elementName&&(Sn.elementName=A(Nn)),!kn&&Sn instanceof dn&&null!==Sn.elementName?kn=new Jt(Nn,An,Sn):Mn.push(new Jt(Nn,An,Sn))):Mt.decorates(An)?In=An:An instanceof Re.b?In=new Ot(yn,An):(Pn=dn.convention(Nn))?(null===Pn.elementName||kn?Mn.push(new Jt(Nn,An,Pn)):kn=new Jt(Nn,An,Pn),Ie.a.define(Ie.a.resource,Pn,An)):(Pn=Ve.b.convention(Nn)||Ve.c.convention(Nn)||kt.convention(Nn))?(Mn.push(new Jt(Nn,An,Pn)),Ie.a.define(Ie.a.resource,Pn,An)):!Cn&&(Cn=An,_n=Nn));return!kn&&Cn&&(kn=new Jt(_n,Cn)),En.moduleInstance=xn,En.mainResource=kn,En.resources=Mn,En.viewStrategy=In,En}},tn=Pe.getLogger('templating'),nn=class{constructor(yn){yn.then((xn)=>this.viewFactory=xn)}create(yn,xn,wn,kn){return this.viewFactory.create(yn,xn,wn,kn)}get isCaching(){return this.viewFactory.isCaching}setCacheSize(yn,xn){this.viewFactory.setCacheSize(yn,xn)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(yn){this.viewFactory.returnViewToCache(yn)}},rn=(ot=w.i(Le.b)(Re.a,Le.a,Xt,en,zt),ot(st=(dt=lt=class bn{constructor(yn,xn,wn,kn,Cn){this.loader=yn,this.container=xn,this.viewCompiler=wn,this.moduleAnalyzer=kn,this.appResources=Cn,this._pluginMap={};let _n=new dn;_n.attributeName='au-slot',_n.initialize(xn,Ft),_n.register(Cn)}addResourcePlugin(yn,xn){let wn=yn.replace('.','')+'-resource-plugin';this._pluginMap[yn]=wn,this.loader.addPlugin(wn,xn)}loadViewFactory(yn,xn,wn,kn){return wn=wn||new _t,J(this.loader,yn).then((Cn)=>{return Cn.onReady?wn.hasDependency(yn)?null===Cn.template?Cn.onReady:Promise.resolve(new nn(Cn.onReady)):(wn.addDependency(yn),Cn.onReady):(wn.addDependency(yn),Cn.onReady=this.loadTemplateResources(Cn,xn,wn,kn).then((_n)=>{if(Cn.resources=_n,null===Cn.template)return Cn.factory=null;let Sn=this.viewCompiler.compile(Cn.template,_n,xn);return Cn.factory=Sn}),Cn.onReady)})}loadTemplateResources(yn,xn,wn,kn){let Cn=new zt(this.appResources,yn.address),_n=yn.dependencies,Sn,Nn;if(xn=xn||St.normal,0===_n.length&&!xn.associatedModuleId)return Promise.resolve(Cn);if(Sn=_n.map((An)=>An.src),Nn=_n.map((An)=>An.name),tn.debug(`importing resources for ${yn.address}`,Sn),kn){let An=Ie.a.get(bn.viewModelRequireMetadataKey,kn);if(An){let Mn=Sn.length;for(let Pn=0,In=An.length;Pn<In;++Pn){let En=An[Pn],On='function'==typeof En?Ie.c.get(En).moduleId:w.i(Oe.a)(En.src||En,yn.address);-1===Sn.indexOf(On)&&(Sn.push(On),Nn.push(En.as))}tn.debug(`importing ViewModel resources for ${xn.associatedModuleId}`,Sn.slice(Mn))}}return this.importViewResources(Sn,Nn,Cn,xn,wn)}importViewModelResource(yn,xn){return this.loader.loadModule(yn).then((wn)=>{let kn=Ie.c.get(wn).moduleId,Cn=this.moduleAnalyzer.analyze(kn,wn,xn);if(!Cn.mainResource)throw new Error(`No view model found in module "${yn}".`);return Cn.initialize(this.container),Cn.mainResource})}importViewResources(yn,xn,wn,kn,Cn){return Cn=Cn||new _t,kn=kn||St.normal,yn=yn.map((_n)=>this._applyLoaderPlugin(_n)),this.loader.loadAllModules(yn).then((_n)=>{let En=this.container,On=this.moduleAnalyzer,Rn=Array(_n.length),Sn,Nn,An,Mn,Pn,In;for(Sn=0,Nn=_n.length;Sn<Nn;++Sn)Pn=_n[Sn],Mn=Ie.c.get(Pn).moduleId,An=On.analyze(Mn,Pn),An.initialize(En),An.register(wn,xn[Sn]),Rn[Sn]=An;for(kn.associatedModuleId&&(In=On.getAnalysis(kn.associatedModuleId),In&&In.register(wn)),Sn=0,Nn=Rn.length;Sn<Nn;++Sn)Rn[Sn]=Rn[Sn].load(En,Cn);return Promise.all(Rn).then(()=>wn)})}_applyLoaderPlugin(yn){let xn=yn.lastIndexOf('.');if(-1!==xn){let wn=yn.substring(xn),kn=this._pluginMap[wn];return void 0===kn?yn:this.loader.applyPluginToUrl(yn,kn)}return yn}},lt.viewModelRequireMetadataKey='aurelia:view-model-require',dt))||st),an=class{constructor(yn,xn,wn,kn){this.behavior=yn,this.instruction=xn,this.viewModel=wn,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=kn,this.elementEvents=kn.elementEvents||null;let Cn=yn.observerLocator.getOrCreateObserversLookup(wn),_n=yn.handlesBind,Sn=xn.attributes,Nn=this.boundProperties=[],An=yn.properties,Mn,Pn;for(yn._ensurePropertiesDefined(wn,Cn),Mn=0,Pn=An.length;Mn<Pn;++Mn)An[Mn]._initialize(wn,Cn,Sn,_n,Nn)}created(yn){this.behavior.handlesCreated&&this.viewModel.created(yn,this.view)}automate(yn,xn){this.view.bindingContext=this.viewModel,this.view.overrideContext=yn||w.i(Ve.a)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(xn||null,this.view),this.bind(this.view)}bind(yn){let xn=this.behavior.handlesBind,wn=this.boundProperties,kn,Cn,_n,Sn,Nn;if(this.isBound){if(this.scope===yn)return;this.unbind()}for(this.isBound=!0,this.scope=yn,(kn=0,Cn=wn.length);kn<Cn;++kn)_n=wn[kn],Sn=_n.observer,Nn=Sn.selfSubscriber,Sn.publishing=!1,xn&&(Sn.selfSubscriber=null),_n.binding.bind(yn),Sn.call(),Sn.publishing=!0,Sn.selfSubscriber=Nn;let An;null===this.view?xn&&(An=yn.overrideContext,yn.overrideContext.__parentOverrideContext!==void 0&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(An=Object.assign({},yn.overrideContext),An.parentOverrideContext=yn.overrideContext.__parentOverrideContext),this.viewModel.bind(yn.bindingContext,An)):(xn&&(this.view.viewModelScope=yn),this.viewModel===yn.overrideContext.bindingContext?An=yn.overrideContext:this.instruction.inheritBindingContext?An=w.i(Ve.a)(this.viewModel,yn.overrideContext):(An=w.i(Ve.a)(this.viewModel),An.__parentOverrideContext=yn.overrideContext),this.view.bind(this.viewModel,An))}unbind(){if(this.isBound){let yn=this.boundProperties,xn,wn;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),(xn=0,wn=yn.length);xn<wn;++xn)yn[xn].binding.unbind()}}attached(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())}detached(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())}},on=(ut=w.i(Ve.d)(),ut(ct=class{constructor(yn,xn,wn,kn,Cn){this.taskQueue=yn,this.obj=xn,this.propertyName=wn,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=kn,this.currentValue=this.oldValue=Cn}getValue(){return this.currentValue}setValue(yn){let xn=this.currentValue;xn!==yn&&(this.oldValue=xn,this.currentValue=yn,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))}call(){let yn=this.oldValue,xn=this.currentValue;this.notqueued=!0;xn===yn||(this.selfSubscriber&&this.selfSubscriber(xn,yn),this.callSubscribers(xn,yn),this.oldValue=xn)}subscribe(yn,xn){this.addSubscriber(yn,xn)}unsubscribe(yn,xn){this.removeSubscriber(yn,xn)}})||ct),sn=class{constructor(yn){'string'==typeof yn?this.name=yn:Object.assign(this,yn),this.attribute=this.attribute||A(this.name),(null===this.defaultBindingMode||this.defaultBindingMode===void 0)&&(this.defaultBindingMode=Ve.e.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}registerWith(yn,xn,wn){return xn.properties.push(this),xn.attributes[this.attribute]=this,this.owner=xn,wn?(this.descriptor=wn,this._configureDescriptor(xn,wn)):void 0}_configureDescriptor(yn,xn){let wn=this.name;return xn.configurable=!0,xn.enumerable=!0,'initializer'in xn&&(this.defaultValue=xn.initializer,delete xn.initializer,delete xn.writable),'value'in xn&&(this.defaultValue=xn.value,delete xn.value,delete xn.writable),xn.get=function(){return ee(yn,this,wn).getValue()},xn.set=function(kn){ee(yn,this,wn).setValue(kn)},xn.get.getObserver=function(kn){return ee(yn,kn,wn)},xn}defineOn(yn,xn){let wn=this.name,kn;null===this.changeHandler&&(kn=wn+'Changed',kn in yn.prototype&&(this.changeHandler=kn)),null===this.descriptor&&Object.defineProperty(yn.prototype,wn,this._configureDescriptor(xn,{}))}createObserver(yn){let xn=null,wn=this.defaultValue,kn=this.changeHandler,Cn=this.name,_n;if(!this.hasOptions){if(kn in yn)xn='propertyChanged'in yn?(Sn,Nn)=>{yn[kn](Sn,Nn),yn.propertyChanged(Cn,Sn,Nn)}:(Sn,Nn)=>yn[kn](Sn,Nn);else if('propertyChanged'in yn)xn=(Sn,Nn)=>yn.propertyChanged(Cn,Sn,Nn);else if(null!==kn)throw new Error(`Change handler ${kn} was specified but not declared on the class.`);return void 0!==wn&&(_n='function'==typeof wn?wn.call(yn):wn),new on(this.owner.taskQueue,yn,this.name,xn,_n)}}_initialize(yn,xn,wn,kn,Cn){let _n,Sn,Nn,An=this.defaultValue;if(this.isDynamic)for(let Mn in wn)this._createDynamicProperty(yn,xn,kn,Mn,wn[Mn],Cn);else this.hasOptions||(Sn=xn[this.name],null!==wn&&(_n=Sn.selfSubscriber,Nn=wn[this.attribute],kn&&(Sn.selfSubscriber=null),'string'==typeof Nn?(yn[this.name]=Nn,Sn.call()):Nn?Cn.push({observer:Sn,binding:Nn.createBinding(yn)}):void 0!==An&&Sn.call(),Sn.selfSubscriber=_n),Sn.publishing=!0)}_createDynamicProperty(yn,xn,wn,kn,Cn,_n){let Sn=kn+'Changed',Nn=null,An,Mn;Sn in yn?'propertyChanged'in yn?Nn=(Pn,In)=>{yn[Sn](Pn,In),yn.propertyChanged(kn,Pn,In)}:Nn=(Pn,In)=>yn[Sn](Pn,In):'propertyChanged'in yn&&(Nn=(Pn,In)=>yn.propertyChanged(kn,Pn,In)),An=xn[kn]=new on(this.owner.taskQueue,yn,kn,Nn),Object.defineProperty(yn,kn,{configurable:!0,enumerable:!0,get:An.getValue.bind(An),set:An.setValue.bind(An)}),wn&&(An.selfSubscriber=null),'string'==typeof Cn?(yn[kn]=Cn,An.call()):Cn&&(Mn={observer:An,binding:Cn.createBinding(yn)},_n.push(Mn)),An.publishing=!0,An.selfSubscriber=Nn}},ln=0,dn=class bn{constructor(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=re,this.processContent=ne,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}static convention(yn,xn){let wn;return yn.endsWith('CustomAttribute')&&(wn=xn||new bn,wn.attributeName=A(yn.substring(0,yn.length-15))),yn.endsWith('CustomElement')&&(wn=xn||new bn,wn.elementName=A(yn.substring(0,yn.length-13))),wn}addChildBinding(yn){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(yn)}initialize(yn,xn){let wn=xn.prototype,kn=this.properties,Cn=this.attributeName,_n=this.attributeDefaultBindingMode,Sn,Nn,An;if(!this.isInitialized)if(this.isInitialized=!0,xn.__providerId__=te(),this.observerLocator=yn.get(Ve.f),this.taskQueue=yn.get(Te.a),this.target=xn,this.usesShadowDOM=this.targetShadowDOM&&Ee.d.shadowDOM,this.handlesCreated='created'in wn,this.handlesBind='bind'in wn,this.handlesUnbind='unbind'in wn,this.handlesAttached='attached'in wn,this.handlesDetached='detached'in wn,this.htmlName=this.elementName||this.attributeName,null===Cn)for(Sn=0,Nn=kn.length;Sn<Nn;++Sn)kn[Sn].defineOn(xn,this);else if(0===kn.length&&new sn({name:'value',changeHandler:'valueChanged'in wn?'valueChanged':null,attribute:Cn,defaultBindingMode:_n}).registerWith(xn,this),An=kn[0],1===kn.length&&'value'===An.name)An.isDynamic=An.hasOptions=this.hasDynamicOptions,An.defineOn(xn,this);else{for(Sn=0,Nn=kn.length;Sn<Nn;++Sn)if(kn[Sn].defineOn(xn,this),kn[Sn].primaryProperty){if(this.primaryProperty)throw new Error('Only one bindable property on a custom element can be defined as the default');this.primaryProperty=kn[Sn]}An=new sn({name:'value',changeHandler:'valueChanged'in wn?'valueChanged':null,attribute:Cn,defaultBindingMode:_n}),An.hasOptions=!0,An.registerWith(xn,this)}}register(yn,xn){null!==this.attributeName&&yn.registerAttribute(xn||this.attributeName,this,this.attributeName),null!==this.elementName&&yn.registerElement(xn||this.elementName,this)}load(yn,xn,wn,kn,Cn){let _n;return null===this.elementName?Promise.resolve(this):(kn=yn.get(Lt).getViewStrategy(kn||this.viewStrategy||xn),_n=new St(this.targetShadowDOM,!0),kn.moduleId||(kn.moduleId=Ie.c.get(xn).moduleId),kn.loadViewFactory(yn.get(rn),_n,wn,xn).then((Sn)=>{return Cn&&this.viewFactory||(this.viewFactory=Sn),Sn}))}compile(yn,xn,wn,kn,Cn){if(this.liftsContent){if(!kn.viewFactory){let _n=Ee.c.createElement('template'),Sn=Ee.c.createDocumentFragment(),Nn=wn.getAttribute('view-cache'),An=wn.getAttribute('part');wn.removeAttribute(kn.originalAttrName),Ee.c.replaceNode(_n,wn,Cn),Sn.appendChild(wn),kn.viewFactory=yn.compile(Sn,xn),An&&(kn.viewFactory.part=An,wn.removeAttribute('part')),Nn&&(kn.viewFactory.setCacheSize(Nn),wn.removeAttribute('view-cache')),wn=_n}}else if(null!==this.elementName){let _n={};if(this.processContent(yn,xn,wn,kn)&&wn.hasChildNodes()){let Sn=wn.firstChild,Nn=this.usesShadowDOM?null:Ee.c.createElement('au-content'),An,Mn;for(;Sn;)An=Sn.nextSibling,'TEMPLATE'===Sn.tagName&&(Mn=Sn.getAttribute('replace-part'))?(_n[Mn]=yn.compile(Sn,xn),Ee.c.removeNode(Sn,Cn),kn.partReplacements=_n):null!==Nn&&(3===Sn.nodeType&&M(Sn)?Ee.c.removeNode(Sn,Cn):Nn.appendChild(Sn)),Sn=An;null!==Nn&&Nn.hasChildNodes()&&wn.appendChild(Nn),kn.skipContentProcessing=!1}else kn.skipContentProcessing=!0}return wn}create(yn,xn,wn,kn){let _n=null,Cn;xn=xn||Nt.normal,wn=wn||null,kn=kn||null,null!==this.elementName&&wn&&(this.usesShadowDOM?(Cn=wn.attachShadow(this.shadowDOMOptions),yn.registerInstance(Ee.c.boundary,Cn)):(Cn=wn,this.targetShadowDOM&&yn.registerInstance(Ee.c.boundary,Cn))),null!==wn&&(wn.au=_n=wn.au||{});let Sn=xn.viewModel||yn.get(this.target),Nn=new an(this,xn,Sn,yn),An=this.childBindings,Mn;if(this.liftsContent)_n.controller=Nn;else if(null!==this.elementName){if(Mn=xn.viewFactory||this.viewFactory,yn.viewModel=Sn,Mn&&(Nn.view=Mn.create(yn,xn,wn)),null!==wn){if(_n.controller=Nn,Nn.view){if(!this.usesShadowDOM&&(1===wn.childNodes.length||wn.contentElement)){let Pn=wn.childNodes[0]||wn.contentElement;Nn.view.contentView={fragment:Pn},Pn.parentNode&&Ee.c.removeNode(Pn)}if(xn.anchorIsContainer){if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)Nn.view.addBinding(An[Pn].create(wn,Sn,Nn));Nn.view.appendNodesTo(Cn)}else Nn.view.insertNodesBefore(Cn)}else if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)kn.push(An[Pn].create(wn,Sn,Nn));}else if(Nn.view){if(Nn.view.controller=Nn,null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)Nn.view.addBinding(An[Pn].create(xn.host,Sn,Nn));}else if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)kn.push(An[Pn].create(xn.host,Sn,Nn));}else if(null!==An)for(let Pn=0,In=An.length;Pn<In;++Pn)kn.push(An[Pn].create(wn,Sn,Nn));return null!==_n&&(_n[this.htmlName]=Nn),xn.initiatedByBehavior&&Mn&&Nn.view.created(),Nn}_ensurePropertiesDefined(yn,xn){let wn,kn,Cn,_n;if(!('__propertiesDefined__'in xn))for(xn.__propertiesDefined__=!0,wn=this.properties,(kn=0,Cn=wn.length);kn<Cn;++kn)_n=wn[kn].createObserver(yn),void 0!==_n&&(xn[_n.propertyName]=_n)}},un=class{constructor(yn){this.name=yn.name,this.changeHandler=yn.changeHandler||this.name+'Changed',this.selector=yn.selector,this.all=yn.all}create(yn,xn,wn){return new pn(this.selector,yn,this.name,xn,wn,this.changeHandler,this.all)}};const cn=[];let pn=class{constructor(yn,xn,wn,kn,Cn,_n,Sn){this.selector=yn,this.viewHost=xn,this.property=wn,this.viewModel=kn,this.controller=Cn,this.changeHandler=_n in kn?_n:null,this.usesShadowDOM=Cn.behavior.usesShadowDOM,this.all=Sn,this.contentView=!this.usesShadowDOM&&Cn.view&&Cn.view.contentView?Cn.view.contentView:null}matches(yn){if(yn.matches(this.selector)){if(null===this.contentView)return!0;let xn=this.contentView,wn=yn.auAssignedSlot;if(wn&&wn.projectFromAnchors){let kn=wn.projectFromAnchors;for(let Cn=0,_n=kn.length;Cn<_n;++Cn)if(kn[Cn].auOwnerView===xn)return!0;return!1}return yn.auOwnerView===xn}return!1}bind(){let xn=this.viewHost,wn=this.viewModel,kn=xn.__childObserver__;if(!kn){kn=xn.__childObserver__=Ee.c.createMutationObserver(le);let Cn={childList:!0,subtree:!this.usesShadowDOM};kn.observe(xn,Cn),kn.binders=[]}if(kn.binders.push(this),this.usesShadowDOM){let Cn=xn.firstElementChild;if(this.all){let _n=wn[this.property];for(_n?_n.length=0:_n=wn[this.property]=[];Cn;)this.matches(Cn)&&_n.push(Cn.au&&Cn.au.controller?Cn.au.controller.viewModel:Cn),Cn=Cn.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](cn)}else for(;Cn;){if(this.matches(Cn)){let _n=Cn.au&&Cn.au.controller?Cn.au.controller.viewModel:Cn;this.viewModel[this.property]=_n,null!==this.changeHandler&&this.viewModel[this.changeHandler](_n);break}Cn=Cn.nextElementSibling}}}onRemove(yn){if(this.matches(yn)){let xn=yn.au&&yn.au.controller?yn.au.controller.viewModel:yn;if(this.all){let wn=this.viewModel[this.property]||(this.viewModel[this.property]=[]),kn=wn.indexOf(xn);return-1!==kn&&wn.splice(kn,1),!0}return!1}return!1}onAdd(yn){if(this.matches(yn)){let xn=yn.au&&yn.au.controller?yn.au.controller.viewModel:yn;if(this.all){let wn=this.viewModel[this.property]||(this.viewModel[this.property]=[]),kn=0,Cn=yn.previousElementSibling;for(;Cn;)this.matches(Cn)&&kn++,Cn=Cn.previousElementSibling;return wn.splice(kn,0,xn),!0}this.viewModel[this.property]=xn,null!==this.changeHandler&&this.viewModel[this.changeHandler](xn)}return!1}unbind(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)}},mn=(pt=w.i(Le.b)(rn,Lt),pt(mt=class{constructor(yn,xn){this.viewEngine=yn,this.viewLocator=xn}_createControllerAndSwap(yn){function xn(wn){return Promise.resolve(yn.viewSlot.removeAll(!0)).then(()=>{return yn.currentController&&yn.currentController.unbind(),yn.viewSlot.add(wn.view),yn.compositionTransactionNotifier&&yn.compositionTransactionNotifier.done(),wn})}return this.createController(yn).then((wn)=>{return wn.automate(yn.overrideContext,yn.owningView),yn.compositionTransactionOwnershipToken?yn.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>xn(wn)):xn(wn)})}createController(yn){let xn,wn,kn,Cn;return this.ensureViewModel(yn).then(de).then(()=>{xn=yn.childContainer,wn=yn.viewModel,kn=yn.viewModelResource,Cn=kn.metadata;let _n=this.viewLocator.getViewStrategy(yn.view||wn);return yn.viewResources&&_n.makeRelativeTo(yn.viewResources.viewUrl),Cn.load(xn,kn.value,null,_n,!0)}).then((_n)=>Cn.create(xn,Nt.dynamic(yn.host,wn,_n)))}ensureViewModel(yn){let xn=yn.childContainer=yn.childContainer||yn.container.createChild();if('string'==typeof yn.viewModel)return yn.viewModel=yn.viewResources?yn.viewResources.relativeToView(yn.viewModel):yn.viewModel,this.viewEngine.importViewModelResource(yn.viewModel).then((kn)=>{return xn.autoRegister(kn.value),yn.host&&xn.registerInstance(Ee.c.Element,yn.host),yn.viewModel=xn.viewModel=xn.get(kn.value),yn.viewModelResource=kn,yn});let wn=Ie.a.getOrCreateOwn(Ie.a.resource,dn,yn.viewModel.constructor);return wn.elementName=wn.elementName||'dynamic-element',wn.initialize(yn.container||xn,yn.viewModel.constructor),yn.viewModelResource={metadata:wn,value:yn.viewModel.constructor},xn.viewModel=yn.viewModel,Promise.resolve(yn)}compose(yn){yn.childContainer=yn.childContainer||yn.container.createChild(),yn.view=this.viewLocator.getViewStrategy(yn.view);let xn=yn.childContainer.get(xt),wn=xn.tryCapture();return(wn?yn.compositionTransactionOwnershipToken=wn:yn.compositionTransactionNotifier=xn.enlist(),yn.viewModel)?this._createControllerAndSwap(yn):yn.view?(yn.viewResources&&yn.view.makeRelativeTo(yn.viewResources.viewUrl),yn.view.loadViewFactory(this.viewEngine,new St).then((kn)=>{let Cn=kn.create(yn.childContainer);Cn.bind(yn.bindingContext,yn.overrideContext);let _n=()=>{return Promise.resolve(yn.viewSlot.removeAll(!0)).then(()=>{return yn.viewSlot.add(Cn),yn.compositionTransactionNotifier&&yn.compositionTransactionNotifier.done(),Cn})};return yn.compositionTransactionOwnershipToken?yn.compositionTransactionOwnershipToken.waitForCompositionComplete().then(_n):_n()})):yn.viewSlot?(yn.viewSlot.removeAll(),yn.compositionTransactionNotifier&&yn.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)}})||mt),gn=class{initialize(){}register(){}load(yn,xn){let wn=new xn,kn=yn.get(Ve.g);kn.registerElementConfig(wn)}};let vn=(gt=w.i(Le.b)(Le.a,en,Xt,mn),gt(ht=class{constructor(yn,xn,wn,kn){this._container=yn,this._moduleAnalyzer=xn,this._viewCompiler=wn,this._compositionEngine=kn,yn.registerInstance(vt,vt.instance=new vt)}configureAnimator(yn){this._container.unregister(vt),this._container.registerInstance(vt,vt.instance=yn)}compose(yn){return this._compositionEngine.compose(yn)}enhance(yn){yn instanceof Ee.c.Element&&(yn={element:yn});let xn={},wn=yn.resources||this._container.get(zt);this._viewCompiler._compileNode(yn.element,wn,xn,yn.element.parentNode,'root',!0);let kn=new Kt(yn.element,xn,wn),Cn=yn.container||this._container.createChild(),_n=kn.create(Cn,Nt.enhance());return _n.bind(yn.bindingContext||{},yn.overrideContext),_n}})||ht)},10:function(u,h,w){'use strict';function N(Oe,Re,Le=!1){return Re||'#'===Oe[0]||(Oe='#'+Oe),Re&&Le&&(Oe=Oe.substring(1,Oe.length)),Oe}function A(Oe,Re,Le,Ve){if(de.test(Oe))return Oe;let Te='';return Re.length&&'/'!==Re[0]&&(Te+='/'),Te+=Re,Te.length&&'/'===Te[Te.length-1]||'/'===Oe[0]||(Te+='/'),Te.length&&'/'===Te[Te.length-1]&&'/'===Oe[0]&&(Te=Te.substring(0,Te.length-1)),N(Te+Oe,Le,Ve)}function M(Oe,Re,Le){return le.test(Oe)?N(Oe,Le):A(Oe,Re,Le)}function I(Oe,Re){return(Le)=>{return Promise.resolve({status:Re,output:Le,completed:Re===ue.completed})}}function R(Oe){Oe.previousInstruction=null,Oe.plan=null}function L(Oe){return Oe&&'function'==typeof Oe.navigate}function V(Oe,Re){let Le=Oe.previousInstruction,Ve=Oe.config,Te={};if('redirect'in Ve){let Fe=M(Ve.redirect,F(Oe));return Oe.queryString&&(Fe+='?'+Oe.queryString),Promise.reject(new he(Fe))}if(Le){let Fe=T(Le,Oe),qe=[];for(let je in Le.viewPortInstructions){let Be=Le.viewPortInstructions[je],ze=Ve.viewPorts[je];if(!ze)throw new Error(`Invalid Route Config: Configuration for viewPort "${je}" was not found for route: "${Oe.config.route}."`);let De=Te[je]={name:je,config:ze,prevComponent:Be.component,prevModuleId:Be.moduleId};if(De.strategy=Be.moduleId===ze.moduleId?'determineActivationStrategy'in Be.component.viewModel?Be.component.viewModel.determineActivationStrategy(...Oe.lifecycleArgs):Ve.activationStrategy?Ve.activationStrategy:Fe||Re?be.invokeLifecycle:be.noChange:be.replace,De.strategy!==be.replace&&Be.childRouter){let He=Oe.getWildcardPath(),Ue=Be.childRouter._createNavigationInstruction(He,Oe).then((We)=>{return De.childNavigationInstruction=We,V(We,De.strategy===be.invokeLifecycle).then((Qe)=>{We.plan=Qe})});qe.push(Ue)}}return Promise.all(qe).then(()=>Te)}for(let Fe in Ve.viewPorts)Te[Fe]={name:Fe,strategy:be.replace,config:Oe.config.viewPorts[Fe]};return Promise.resolve(Te)}function T(Oe,Re){let Le=Oe.params,Ve=Re.params,Te=Re.config.hasChildRouter?Re.getWildCardName():null;for(let je in Ve)if(je!==Te&&Le[je]!==Ve[je])return!0;for(let je in Le)if(je!==Te&&Le[je]!==Ve[je])return!0;if(!Re.options.compareQueryParams)return!1;let Fe=Oe.queryParams,qe=Re.queryParams;for(let je in qe)if(Fe[je]!==qe[je])return!0;for(let je in Fe)if(Fe[je]!==qe[je])return!0;return!1}function F(Oe){let Re=[];for(Oe=Oe.parentInstruction;Oe;)Re.unshift(Oe.getBaseUrl()),Oe=Oe.parentInstruction;return Re.unshift('/'),Re.join('')}function B(Oe){if('object'!=typeof Oe)throw new Error('Invalid Route Config');if('string'!=typeof Oe.route){let Le=Oe.name||'(no name)';throw new Error('Invalid Route Config for "'+Le+'": You must specify a "route:" pattern.')}if(!('redirect'in Oe||Oe.moduleId||Oe.navigationStrategy||Oe.viewPorts))throw new Error('Invalid Route Config for "'+Oe.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function z(Oe,Re,Le){return Promise.resolve(Re.call(Le,Oe)).then(()=>{return'viewPorts'in Oe.config||(Oe.config.viewPorts={'default':{moduleId:Oe.config.moduleId}}),Oe})}function D(Oe,Re,Le,Ve){function Te(Be){return Ve||K(Be)?Fe():Le.cancel(Be)}function Fe(){if(je--)try{let Be=qe[je],ze=Be[Re]();return $(ze,Te,Le.cancel)}catch(Be){return Le.cancel(Be)}return Le()}let qe=H(Oe,Re),je=qe.length;return Fe()}function H(Oe,Re,Le=[]){for(let Ve in Oe){let Te=Oe[Ve],Fe=Te.prevComponent;if((Te.strategy===be.invokeLifecycle||Te.strategy===be.replace)&&Fe){let qe=Fe.viewModel;Re in qe&&Le.push(qe)}Te.childNavigationInstruction?H(Te.childNavigationInstruction.plan,Re,Le):Fe&&U(Fe,Re,Le)}return Le}function U(Oe,Re,Le){let Ve=Oe.childRouter;if(Ve&&Ve.currentInstruction){let Te=Ve.currentInstruction.viewPortInstructions;for(let Fe in Te){let qe=Te[Fe],je=qe.component,Be=je.viewModel;Re in Be&&Le.push(Be),U(je,Re,Le)}}}function W(Oe,Re,Le,Ve){function Te(ze,De){return Ve||K(ze,De)?Fe():Le.cancel(ze)}function Fe(){if(Be++,Be<je)try{let ze=qe[Be],De=ze.viewModel[Re](...ze.lifecycleArgs);return $(De,(He)=>Te(He,ze.router),Le.cancel)}catch(ze){return Le.cancel(ze)}return Le()}let qe=Q(Oe,Re),je=qe.length,Be=-1;return Fe()}function Q(Oe,Re,Le=[],Ve){let Te=Oe.plan;return Object.keys(Te).filter((Fe)=>{let qe=Te[Fe],je=Oe.viewPortInstructions[Fe],Be=je.component.viewModel;(qe.strategy===be.invokeLifecycle||qe.strategy===be.replace)&&Re in Be&&Le.push({viewModel:Be,lifecycleArgs:je.lifecycleArgs,router:Ve}),qe.childNavigationInstruction&&Q(qe.childNavigationInstruction,Re,Le,je.component.childRouter||Ve)}),Le}function K(Oe,Re){return!(Oe instanceof Error)&&(L(Oe)?('function'==typeof Oe.setRouter&&Oe.setRouter(Re),!!Oe.shouldContinueProcessing):!(void 0!==Oe)||Oe)}function $(Oe,Re,Le){if(Oe&&'function'==typeof Oe.then)return Promise.resolve(Oe).then(Re).catch(Le);if(Oe&&'function'==typeof Oe.subscribe){return new Se((Te)=>Oe.subscribe({next(){Te.subscribed&&(Te.unsubscribe(),Re(Oe))},error(Fe){Te.subscribed&&(Te.unsubscribe(),Le(Fe))},complete(){Te.subscribed&&(Te.unsubscribe(),Re(Oe))}}))}try{return Re(Oe)}catch(Ve){return Le(Ve)}}function Y(Oe,Re){let Le=X(Re),Ve=Le.map((Te)=>Z(Oe,Te.navigationInstruction,Te.viewPortPlan));return Promise.all(Ve)}function X(Oe,Re=[]){let Le=Oe.plan;for(let Ve in Le){let Te=Le[Ve];if(Te.strategy===be.replace)Re.push({viewPortPlan:Te,navigationInstruction:Oe}),Te.childNavigationInstruction&&X(Te.childNavigationInstruction,Re);else{let Fe=Oe.addViewPortInstruction(Ve,Te.strategy,Te.prevModuleId,Te.prevComponent);Te.childNavigationInstruction&&(Fe.childNavigationInstruction=Te.childNavigationInstruction,X(Te.childNavigationInstruction,Re))}}return Re}function Z(Oe,Re,Le){let Ve=Le.config.moduleId;return J(Oe,Re,Le.config).then((Te)=>{let Fe=Re.addViewPortInstruction(Le.name,Le.strategy,Ve,Te),qe=Te.childRouter;if(qe){let je=Re.getWildcardPath();return qe._createNavigationInstruction(je,Re).then((Be)=>{return Le.childNavigationInstruction=Be,V(Be).then((ze)=>{return Be.plan=ze,Fe.childNavigationInstruction=Be,Y(Oe,Be)})})}})}function J(Oe,Re,Le){let Ve=Re.router,Te=Re.lifecycleArgs;return Oe.loadRoute(Ve,Le,Re).then((Fe)=>{let{viewModel:qe,childContainer:je}=Fe;if(Fe.router=Ve,Fe.config=Le,'configureRouter'in qe){let Be=je.getChildRouter();return Fe.childRouter=Be,Be.configure((ze)=>qe.configureRouter(ze,Be,...Te)).then(()=>Fe)}return Fe})}function ee(Oe,Re,Le,Ve){Re&&'completed'in Re&&'output'in Re||(Re=Re||{},Re.output=new Error(`Expected router pipeline to return a navigation result, but got [${JSON.stringify(Re)}] instead.`));let Te=null;return L(Re.output)?Re.output.navigate(Ve):(Te=Re,!Re.completed&&(Re.output instanceof Error&&Ie.error(Re.output),ne(Ve))),Ve._dequeueInstruction(Le+1).then((Fe)=>Te||Fe||Re)}function te(Oe,Re,Le,Ve){if(Oe.resolve(Re),!Le){Ve.isNavigating=!1;let Te={instruction:Oe,result:Re},Fe;if(Re.output instanceof Error)Fe='error';else if(!Re.completed)Fe='canceled';else{let qe=Oe.queryString?'?'+Oe.queryString:'';Ve.history.previousLocation=Oe.fragment+qe,Fe='success'}Ve.events.publish(`router:navigation:${Fe}`,Te),Ve.events.publish('router:navigation:complete',Te)}return Re}function ne(Oe){let Re=Oe.history.previousLocation;Re?Oe.navigate(Oe.history.previousLocation,{trigger:!1,replace:!0}):Oe.fallbackRoute?Oe.navigate(Oe.fallbackRoute,{trigger:!0,replace:!0}):Ie.error('Router navigation failed, and no previous location or fallbackRoute could be restored.')}var re=w(5),ie=w(28),ae=w(2),oe=w(14),se=w('aurelia-event-aggregator');w.d(h,'b',function(){return xe}),w.d(h,'a',function(){return Ne}),w.d(h,'c',function(){return Ee});const le=/^#?\//,de=/^([a-z][a-z0-9+\-.]*:)?\/\//i,ue={completed:'completed',canceled:'canceled',rejected:'rejected',running:'running'};let ce=class{constructor(){this.steps=[]}addStep(Re){let Le;if('function'==typeof Re)Le=Re;else{if('function'==typeof Re.getSteps){let Ve=Re.getSteps();for(let Te=0,Fe=Ve.length;Te<Fe;Te++)this.addStep(Ve[Te]);return this}Le=Re.run.bind(Re)}return this.steps.push(Le),this}run(Re){function Le(){if(Ve++,Ve<Te.length){let Fe=Te[Ve];try{return Fe(Re,Le)}catch(qe){return Le.reject(qe)}}else return Le.complete()}let Ve=-1,Te=this.steps;return Le.complete=I(Le,ue.completed),Le.cancel=I(Le,ue.canceled),Le.reject=I(Le,ue.rejected),Le()}},pe=class{run(Re,Le){return Re._commitChanges(!0).then(()=>{return Re._updateTitle(),Le()})}},me=class{constructor(Re){this.plan=null,this.options={},Object.assign(this,Re),this.params=this.params||{},this.viewPortInstructions={};let Le=[],Ve=this;do{let Fe=Object.assign({},Ve.params);Ve.config&&Ve.config.hasChildRouter&&delete Fe[Ve.getWildCardName()],Le.unshift(Fe),Ve=Ve.parentInstruction}while(Ve);let Te=Object.assign({},this.queryParams,...Le);this.lifecycleArgs=[Te,this.config,this]}getAllInstructions(){let Re=[this];for(let Le in this.viewPortInstructions){let Ve=this.viewPortInstructions[Le].childNavigationInstruction;Ve&&Re.push(...Ve.getAllInstructions())}return Re}getAllPreviousInstructions(){return this.getAllInstructions().map((Re)=>Re.previousInstruction).filter((Re)=>Re)}addViewPortInstruction(Re,Le,Ve,Te){let Fe=this.viewPortInstructions[Re]={name:Re,strategy:Le,moduleId:Ve,component:Te,childRouter:Te.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return Fe}getWildCardName(){let Re=this.config.route.lastIndexOf('*');return this.config.route.substr(Re+1)}getWildcardPath(){let Re=this.getWildCardName(),Le=this.params[Re]||'';return this.queryString&&(Le+='?'+this.queryString),Le}getBaseUrl(){if(!this.params)return this.fragment;let Re=this.getWildCardName(),Le=this.params[Re]||'';return Le?(Le=encodeURI(Le),this.fragment.substr(0,this.fragment.lastIndexOf(Le))):this.fragment}_commitChanges(Re){let Le=this.router;Le.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,Le._refreshBaseUrl(),Le.refreshNavigation();let Ve=[],Te=[];for(let Fe in this.viewPortInstructions){let qe=this.viewPortInstructions[Fe],je=Le.viewPorts[Fe];if(!je)throw new Error(`There was no router-view found in the view for ${qe.moduleId}.`);qe.strategy===be.replace?(Re&&Te.push({viewPort:je,viewPortInstruction:qe}),Ve.push(je.process(qe,Re).then(()=>{return qe.childNavigationInstruction?qe.childNavigationInstruction._commitChanges():void 0}))):qe.childNavigationInstruction&&Ve.push(qe.childNavigationInstruction._commitChanges(Re))}return Promise.all(Ve).then(()=>{return Te.forEach((Fe)=>Fe.viewPort.swap(Fe.viewPortInstruction)),null}).then(()=>R(this))}_updateTitle(){let Re=this._buildTitle();Re&&this.router.history.setTitle(Re)}_buildTitle(Re=' | '){let Le='',Ve=[];for(let Te in this.config.navModel.title&&(Le=this.router.transformTitle(this.config.navModel.title)),this.viewPortInstructions){let Fe=this.viewPortInstructions[Te];if(Fe.childNavigationInstruction){let qe=Fe.childNavigationInstruction._buildTitle(Re);qe&&Ve.push(qe)}}return Ve.length&&(Le=Ve.join(Re)+(Le?Re:'')+Le),this.router.title&&(Le+=(Le?Re:'')+this.router.transformTitle(this.router.title)),Le}},ge=class{constructor(Re,Le){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=Re,this.relativeHref=Le}setTitle(Re){this.title=Re,this.isActive&&this.router.updateTitle()}},he=class{constructor(Re,Le={}){this.url=Re,this.options=Object.assign({trigger:!0,replace:!0},Le),this.shouldContinueProcessing=!1}setRouter(Re){this.router=Re}navigate(Re){let Le=this.options.useAppRouter?Re:this.router||Re;Le.navigate(this.url,this.options)}},ve=class{constructor(){this.instructions=[],this.options={},this.pipelineSteps=[]}addPipelineStep(Re,Le){return this.pipelineSteps.push({name:Re,step:Le}),this}addAuthorizeStep(Re){return this.addPipelineStep('authorize',Re)}addPreActivateStep(Re){return this.addPipelineStep('preActivate',Re)}addPreRenderStep(Re){return this.addPipelineStep('preRender',Re)}addPostRenderStep(Re){return this.addPipelineStep('postRender',Re)}fallbackRoute(Re){return this._fallbackRoute=Re,this}map(Re){return Array.isArray(Re)?(Re.forEach(this.map.bind(this)),this):this.mapRoute(Re)}mapRoute(Re){return this.instructions.push((Le)=>{let Ve=[];if(Array.isArray(Re.route))for(let Fe=0,qe=Re.route.length,je;Fe<qe;++Fe)je=Object.assign({},Re),je.route=Re.route[Fe],Ve.push(je);else Ve.push(Object.assign({},Re));let Te;for(let Fe=0,qe=Ve.length,je;Fe<qe;++Fe)je=Ve[Fe],je.settings=je.settings||{},Te||(Te=Le.createNavModel(je)),Le.addRoute(je,Te)}),this}mapUnknownRoutes(Re){return this.unknownRouteConfig=Re,this}exportToRouter(Re){let Le=this.instructions;for(let Te=0,Fe=Le.length;Te<Fe;++Te)Le[Te](Re);this.title&&(Re.title=this.title),this.unknownRouteConfig&&Re.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(Re.fallbackRoute=this._fallbackRoute),Re.options=this.options;let Ve=this.pipelineSteps;if(Ve.length){if(!Re.isRoot)throw new Error('Pipeline steps can only be added to the root router');let Te=Re.pipelineProvider;for(let Fe=0,qe=Ve.length;Fe<qe;++Fe){let{name:je,step:Be}=Ve[Fe];Te.addStep(je,Be)}}}};const be={noChange:'no-change',invokeLifecycle:'invoke-lifecycle',replace:'replace'};let ye=class{run(Re,Le){return V(Re).then((Ve)=>{return Re.plan=Ve,Le()}).catch(Le.cancel)}},xe=class Oe{constructor(Re,Le){this.parent=null,this.options={},this.transformTitle=(Ve)=>{return this.parent?this.parent.transformTitle(Ve):Ve},this.container=Re,this.history=Le,this.reset()}reset(){this.viewPorts={},this.routes=[],this.baseUrl='',this.isConfigured=!1,this.isNavigating=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new ie.a,this._childRecognizer=new ie.a,this._configuredPromise=new Promise((Re)=>{this._resolveConfiguredPromise=Re})}get isRoot(){return!this.parent}registerViewPort(Re,Le){Le=Le||'default',this.viewPorts[Le]=Re}ensureConfigured(){return this._configuredPromise}configure(Re){this.isConfigured=!0;let Le=Re,Ve;return'function'==typeof Re&&(Ve=new ve,Le=Re(Ve)),Promise.resolve(Le).then((Te)=>{Te&&Te.exportToRouter&&(Ve=Te),Ve.exportToRouter(this),this.isConfigured=!0,this._resolveConfiguredPromise()})}navigate(Re,Le){return!this.isConfigured&&this.parent?this.parent.navigate(Re,Le):this.history.navigate(M(Re,this.baseUrl,this.history._hasPushState),Le)}navigateToRoute(Re,Le,Ve){let Te=this.generate(Re,Le);return this.navigate(Te,Ve)}navigateBack(){this.history.navigateBack()}createChild(Re){let Le=new Oe(Re||this.container.createChild(),this.history);return Le.parent=this,Le}generate(Re,Le,Ve={}){let Te=this._recognizer.hasRoute(Re);if((!this.isConfigured||!Te)&&this.parent)return this.parent.generate(Re,Le);if(!Te)throw new Error(`A route with name '${Re}' could not be found. Check that \`name: '${Re}'\` was specified in the route's config.`);let Fe=this._recognizer.generate(Re,Le),qe=A(Fe,this.baseUrl,this.history._hasPushState,Ve.absolute);return Ve.absolute?`${this.history.getAbsoluteRoot()}${qe}`:qe}createNavModel(Re){let Le=new ge(this,'href'in Re?Re.href:Re.route);return Le.title=Re.title,Le.order=Re.nav,Le.href=Re.href,Le.settings=Re.settings,Le.config=Re,Le}addRoute(Re,Le){B(Re,this.routes),'viewPorts'in Re||Re.navigationStrategy||(Re.viewPorts={'default':{moduleId:Re.moduleId,view:Re.view}}),Le||(Le=this.createNavModel(Re)),this.routes.push(Re);let Ve=Re.route;'/'===Ve.charAt(0)&&(Ve=Ve.substr(1));let Te=!0===Re.caseSensitive,Fe=this._recognizer.add({path:Ve,handler:Re,caseSensitive:Te});if(Ve){let qe=Re.settings;delete Re.settings;let je=JSON.parse(JSON.stringify(Re));Re.settings=qe,je.route=`${Ve}/*childRoute`,je.hasChildRouter=!0,this._childRecognizer.add({path:je.route,handler:je,caseSensitive:Te}),je.navModel=Le,je.settings=Re.settings,je.navigationStrategy=Re.navigationStrategy}if(Re.navModel=Le,(Le.order||0===Le.order)&&-1===this.navigation.indexOf(Le)){if(!Le.href&&''!==Le.href&&(Fe.types.dynamics||Fe.types.stars))throw new Error('Invalid route config for "'+Re.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');'number'!=typeof Le.order&&(Le.order=++this._fallbackOrder),this.navigation.push(Le),this.navigation=this.navigation.sort((qe,je)=>qe.order-je.order)}}hasRoute(Re){return!!(this._recognizer.hasRoute(Re)||this.parent&&this.parent.hasRoute(Re))}hasOwnRoute(Re){return this._recognizer.hasRoute(Re)}handleUnknownRoutes(Re){if(!Re)throw new Error('Invalid unknown route handler');this.catchAllHandler=(Le)=>{return this._createRouteConfig(Re,Le).then((Ve)=>{return Le.config=Ve,Le})}}updateTitle(){return this.parent?this.parent.updateTitle():(this.currentInstruction&&this.currentInstruction._updateTitle(),void 0)}refreshNavigation(){let Re=this.navigation;for(let Le=0,Ve=Re.length,Te;Le<Ve;Le++)Te=Re[Le],Te.href=Te.config.href?N(Te.config.href,this.history._hasPushState):A(Te.relativeHref,this.baseUrl,this.history._hasPushState)}_refreshBaseUrl(){if(this.parent){let Re=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+Re}}_createNavigationInstruction(Re='',Le=null){let Ve=Re,Te='',Fe=Re.indexOf('?');-1!==Fe&&(Ve=Re.substr(0,Fe),Te=Re.substr(Fe+1));let qe=this._recognizer.recognize(Re);qe&&qe.length||(qe=this._childRecognizer.recognize(Re));let je={fragment:Ve,queryString:Te,config:null,parentInstruction:Le,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(qe&&qe.length){let Be=qe[0],ze=new me(Object.assign({},je,{params:Be.params,queryParams:Be.queryParams||qe.queryParams,config:Be.config||Be.handler}));if('function'==typeof Be.handler)return z(ze,Be.handler,Be);return Be.handler&&'function'==typeof Be.handler.navigationStrategy?z(ze,Be.handler.navigationStrategy,Be.handler):Promise.resolve(ze)}if(this.catchAllHandler){let Be=new me(Object.assign({},je,{params:{path:Ve},queryParams:qe&&qe.queryParams,config:null}));return z(Be,this.catchAllHandler)}return Promise.reject(new Error(`Route not found: ${Re}`))}_createRouteConfig(Re,Le){return Promise.resolve(Re).then((Ve)=>{if('string'==typeof Ve)return{moduleId:Ve};return'function'==typeof Ve?Ve(Le):Ve}).then((Ve)=>'string'==typeof Ve?{moduleId:Ve}:Ve).then((Ve)=>{return Ve.route=Le.params.path,B(Ve,this.routes),Ve.navModel||(Ve.navModel=this.createNavModel(Ve)),Ve})}},we=class{run(Re,Le){return D(Re.plan,'canDeactivate',Le)}},ke=class{run(Re,Le){return W(Re,'canActivate',Le)}},Ce=class{run(Re,Le){return D(Re.plan,'deactivate',Le,!0)}},_e=class{run(Re,Le){return W(Re,'activate',Le,!0)}},Se=class{constructor(Re){this._subscribed=!0,this._subscription=Re(this),this._subscribed||this.unsubscribe()}get subscribed(){return this._subscribed}unsubscribe(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1}},Ne=class{loadRoute(){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')}},Ae=class{static inject(){return[Ne]}constructor(Re){this.routeLoader=Re}run(Re,Le){return Y(this.routeLoader,Re).then(Le).catch(Le.cancel)}},Me=class{constructor(Re,Le,Ve){this.steps=[],this.container=Re,this.slotName=Le,this.slotAlias=Ve}getSteps(){return this.steps.map((Re)=>this.container.get(Re))}},Pe=class{static inject(){return[ae.a]}constructor(Re){this.container=Re,this.steps=[ye,we,Ae,this._createPipelineSlot('authorize'),ke,this._createPipelineSlot('preActivate','modelbind'),Ce,_e,this._createPipelineSlot('preRender','precommit'),pe,this._createPipelineSlot('postRender','postcomplete')]}createPipeline(){let Re=new ce;return this.steps.forEach((Le)=>Re.addStep(this.container.get(Le))),Re}_findStep(Re){return this.steps.find((Le)=>Le.slotName===Re||Le.slotAlias===Re)}addStep(Re,Le){let Ve=this._findStep(Re);if(Ve)Ve.steps.includes(Le)||Ve.steps.push(Le);else throw new Error(`Invalid pipeline slot name: ${Re}.`)}removeStep(Re,Le){let Ve=this._findStep(Re);Ve&&Ve.steps.splice(Ve.steps.indexOf(Le),1)}_clearSteps(Re=''){let Le=this._findStep(Re);Le&&(Le.steps=[])}reset(){this._clearSteps('authorize'),this._clearSteps('preActivate'),this._clearSteps('preRender'),this._clearSteps('postRender')}_createPipelineSlot(Re,Le){return new Me(this.container,Re,Le)}};const Ie=re.getLogger('app-router');let Ee=class extends xe{static inject(){return[ae.a,oe.a,Pe,se.b]}constructor(Re,Le,Ve,Te){super(Re,Le),this.pipelineProvider=Ve,this.events=Te}reset(){super.reset(),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]}loadUrl(Re){return this._createNavigationInstruction(Re).then((Le)=>this._queueInstruction(Le)).catch((Le)=>{Ie.error(Le),ne(this)})}registerViewPort(Re,Le){if(super.registerViewPort(Re,Le),!this.isActive){let Ve=this._findViewModel(Re);if(!('configureRouter'in Ve))this.activate();else if(!this.isConfigured){let Te=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=()=>{},this.configure((Fe)=>Ve.configureRouter(Fe,this)).then(()=>{this.activate(),Te()})}}else this._dequeueInstruction();return Promise.resolve()}activate(Re){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,Re),this.history.activate(this.options),this._dequeueInstruction())}deactivate(){this.isActive=!1,this.history.deactivate()}_queueInstruction(Re){return new Promise((Le)=>{Re.resolve=Le,this._queue.unshift(Re),this._dequeueInstruction()})}_dequeueInstruction(Re=0){return Promise.resolve().then(()=>{if(!this.isNavigating||Re){let Le=this._queue.shift();if(this._queue.length=0,!!Le){if(this.isNavigating=!0,Le.previousInstruction=this.currentInstruction,!Re)this.events.publish('router:navigation:processing',{instruction:Le});else{if(Re===this.maxInstructionCount-1)return Ie.error(`${Re+1} navigation instructions have been attempted without success. Restoring last known good location.`),ne(this),this._dequeueInstruction(Re+1);if(Re>this.maxInstructionCount)throw new Error('Maximum navigation attempts exceeded. Giving up.')}let Ve=this.pipelineProvider.createPipeline();return Ve.run(Le).then((Te)=>ee(Le,Te,Re,this)).catch((Te)=>{return{output:Te instanceof Error?Te:new Error(Te)}}).then((Te)=>te(Le,Te,!!Re,this))}}})}_findViewModel(Re){if(this.container.viewModel)return this.container.viewModel;if(Re.container)for(let Le=Re.container;Le;){if(Le.viewModel)return this.container.viewModel=Le.viewModel,Le.viewModel;Le=Le.parent}}}},11:function(u,h,w){'use strict';var M=w(0);h.a=function(){M.c.injectStyles(R)},h.b=function(L){M.d.shadowDOM&&L&&!L.hasAureliaHideStyle&&(L.hasAureliaHideStyle=!0,M.c.injectStyles(R,L))};const I='aurelia-hide';h.c=I;const R=`.${I} { display:none !important; }`},12:function(u){function w(){throw new Error('setTimeout has not been defined')}function N(){throw new Error('clearTimeout has not been defined')}function A(W){if(F===setTimeout)return setTimeout(W,0);if((F===w||!F)&&setTimeout)return F=setTimeout,setTimeout(W,0);try{return F(W,0)}catch(Q){try{return F.call(null,W,0)}catch(K){return F.call(this,W,0)}}}function M(W){if(B===clearTimeout)return clearTimeout(W);if((B===N||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(W);try{return B(W)}catch(Q){try{return B.call(null,W)}catch(K){return B.call(this,W)}}}function I(){D&&H&&(D=!1,H.length?z=H.concat(z):U=-1,z.length&&R())}function R(){if(!D){var W=A(I);D=!0;for(var Q=z.length;Q;){for(H=z,z=[];++U<Q;)H&&H[U].run();U=-1,Q=z.length}H=null,D=!1,M(W)}}function L(W,Q){this.fun=W,this.array=Q}function V(){}var T=u.exports={},F,B;(function(){try{F='function'==typeof setTimeout?setTimeout:w}catch(W){F=w}try{B='function'==typeof clearTimeout?clearTimeout:N}catch(W){B=N}})();var z=[],D=!1,H,U=-1;T.nextTick=function(W){var Q=Array(arguments.length-1);if(1<arguments.length)for(var K=1;K<arguments.length;K++)Q[K-1]=arguments[K];z.push(new L(W,Q)),1!==z.length||D||A(R)},L.prototype.run=function(){this.fun.apply(null,this.array)},T.title='browser',T.browser=!0,T.env={},T.argv=[],T.version='',T.versions={},T.on=V,T.addListener=V,T.once=V,T.off=V,T.removeListener=V,T.removeAllListeners=V,T.emit=V,T.binding=function(){throw new Error('process.binding is not supported')},T.cwd=function(){return'/'},T.chdir=function(){throw new Error('process.chdir is not supported')},T.umask=function(){return 0}},13:function(u){u.exports=function(w){if(!w.webpackPolyfill){var N=Object.create(w);N.children||(N.children=[]),Object.defineProperty(N,'loaded',{enumerable:!0,get:function(){return N.l}}),Object.defineProperty(N,'id',{enumerable:!0,get:function(){return N.i}}),Object.defineProperty(N,'exports',{enumerable:!0}),N.webpackPolyfill=1}return N}},14:function(u,h,w){'use strict';function N(M){throw new Error(`History must implement ${M}().`)}w.d(h,'a',function(){return A});let A=class{activate(){N('activate')}deactivate(){N('deactivate')}getAbsoluteRoot(){N('getAbsoluteRoot')}navigate(){N('navigate')}navigateBack(){N('navigateBack')}setTitle(){N('setTitle')}}},15:function(u,h,w){'use strict';w.d(h,'a',function(){return N});let N=class{constructor(M){Object.assign(this,{local:'items',viewsRequireLifecycle:!0},M)}viewCount(){throw new Error('subclass must implement `viewCount`')}views(){throw new Error('subclass must implement `views`')}view(){throw new Error('subclass must implement `view`')}matcher(){throw new Error('subclass must implement `matcher`')}addView(){throw new Error('subclass must implement `addView`')}insertView(){throw new Error('subclass must implement `insertView`')}moveView(){throw new Error('subclass must implement `moveView`')}removeAllViews(){throw new Error('subclass must implement `removeAllViews`')}removeViews(){throw new Error('subclass must implement `removeView`')}removeView(){throw new Error('subclass must implement `removeView`')}updateBindings(){throw new Error('subclass must implement `updateBindings`')}}},16:function(u,h){'use strict';function N(R){let L=R.type,V=null===L.elementName?L.attributeName:L.elementName;return-1===I.indexOf(V)&&(L.handlesAttached||L.handlesBind||L.handlesCreated||L.handlesDetached||L.handlesUnbind)||L.viewFactory&&M(L.viewFactory)||R.viewFactory&&M(R.viewFactory)}function A(R){let L=R.behaviorInstructions;if(L)for(let V=L.length;V--;)if(N(L[V]))return!0;return R.viewFactory&&M(R.viewFactory)}function M(R){if('_viewsRequireLifecycle'in R)return R._viewsRequireLifecycle;if(R._viewsRequireLifecycle=!1,R.viewFactory)return R._viewsRequireLifecycle=M(R.viewFactory),R._viewsRequireLifecycle;if(R.template.querySelector('.au-animate'))return R._viewsRequireLifecycle=!0,!0;for(let L in R.instructions)if(A(R.instructions[L]))return R._viewsRequireLifecycle=!0,!0;return R._viewsRequireLifecycle=!1,!1}h.a=M;const I=['focus','if','repeat','show','with']},17:function(u,h,w){'use strict';var N=w(7),A=w(3);w.d(h,'a',function(){return M});let M=class{getCollectionObserver(R,L){return R.getArrayObserver(L)}instanceChanged(R,L){const V=L.length;if(!L||0===V)return void R.removeAllViews(!0,!R.viewsRequireLifecycle);const T=R.views(),F=T.length;if(0===F)return void this._standardProcessInstanceChanged(R,L);if(R.viewsRequireLifecycle){const B=T.slice(0),z=R.local,D=R.matcher();let H=[];const U=[];for(let K=0;K<F;K++){const $=B[K],Y=$.bindingContext[z];-1===w.i(N.g)(L,Y,D)?U.push($):H.push(Y)}let W,Q;0<H.length?(Q=R.removeViews(U,!0,!R.viewsRequireLifecycle),W=()=>{for(let K=0;K<V;K++){const $=L[K],Y=w.i(N.g)(H,$,D,K);let X;if(-1===Y){const Z=w.i(N.e)(R,L[K],K,V);R.insertView(K,Z.bindingContext,Z),H.splice(K,0,void 0)}else Y===K?(X=T[Y],H[Y]=void 0):(X=T[Y],R.moveView(Y,K),H.splice(Y,1),H.splice(K,0,void 0));X&&w.i(N.h)(X.overrideContext,K,V)}this._inPlaceProcessItems(R,L)}):(Q=R.removeAllViews(!0,!R.viewsRequireLifecycle),W=()=>this._standardProcessInstanceChanged(R,L)),Q instanceof Promise?Q.then(W):W()}else this._inPlaceProcessItems(R,L)}_standardProcessInstanceChanged(R,L){for(let V=0,T=L.length,F;V<T;V++)F=w.i(N.e)(R,L[V],V,T),R.addView(F.bindingContext,F)}_inPlaceProcessItems(R,L){let V=L.length,T=R.viewCount();for(;T>V;)T--,R.removeView(T,!0,!R.viewsRequireLifecycle);let F=R.local;for(let B=0;B<T;B++){let z=R.view(B),D=B===V-1,H=0!==B&&!D;(z.bindingContext[F]!==L[B]||z.overrideContext.$middle!==H||z.overrideContext.$last!==D)&&(z.bindingContext[F]=L[B],z.overrideContext.$middle=H,z.overrideContext.$last=D,R.updateBindings(z))}for(let B=T,z;B<V;B++)z=w.i(N.e)(R,L[B],B,V),R.addView(z.bindingContext,z)}instanceMutated(R,L,V){if(R.__queuedSplices){for(let F=0,B=V.length;F<B;++F){let{index:z,removed:D,addedCount:H}=V[F];w.i(A.l)(R.__queuedSplices,z,D,H)}return void(R.__array=L.slice(0))}let T=this._runSplices(R,L.slice(0),V);if(T instanceof Promise){let F=R.__queuedSplices=[],B=()=>{if(!F.length)return R.__queuedSplices=void 0,void(R.__array=void 0);let z=this._runSplices(R,R.__array,F)||Promise.resolve();F=R.__queuedSplices=[],z.then(B)};T.then(B)}}_runSplices(R,L,V){let T=0,F=[];for(let z=0,D=V.length;z<D;++z){let H=V[z],U=H.removed;for(let W=0,Q=U.length,K;W<Q;++W)K=R.removeView(H.index+T+F.length,!0),K instanceof Promise&&F.push(K);T-=H.addedCount}if(0<F.length)return Promise.all(F).then(()=>{let z=this._handleAddedSplices(R,L,V);w.i(N.f)(R.views(),z)});let B=this._handleAddedSplices(R,L,V);return w.i(N.f)(R.views(),B),void 0}_handleAddedSplices(R,L,V){let T,F,B=L.length;for(let z=0,D=V.length;z<D;++z){let H=V[z],U=T=H.index,W=H.index+H.addedCount;for(('undefined'==typeof F||null===F||F>H.index)&&(F=T);U<W;++U){let Q=w.i(N.e)(R,L[U],U,B);R.insertView(U,Q.bindingContext,Q)}}return F}}},18:function(u,h,w){'use strict';var N=w(3);w.d(h,'a',function(){return A});let A=class{constructor(){this.signals={}}signal(I){let R=this.signals[I];if(R)for(let L=R.length;L--;)R[L].call(N.j)}}},19:function(u,h,w){'use strict';w.d(h,'a',function(){return A});const N=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let A=class{sanitize(I){return I.replace(N,'')}}},2:function(u,h,w){'use strict';function H(Ae){if(null===Ae||Ae===void 0)throw new Error('key/value cannot be null or undefined. Are you trying to inject/register something that doesn\'t exist with DI?')}function U(Ae,Me,Pe,Ie){let Ee=Pe.length,Oe=Array(Ee);for(;Ee--;)Oe[Ee]=Ae.get(Pe[Ee]);return void 0!==Ie&&(Oe=Oe.concat(Ie)),Reflect.construct(Me,Oe)}function W(Ae){return Ae.hasOwnProperty('inject')?'function'==typeof Ae.inject?Ae.inject():Ae.inject:[]}var $=w(4),Y=w(0);w.d(h,'d',function(){return ge}),w.d(h,'a',function(){return Ne}),h.b=function(...Ae){return function(Me,Pe,Ie){if('number'==typeof Ie&&1===Ae.length){let Ee=Me.inject;if('function'==typeof Ee)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return Ee||(Ee=$.a.getOwn($.a.paramTypes,Me).slice(),Me.inject=Ee),void(Ee[Ie]=Ae[0])}if(Ie){const Ee=Ie.value;Ee.inject=Ae}else Me.inject=Ae}};var X,Z,J,ee,te,ne,re,ie,ae,oe,se,le,de,ue;const ce=$.b.create('aurelia:resolver',function(Ae){return!('function'!=typeof Ae.get)||'Resolvers must implement: get(container: Container, key: any): any'});h.c=ce;let pe=(X=ce(),X(Z=class Ae{constructor(Me){this._key=Me}get(Me){return()=>Me.get(this._key)}static of(Me){return new Ae(Me)}})||Z),me=(J=ce(),J(ee=class Ae{constructor(Me){this._key=Me}get(Me){return Me.getAll(this._key)}static of(Me){return new Ae(Me)}})||ee),ge=(te=ce(),te(ne=class Ae{constructor(Me,Pe=!0){this._key=Me,this._checkParent=Pe}get(Me){return Me.hasResolver(this._key,this._checkParent)?Me.get(this._key):null}static of(Me,Pe=!0){return new Ae(Me,Pe)}})||ne),he=(re=ce(),re(ie=class Ae{constructor(Me){this._key=Me}get(Me){return Me.parent?Me.parent.get(this._key):null}static of(Me){return new Ae(Me)}})||ie),fe=(ae=ce(),ae(oe=class{constructor(Me,Pe){this.strategy=Me,this.state=Pe}get(Me,Pe){switch(this.strategy){case 0:return this.state;case 1:let Ie=Me.invoke(this.state);return this.state=Ie,this.strategy=0,Ie;case 2:return Me.invoke(this.state);case 3:return this.state(Me,Pe,this);case 4:return this.state[0].get(Me,Pe);case 5:return Me.get(this.state);default:throw new Error('Invalid strategy: '+this.strategy);}}})||oe),ve=(se=ce(),se(le=class Ae{constructor(Me){this._key=Me}get(Me){return(...Pe)=>Me.invoke(this._key,Pe)}static of(Me){return new Ae(Me)}})||le),be=(de=ce(),de(ue=class Ae{constructor(Me,...Pe){this.key=Me,this.asKey=Me,this.dynamicDependencies=Pe}get(Me){let Pe=0<this.dynamicDependencies.length?this.dynamicDependencies.map((Ee)=>Ee['protocol:aurelia:resolver']?Ee.get(Me):Me.get(Ee)):void 0;const Ie=Me.invoke(this.key,Pe);return Me.registerInstance(this.asKey,Ie),Ie}as(Me){return this.asKey=Me,this}static of(Me,...Pe){return new Ae(Me,...Pe)}})||ue),ye=class{invoke(Me,Pe,Ie){let Ee=Ie.length,Oe=Array(Ee);for(;Ee--;)Oe[Ee]=Me.get(Ie[Ee]);return Pe.apply(void 0,Oe)}invokeWithDynamicDependencies(Me,Pe,Ie,Ee){let Oe=Ie.length,Re=Array(Oe);for(;Oe--;)Re[Oe]=Me.get(Ie[Oe]);return void 0!==Ee&&(Re=Re.concat(Ee)),Pe.apply(void 0,Re)}};ye.instance=new ye;let xe=class{constructor(Me){this._key=Me}registerResolver(Me,Pe,Ie){let Ee=Me.getResolver(this._key||Pe);return Ee===void 0?Me.registerTransient(this._key||Pe,Ie):Ee}},we=class{constructor(Me,Pe=!1){'boolean'==typeof Me?this._registerInChild=Me:(this._key=Me,this._registerInChild=Pe)}registerResolver(Me,Pe,Ie){let Ee=this._registerInChild?Me:Me.root,Oe=Ee.getResolver(this._key||Pe);return Oe===void 0?Ee.registerSingleton(this._key||Pe,Ie):Oe}};const ke=Object.freeze([]);$.a.registration='aurelia:registration',$.a.invoker='aurelia:invoker';let Ce=ce.decorates,_e=class{constructor(Me,Pe,Ie){this.fn=Me,this.invoker=Pe,this.dependencies=Ie}invoke(Me,Pe){return Pe===void 0?this.invoker.invoke(Me,this.fn,this.dependencies):this.invoker.invokeWithDynamicDependencies(Me,this.fn,this.dependencies,Pe)}},Se={[0]:{invoke(Ae,Me){return new Me},invokeWithDynamicDependencies:U},[1]:{invoke(Ae,Me,Pe){return new Me(Ae.get(Pe[0]))},invokeWithDynamicDependencies:U},[2]:{invoke(Ae,Me,Pe){return new Me(Ae.get(Pe[0]),Ae.get(Pe[1]))},invokeWithDynamicDependencies:U},[3]:{invoke(Ae,Me,Pe){return new Me(Ae.get(Pe[0]),Ae.get(Pe[1]),Ae.get(Pe[2]))},invokeWithDynamicDependencies:U},[4]:{invoke(Ae,Me,Pe){return new Me(Ae.get(Pe[0]),Ae.get(Pe[1]),Ae.get(Pe[2]),Ae.get(Pe[3]))},invokeWithDynamicDependencies:U},[5]:{invoke(Ae,Me,Pe){return new Me(Ae.get(Pe[0]),Ae.get(Pe[1]),Ae.get(Pe[2]),Ae.get(Pe[3]),Ae.get(Pe[4]))},invokeWithDynamicDependencies:U},fallback:{invoke:U,invokeWithDynamicDependencies:U}},Ne=class Ae{constructor(Me){Me===void 0&&(Me={}),this._configuration=Me,this._onHandlerCreated=Me.onHandlerCreated,this._handlers=Me.handlers||(Me.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}makeGlobal(){return Ae.instance=this,this}setHandlerCreatedCallback(Me){this._onHandlerCreated=Me,this._configuration.onHandlerCreated=Me}registerInstance(Me,Pe){return this.registerResolver(Me,new fe(0,Pe===void 0?Me:Pe))}registerSingleton(Me,Pe){return this.registerResolver(Me,new fe(1,Pe===void 0?Me:Pe))}registerTransient(Me,Pe){return this.registerResolver(Me,new fe(2,Pe===void 0?Me:Pe))}registerHandler(Me,Pe){return this.registerResolver(Me,new fe(3,Pe))}registerAlias(Me,Pe){return this.registerResolver(Pe,new fe(5,Me))}registerResolver(Me,Pe){H(Me);let Ie=this._resolvers,Ee=Ie.get(Me);return void 0===Ee?Ie.set(Me,Pe):4===Ee.strategy?Ee.state.push(Pe):Ie.set(Me,new fe(4,[Ee,Pe])),Pe}autoRegister(Me,Pe){if(Pe=void 0===Pe?Me:Pe,'function'==typeof Pe){let Ie=$.a.get($.a.registration,Pe);return void 0===Ie?this.registerResolver(Me,new fe(1,Pe)):Ie.registerResolver(this,Me,Pe)}return this.registerResolver(Me,new fe(0,Pe))}autoRegisterAll(Me){for(let Pe=Me.length;Pe--;)this.autoRegister(Me[Pe])}unregister(Me){this._resolvers.delete(Me)}hasResolver(Me,Pe=!1){return H(Me),this._resolvers.has(Me)||Pe&&null!==this.parent&&this.parent.hasResolver(Me,Pe)}getResolver(Me){return this._resolvers.get(Me)}get(Me){if(H(Me),Me===Ae)return this;if(Ce(Me))return Me.get(this,Me);let Pe=this._resolvers.get(Me);if(void 0===Pe){if(null===this.parent)return this.autoRegister(Me).get(this,Me);let Ie=$.a.get($.a.registration,Me);return void 0===Ie?this.parent._get(Me):Ie.registerResolver(this,Me,Me).get(this,Me)}return Pe.get(this,Me)}_get(Me){let Pe=this._resolvers.get(Me);return void 0===Pe?null===this.parent?this.autoRegister(Me).get(this,Me):this.parent._get(Me):Pe.get(this,Me)}getAll(Me){H(Me);let Pe=this._resolvers.get(Me);if(Pe===void 0)return null===this.parent?ke:this.parent.getAll(Me);if(4===Pe.strategy){let Ie=Pe.state,Ee=Ie.length,Oe=Array(Ee);for(;Ee--;)Oe[Ee]=Ie[Ee].get(this,Me);return Oe}return[Pe.get(this,Me)]}createChild(){let Me=new Ae(this._configuration);return Me.root=this.root,Me.parent=this,Me}invoke(Me,Pe){try{let Ie=this._handlers.get(Me);return void 0===Ie&&(Ie=this._createInvocationHandler(Me),this._handlers.set(Me,Ie)),Ie.invoke(this,Pe)}catch(Ie){throw new Y.e(`Error invoking ${Me.name}. Check the inner error for details.`,Ie,!0)}}_createInvocationHandler(Me){let Pe;if(Me.inject===void 0)Pe=$.a.getOwn($.a.paramTypes,Me)||ke;else{Pe=[];for(let Oe=Me;'function'==typeof Oe;)Pe.push(...W(Oe)),Oe=Object.getPrototypeOf(Oe)}let Ie=$.a.getOwn($.a.invoker,Me)||Se[Pe.length]||Se.fallback,Ee=new _e(Me,Ie,Pe);return this._onHandlerCreated===void 0?Ee:this._onHandlerCreated(Ee)}}},20:function(u,h,w){'use strict';var N=w(7);w.d(h,'a',function(){return A});let A=class{getCollectionObserver(I,R){return I.getMapObserver(R)}instanceChanged(I,R){let L=I.removeAllViews(!0,!I.viewsRequireLifecycle);return L instanceof Promise?void L.then(()=>this._standardProcessItems(I,R)):void this._standardProcessItems(I,R)}_standardProcessItems(I,R){let L=0,V;R.forEach((T,F)=>{V=w.i(N.e)(I,T,L,R.size,F),I.addView(V.bindingContext,V),++L})}instanceMutated(I,R,L){let V,T,F,B,z,D,H=[],U;for(T=0,F=L.length;T<F;++T)switch(D=L[T],V=D.key,D.type){case'update':z=this._getViewIndexByKey(I,V),U=I.removeView(z,!0,!I.viewsRequireLifecycle),U instanceof Promise&&H.push(U),B=w.i(N.e)(I,R.get(V),z,R.size,V),I.insertView(z,B.bindingContext,B);break;case'add':B=w.i(N.e)(I,R.get(V),R.size-1,R.size,V),I.insertView(R.size-1,B.bindingContext,B);break;case'delete':if(void 0===D.oldValue)return;z=this._getViewIndexByKey(I,V),U=I.removeView(z,!0,!I.viewsRequireLifecycle),U instanceof Promise&&H.push(U);break;case'clear':I.removeAllViews(!0,!I.viewsRequireLifecycle);break;default:continue;}0<H.length?Promise.all(H).then(()=>{w.i(N.f)(I.views(),0)}):w.i(N.f)(I.views(),0)}_getViewIndexByKey(I,R){let L,V,T;for(L=0,V=I.viewCount();L<V;++L)if(T=I.view(L),T.bindingContext[I.key]===R)return L}}},21:function(u,h,w){'use strict';w.d(h,'a',function(){return N});let N=class{instanceChanged(M){M.removeAllViews(!0)}getCollectionObserver(){}}},22:function(u,h,w){'use strict';var N=w(7);w.d(h,'a',function(){return A});let A=class{getCollectionObserver(){return null}instanceChanged(I,R){let L=I.removeAllViews(!0,!I.viewsRequireLifecycle);return L instanceof Promise?void L.then(()=>this._standardProcessItems(I,R)):void this._standardProcessItems(I,R)}_standardProcessItems(I,R){let L=I.viewCount(),V,T,F,B;if(R=Math.floor(R),B=L-R,0<B){for(B>L&&(B=L),V=0,T=B;V<T;++V)I.removeView(L-(V+1),!0,!I.viewsRequireLifecycle);return}for(V=L,T=R;V<T;++V)F=w.i(N.e)(I,V,V,T),I.addView(F.bindingContext,F);w.i(N.f)(I.views(),0)}}},23:function(u,h,w){'use strict';var N=w(21),A=w(17),M=w(20),I=w(24),R=w(22);w.d(h,'a',function(){return L});let L=class{constructor(){this.matchers=[],this.strategies=[],this.addStrategy((T)=>null===T||T===void 0,new N.a),this.addStrategy((T)=>T instanceof Array,new A.a),this.addStrategy((T)=>T instanceof Map,new M.a),this.addStrategy((T)=>T instanceof Set,new I.a),this.addStrategy((T)=>'number'==typeof T,new R.a)}addStrategy(T,F){this.matchers.push(T),this.strategies.push(F)}getStrategy(T){let F=this.matchers;for(let B=0,z=F.length;B<z;++B)if(F[B](T))return this.strategies[B];return null}}},24:function(u,h,w){'use strict';var N=w(7);w.d(h,'a',function(){return A});let A=class{getCollectionObserver(I,R){return I.getSetObserver(R)}instanceChanged(I,R){let L=I.removeAllViews(!0,!I.viewsRequireLifecycle);return L instanceof Promise?void L.then(()=>this._standardProcessItems(I,R)):void this._standardProcessItems(I,R)}_standardProcessItems(I,R){let L=0,V;R.forEach((T)=>{V=w.i(N.e)(I,T,L,R.size),I.addView(V.bindingContext,V),++L})}instanceMutated(I,R,L){let V,T,F,B,z,D,H=[],U;for(T=0,F=L.length;T<F;++T)switch(D=L[T],V=D.value,D.type){case'add':B=w.i(N.e)(I,V,R.size-1,R.size),I.insertView(R.size-1,B.bindingContext,B);break;case'delete':z=this._getViewIndexByValue(I,V),U=I.removeView(z,!0,!I.viewsRequireLifecycle),U instanceof Promise&&H.push(U);break;case'clear':I.removeAllViews(!0,!I.viewsRequireLifecycle);break;default:continue;}0<H.length?Promise.all(H).then(()=>{w.i(N.f)(I.views(),0)}):w.i(N.f)(I.views(),0)}_getViewIndexByValue(I,R){let L,V,T;for(L=0,V=I.viewCount();L<V;++L)if(T=I.view(L),T.bindingContext[I.local]===R)return L}}},25:function(u){var w=function(){return this}();try{w=w||Function('return this')()||(1,eval)('this')}catch(N){'object'==typeof window&&(w=window)}u.exports=w},26:function(u,h,w){'use strict';(function(N){function A(F,B){let z=F,D,H;if(z.__useDefault&&(z=z.default),M.c.set(z,new M.c(B,'default')),'object'==typeof z)for(D in z)H=z[D],'function'==typeof H&&M.c.set(H,new M.c(B,D));return F}Object.defineProperty(h,'__esModule',{value:!0});var M=w(4),I=w(8),R=w(0);h.ensureOriginOnExports=A;var L=this&&this.__awaiter||function(F,B,z,D){return new(z||(z=Promise))(function(H,U){function W($){try{K(D.next($))}catch(Y){U(Y)}}function Q($){try{K(D['throw']($))}catch(Y){U(Y)}}function K($){$.done?H($.value):new z(function(Y){Y($.value)}).then(W,Q)}K((D=D.apply(F,B)).next())})};class V{loadTemplate(F,B){return L(this,void 0,void 0,function*(){const z=yield F.loadText(B.address);B.template=R.c.createTemplateFromMarkup(z)})}}h.TextTemplateLoader=V;class T extends I.a{constructor(){super(),this.moduleRegistry=Object.create(null),this.loaderPlugins=Object.create(null),this.modulesBeingLoaded=new Map,this.useTemplateLoader(new V),this.addPlugin('template-registry-entry',{fetch:(F)=>L(this,void 0,void 0,function*(){const B=this.getOrCreateTemplateRegistryEntry(F);return B.templateIsLoaded||(yield this.templateLoader.loadTemplate(this,B)),B})}),R.a.eachModule=(F)=>{const B=w.c,z=Object.getOwnPropertyNames(B);z.forEach((D)=>{const H=B[D].exports;'object'==typeof H&&F(D,H)})}}_import(F,B=!0){return L(this,void 0,void 0,function*(){const z=F.split('!'),D=z.splice(z.length-1,1)[0],H=1===z.length?z[0]:null;if(H){const W=this.loaderPlugins[H];if(!W)throw new Error(`Plugin ${H} is not registered in the loader.`);return!1,yield W.fetch(D)}if(w.m[D])return B&&N.hot&&this.hmrContext&&N.hot.accept(D,()=>this.hmrContext.handleModuleChange(D,N.hot)),w(D);const U=`async!${D}`;if(w.m[U]){B&&N.hot&&this.hmrContext&&(N.hot.accept(D,()=>this.hmrContext.handleModuleChange(D,N.hot)),N.hot.accept(U,()=>{}));const W=w(U);return yield new Promise(W)}throw new Error(`Unable to find module with ID: ${D}`)})}map(){}normalizeSync(F){return F}normalize(F){return Promise.resolve(F)}useTemplateLoader(F){this.templateLoader=F}loadAllModules(F){return Promise.all(F.map((B)=>this.loadModule(B)))}loadModule(F,B=!0){return L(this,void 0,void 0,function*(){let z=this.moduleRegistry[F];if(z)return z;let D=this.modulesBeingLoaded.get(F);if(D)return D;D=this._import(F,B),this.modulesBeingLoaded.set(F,D);const H=yield D;return this.moduleRegistry[F]=A(H,F),this.modulesBeingLoaded.delete(F),H})}loadTemplate(F){return this.loadModule(this.applyPluginToUrl(F,'template-registry-entry'),!1)}loadText(F){return L(this,void 0,void 0,function*(){const B=yield this.loadModule(F,!1);return B instanceof Array&&B[0]instanceof Array&&B.hasOwnProperty('toString')?B.toString():B})}applyPluginToUrl(F,B){return`${B}!${F}`}addPlugin(F,B){this.loaderPlugins[F]=B}}h.WebpackLoader=T,R.a.Loader=T}).call(h,w(13)(u))},27:function(u,h,w){'use strict';w(0);if(!1,!1,(!String.prototype.endsWith||function(){try{return!'ab'.endsWith('a',1)}catch(A){return!0}}())&&(String.prototype.endsWith=function(A,M){let I=this.toString();('number'!=typeof M||!isFinite(M)||Math.floor(M)!==M||M>I.length)&&(M=I.length),M-=A.length;let R=I.indexOf(A,M);return-1!==R&&R===M}),(!String.prototype.startsWith||function(){try{return!'ab'.startsWith('b',1)}catch(A){return!0}}())&&(String.prototype.startsWith=function(A,M){return M=M||0,this.substr(M,A.length)===A}),!1,!1,!1,!1,'undefined'==typeof FEATURE_NO_ESNEXT){const A=Object.freeze({}),M='__metadata__';'function'!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(I,R,L){if(R.hasOwnProperty(M))return(R[M][L]||A)[I]}),'function'!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(I,R,L,V){let T=L.hasOwnProperty(M)?L[M]:L[M]={},F=T[V]||(T[V]={});F[I]=R}),'function'!=typeof Reflect.metadata&&(Reflect.metadata=function(I,R){return function(L,V){Reflect.defineMetadata(I,R,L,V)}})}},28:function(u,h,w){'use strict';function N(Q,K,$,Y){let X=Q;'/'===Q.charAt(0)&&(X=Q.substr(1));let Z=[],J=X.split('/');for(let ee=0,te=J.length;ee<te;++ee){let ne=J[ee],re=ne.match(/^:([^?]+)(\?)?$/);if(re){let[,ie,ae]=re;if(-1!==ie.indexOf('='))throw new Error(`Parameter ${ie} in route ${Q} has a default value, which is not supported.`);Z.push(new z(ie,!!ae)),K.push(ie),$.dynamics++;continue}re=ne.match(/^\*(.+)$/),re?(Z.push(new D(re[1])),K.push(re[1]),$.stars++):''===ne?Z.push(new H):(Z.push(new B(ne,Y)),$.statics++)}return Z}function A(Q){return Q.sort((K,$)=>{if(K.types.stars!==$.types.stars)return K.types.stars-$.types.stars;if(K.types.stars){if(K.types.statics!==$.types.statics)return $.types.statics-K.types.statics;if(K.types.dynamics!==$.types.dynamics)return $.types.dynamics-K.types.dynamics}return K.types.dynamics===$.types.dynamics?K.types.statics===$.types.statics?0:$.types.statics-K.types.statics:K.types.dynamics-$.types.dynamics})}function M(Q,K){let $=[];for(let X=0,Z=Q.length,J;X<Z;X++)J=Q[X],$.push(...J.match(K));for(let Y=$.filter((X)=>X.epsilon),X;0<Y.length;)X=[],Y.forEach((Z)=>{$.push(...Z.epsilon),X.push(...Z.epsilon)}),Y=X.filter((Z)=>Z.epsilon);return $}function I(Q,K,$){let Y=Q.handlers,X=Q.regex,Z=K.match(X),J=1,ee=new W($);for(let te=0,ne=Y.length;te<ne;te++){let re=Y[te],ie=re.names,ae={};for(let oe=0,se=ie.length;oe<se;oe++)ae[ie[oe]]=Z[J++];ee.push({handler:re.handler,params:ae,isDynamic:!!ie.length})}return ee}function R(Q,K){let $=Q.put({validChars:'/'});return K.eachChar((Y)=>{$=$.put(Y)}),K.optional&&(Q.epsilon=Q.epsilon||[],Q.epsilon.push($)),$}var L=w(6);w.d(h,'a',function(){return U});let V=class Q{constructor(K){this.charSpec=K,this.nextStates=[]}get(K){for(let $ of this.nextStates){let Y=$.charSpec.validChars===K.validChars&&$.charSpec.invalidChars===K.invalidChars;if(Y)return $}}put(K){let $=this.get(K);return $?$:($=new Q(K),this.nextStates.push($),K.repeat&&$.nextStates.push($),$)}match(K){let $=this.nextStates,Y=[];for(let X=0,Z=$.length;X<Z;X++){let J=$[X],ee=J.charSpec;ee.validChars===void 0?ee.invalidChars!==void 0&&-1===ee.invalidChars.indexOf(K)&&Y.push(J):-1!==ee.validChars.indexOf(K)&&Y.push(J)}return Y}};const F=new RegExp('(\\'+['/','.','*','+','?','|','(',')','[',']','{','}','\\'].join('|\\')+')','g');let B=class{constructor(K,$){this.string=K,this.caseSensitive=$}eachChar(K){let $=this.string;for(let Y=0,X=$.length,Z;Y<X;++Y)Z=$[Y],K({validChars:this.caseSensitive?Z:Z.toUpperCase()+Z.toLowerCase()})}regex(){return this.string.replace(F,'\\$1')}generate(){return this.string}},z=class{constructor(K,$){this.name=K,this.optional=$}eachChar(K){K({invalidChars:'/',repeat:!0})}regex(){return this.optional?'([^/]+)?':'([^/]+)'}generate(K,$){return $[this.name]=!0,K[this.name]}},D=class{constructor(K){this.name=K}eachChar(K){K({invalidChars:'',repeat:!0})}regex(){return'(.+)'}generate(K,$){return $[this.name]=!0,K[this.name]}},H=class{eachChar(){}regex(){return''}generate(){return''}},U=class{constructor(){this.rootState=new V,this.names={}}add(K){if(Array.isArray(K))return K.forEach((ie)=>this.add(ie)),void 0;let $=this.rootState,Y='^',X={statics:0,dynamics:0,stars:0},Z=[],J=K.handler.name,ee=!0,te=!0,ne=N(K.path,Z,X,K.caseSensitive);for(let ie=0,ae=ne.length,oe;ie<ae;ie++)(oe=ne[ie],!(oe instanceof H))&&(ee=!1,te=te&&oe.optional,$=R($,oe),Y+=oe.optional?'/?':'/',Y+=oe.regex());if(te)if(ee)$=$.put({validChars:'/'}),Y+='/';else{let ie=this.rootState.put({validChars:'/'});$.epsilon=[ie],$=ie}let re=[{handler:K.handler,names:Z}];if(J){let ie=Array.isArray(J)?J:[J];for(let ae=0;ae<ie.length;ae++)this.names[ie[ae]]={segments:ne,handlers:re}}return $.handlers=re,$.regex=new RegExp(Y+'$',K.caseSensitive?'':'i'),$.types=X,$}handlersFor(K){let $=this.names[K];if(!$)throw new Error(`There is no route named ${K}`);return[...$.handlers]}hasRoute(K){return!!this.names[K]}generate(K,$){let Y=this.names[K];if(!Y)throw new Error(`There is no route named ${K}`);let X=Y.handlers[0].handler;if(X.generationUsesHref)return X.href;let Z=Object.assign({},$),J=Y.segments,ee={},te='';for(let re=0,ie=J.length,ae;re<ie;re++)if(ae=J[re],!(ae instanceof H)){let oe=ae.generate(Z,ee);if(null!==oe&&void 0!==oe)te+='/',te+=oe;else if(!ae.optional)throw new Error(`A value is required for route parameter '${ae.name}' in route '${K}'.`)}for(let re in'/'!==te.charAt(0)&&(te='/'+te),ee)delete Z[re];let ne=w.i(L.c)(Z);return te+=ne?`?${ne}`:'',te}recognize(K){let $=[this.rootState],Y={},X=!1,Z=K,J=Z.indexOf('?');if(-1!==J){let re=Z.substr(J+1,Z.length);Z=Z.substr(0,J),Y=w.i(L.d)(re)}Z=decodeURI(Z),'/'!==Z.charAt(0)&&(Z='/'+Z);let ee=Z.length;1<ee&&'/'===Z.charAt(ee-1)&&(Z=Z.substr(0,ee-1),X=!0);for(let re=0,ie=Z.length;re<ie&&($=M($,Z.charAt(re)),!!$.length);re++);let te=[];for(let re=0,ie=$.length;re<ie;re++)$[re].handlers&&te.push($[re]);$=A(te);let ne=te[0];return ne&&ne.handlers?(X&&'(.+)$'===ne.regex.source.slice(-5)&&(Z+='/'),I(ne,Z,Y)):void 0}},W=class{constructor(K){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=K||{}}}},29:function(u,h,w){'use strict';function N(z,D){if('string'!=typeof D)throw new Error(`Failed loading required CSS file: ${z}`);return D.replace(T,(H,U)=>{let W=U.charAt(0);return('\''===W||'"'===W)&&(U=U.substr(1,U.length-2)),'url(\''+w.i(L.a)(U,z)+'\')'})}var M=w(1),I=w(8),R=w(2),L=w(6),V=w(0);h.a=function(z){var D,H;let U=(D=w.i(M.g)(new F(z)),D(H=class extends B{})||H);return U};let T=/url\((?!['"]data)([^)]+)\)/gi,F=class{constructor(D){this.address=D,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}initialize(D,H){this._scoped=new H(this)}register(D,H){'scoped'===H?D.registerViewEngineHooks(this._scoped):this._global=!0}load(D){return D.get(I.a).loadText(this.address).catch(()=>null).then((H)=>{H=N(this.address,H),this._scoped.css=H,this._global&&(this._alreadyGloballyInjected=!0,V.c.injectStyles(H))})}},B=class{constructor(D){this.owner=D,this.css=null}beforeCompile(D,H,U){if(U.targetShadowDOM)V.c.injectStyles(this.css,D,!0);else if(V.d.scopedCSS){let W=V.c.injectStyles(this.css,D,!0);W.setAttribute('scoped','scoped')}else this.owner._alreadyGloballyInjected||(V.c.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)}}},3:function(u,h,w){'use strict';function N(fi){if(fi in ct)return ct[fi];const vi=fi.charAt(0).toLowerCase()+fi.slice(1).replace(/[_.-](\w|$)/g,(yi,xi)=>xi.toUpperCase());return ct[fi]=vi,vi}function A(fi,vi){return{bindingContext:fi,parentOverrideContext:vi||null}}function M(fi,vi,yi){let xi=vi.overrideContext;if(yi){for(;yi&&xi;)yi--,xi=xi.parentOverrideContext;return yi||!xi?void 0:fi in xi?xi:xi.bindingContext}for(;xi&&!(fi in xi)&&!(xi.bindingContext&&fi in xi.bindingContext);)xi=xi.parentOverrideContext;return xi?fi in xi?xi:xi.bindingContext:vi.bindingContext||vi.overrideContext}function R(fi){let vi=this._observerSlots===void 0?0:this._observerSlots,yi=vi;for(;yi--&&this[mt[yi]]!==fi;);if(-1===yi){for(yi=0;this[mt[yi]];)yi++;this[mt[yi]]=fi,fi.subscribe(pt,this),yi===vi&&(this._observerSlots=yi+1)}this._version===void 0&&(this._version=0),this[gt[yi]]=this._version}function L(fi,vi){let yi=this.observerLocator.getObserver(fi,vi);R.call(this,yi)}function V(fi){let vi=this.observerLocator.getArrayObserver(fi);R.call(this,vi)}function T(fi){for(let vi=this._observerSlots;vi--;)if(fi||this[gt[vi]]!==this._version){let yi=this[mt[vi]];this[mt[vi]]=null,yi&&yi.unsubscribe(pt,this)}}function F(){return function(fi){fi.prototype.observeProperty=L,fi.prototype.observeArray=V,fi.prototype.unobserve=T,fi.prototype.addObserver=R}}function B(fi){const vi=ht.length;let yi=0;for(;yi<vi;){const xi=ht[yi];if(ft[xi.__connectQueueId]=!1,xi.connect(!0),yi++,0==yi%100&&Fe.a.performance.now()-fi>yt)break}ht.splice(0,yi),ht.length?Fe.a.requestAnimationFrame(B):(xt=!1,wt=0)}function z(fi){if(wt<bt)wt++,fi.connect(!1);else{let vi=fi.__connectQueueId;vi===void 0&&(vi=vt,vt++,fi.__connectQueueId=vi),ft[vi]||(ht.push(fi),ft[vi]=!0)}xt||(xt=!0,Fe.a.requestAnimationFrame(B))}function D(fi,vi){return!this.hasSubscriber(fi,vi)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(fi),this._callablesRest.push(vi),!0):(this._contextsRest=[fi],this._callablesRest=[vi],!0):(this._context2=fi,this._callable2=vi,!0):(this._context1=fi,this._callable1=vi,!0):(this._context0=fi,this._callable0=vi,!0))}function H(fi,vi){if(this._context0===fi&&this._callable0===vi)return this._context0=null,this._callable0=null,!0;if(this._context1===fi&&this._callable1===vi)return this._context1=null,this._callable1=null,!0;if(this._context2===fi&&this._callable2===vi)return this._context2=null,this._callable2=null,!0;let yi=this._contextsRest,xi;return yi&&yi.length&&-1!==(xi=yi.indexOf(fi))&&this._callablesRest[xi]===vi&&(yi.splice(xi,1),this._callablesRest.splice(xi,1),!0)}function U(fi,vi){let yi=this._context0,xi=this._callable0,wi=this._context1,ki=this._callable1,Ci=this._context2,_i=this._callable2,Ni=this._contextsRest?this._contextsRest.length:0,Ai,Mi,Pi,Ii;if(Ni){for(Pi=_t.length;Pi--&&_t[Pi];);for(0>Pi?(Pi=_t.length,Ai=[],Mi=[],_t.push(!0),kt.push(Ai),Ct.push(Mi)):(_t[Pi]=!0,Ai=kt[Pi],Mi=Ct[Pi]),Ii=Ni;Ii--;)Ai[Ii]=this._contextsRest[Ii],Mi[Ii]=this._callablesRest[Ii]}if(yi&&(xi?xi.call(yi,fi,vi):yi(fi,vi)),wi&&(ki?ki.call(wi,fi,vi):wi(fi,vi)),Ci&&(_i?_i.call(Ci,fi,vi):Ci(fi,vi)),Ni){for(Ii=0;Ii<Ni;Ii++){let Ei=Mi[Ii],Oi=Ai[Ii];Ei?Ei.call(Oi,fi,vi):Oi(fi,vi),Ai[Ii]=null,Mi[Ii]=null}_t[Pi]=!1}}function W(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function Q(fi,vi){let yi=this._context0===fi&&this._callable0===vi||this._context1===fi&&this._callable1===vi||this._context2===fi&&this._callable2===vi;if(yi)return!0;let xi,wi=this._contextsRest;if(!wi||0===(xi=wi.length))return!1;for(let ki=this._callablesRest;xi--;)if(wi[xi]===fi&&ki[xi]===vi)return!0;return!1}function K(){return function(fi){fi.prototype.addSubscriber=D,fi.prototype.removeSubscriber=H,fi.prototype.callSubscribers=U,fi.prototype.hasSubscribers=W,fi.prototype.hasSubscriber=Q}}function $(fi){return+fi==fi>>>0}function Y(fi){return+fi}function X(fi,vi,yi){return{index:fi,removed:vi,addedCount:yi}}function Z(){}function J(fi,vi,yi,xi,wi,ki){return It.calcSplices(fi,vi,yi,xi,wi,ki)}function ee(fi,vi,yi,xi){return vi<yi||xi<fi?-1:vi===yi||xi===fi?0:fi<yi?vi<xi?vi-yi:xi-yi:xi<vi?xi-fi:vi-fi}function te(fi,vi,yi,xi){let wi=X(vi,yi,xi),ki=!1,Ci=0;for(let _i=0,Ni;_i<fi.length;_i++)if(Ni=fi[_i],Ni.index+=Ci,!ki){let Ai=ee(wi.index,wi.index+wi.removed.length,Ni.index,Ni.index+Ni.addedCount);if(0<=Ai){fi.splice(_i,1),_i--,Ci-=Ni.addedCount-Ni.removed.length,wi.addedCount+=Ni.addedCount-Ai;let Mi=wi.removed.length+Ni.removed.length-Ai;if(!wi.addedCount&&!Mi)ki=!0;else{let Pi=Ni.removed;if(wi.index<Ni.index){let Ii=wi.removed.slice(0,Ni.index-wi.index);Array.prototype.push.apply(Ii,Pi),Pi=Ii}if(wi.index+wi.removed.length>Ni.index+Ni.addedCount){let Ii=wi.removed.slice(Ni.index+Ni.addedCount-wi.index);Array.prototype.push.apply(Pi,Ii)}wi.removed=Pi,Ni.index<wi.index&&(wi.index=Ni.index)}}else if(wi.index<Ni.index){ki=!0,fi.splice(_i,0,wi),_i++;let Mi=wi.addedCount-wi.removed.length;Ni.index+=Mi,Ci+=Mi}}ki||fi.push(wi)}function ne(fi,vi){let yi=[];for(let xi=0,wi;xi<vi.length;xi++)switch(wi=vi[xi],wi.type){case'splice':te(yi,wi.index,wi.removed.slice(),wi.addedCount);break;case'add':case'update':case'delete':if(!$(wi.name))continue;let ki=Y(wi.name);if(0>ki)continue;te(yi,ki,[wi.oldValue],'delete'===wi.type?0:1);break;default:console.error('Unexpected record type: '+JSON.stringify(wi));}return yi}function re(fi,vi){let yi=[];return ne(fi,vi).forEach(function(xi){return 1===xi.addedCount&&1===xi.removed.length?void(xi.removed[0]!==fi[xi.index]&&yi.push(xi)):void(yi=yi.concat(J(fi,xi.index,xi.index+xi.addedCount,xi.removed,0,xi.removed.length)))}),yi}function ie(fi,vi,yi,xi){return{type:fi,object:vi,key:yi,oldValue:xi}}function ae(fi){let vi=Array(fi.size),yi=fi.keys(),xi=0,wi;for(;(wi=yi.next())&&!wi.done;)vi[xi]=ie('added',fi,wi.value),xi++;return vi}function oe(fi,vi){return Bt.for(fi,vi)}function se(fi,vi,yi){const xi=vi.length,wi=[];for(let ki=0;ki<xi;ki++)wi[ki]=vi[ki].evaluate(fi,yi);return wi}function le(fi,vi){return null!==fi&&null!==vi?'string'==typeof fi&&'string'!=typeof vi?fi+vi.toString():'string'!=typeof fi&&'string'==typeof vi?fi.toString()+vi:fi+vi:null===fi?null===vi?0:vi:fi}function de(fi,vi,yi){let xi=null===fi||fi===void 0?null:fi[vi];if('function'==typeof xi)return xi;if(!yi&&(null===xi||void 0===xi))return null;throw new Error(`${vi} is not a function`)}function ue(fi,vi){if(Array.isArray(fi))return fi[parseInt(vi,10)];return fi?fi[vi]:null===fi||void 0===fi?void 0:fi[vi]}function ce(fi,vi,yi){if(Array.isArray(fi)){let xi=parseInt(vi,10);fi.length<=xi&&(fi.length=xi+1),fi[xi]=yi}else fi[vi]=yi;return yi}function me(fi){return fi>=vn&&fi<=kn||fi===mr}function ge(fi){return er<=fi&&fi<=dr||Wn<=fi&&fi<=Kn||fi===Jn||fi===Sn}function he(fi){return er<=fi&&fi<=dr||Wn<=fi&&fi<=Kn||Hn<=fi&&fi<=Un||fi===Jn||fi===Sn}function fe(fi){return Hn<=fi&&fi<=Un}function ve(fi){return fi===tr||fi===Qn}function be(fi){return fi===Ln||fi===On}function ye(fi){return fi===rr?bn:fi===nr?xn:fi===ir?wn:fi===or?vn:fi===lr?yn:fi}function xe(fi,vi){if(!fi)throw vi||'Assertion failed'}function we(fi,vi){return br.for(fi,vi)}function ke(fi){return fi.path&&fi.path[0]||fi.deepPath&&fi.deepPath[0]||fi.target}function Ce(){this.standardStopPropagation(),this.propagationStopped=!0}function _e(fi){fi.standardStopPropagation=fi.stopPropagation,fi.stopPropagation=Ce}function Se(fi){let vi=!1;fi.propagationStopped=!1;let yi=ke(fi),xi=[];for(;yi;){if(yi.capturedCallbacks){let wi=yi.capturedCallbacks[fi.type];wi&&(!vi&&(_e(fi),vi=!0),xi.push(wi))}yi=yi.parentNode}for(let wi=xi.length-1,ki;0<=wi&&(ki=xi[wi],ki(fi),!fi.propagationStopped);wi--);}function Ne(fi){let vi=!1;fi.propagationStopped=!1;for(let yi=ke(fi);yi&&!fi.propagationStopped;){if(yi.delegatedCallbacks){let xi=yi.delegatedCallbacks[fi.type];xi&&(!vi&&(_e(fi),vi=!0),xi(fi))}yi=yi.parentNode}}function Ae(fi){return!!(fi&&fi.get&&fi.get.dependencies)}function Ie(fi,vi,yi,xi){let wi=yi.get.dependencies;if(!(wi instanceof zr)){for(let Ci=wi.length;Ci--;)wi[Ci]=xi.parser.parse(wi[Ci]);wi=yi.get.dependencies=new zr(vi,wi)}let ki={bindingContext:fi,overrideContext:A(fi)};return new St(ki,wi,xi)}function Re(fi){let vi=fi.au;if(vi===void 0)throw new Error(`No Aurelia APIs are defined for the element: "${fi.tagName}".`);return vi}function Le(fi,vi){return hi.for(fi,vi)}var Te=w(5),Fe=w(0),qe=w(9),je=w(4);h.n=N,h.a=A,h.p=F,h.q=z,h.d=K,h.l=te,w.d(h,'h',function(){return Ht}),w.d(h,'i',function(){return Ut}),w.d(h,'v',function(){return hr}),w.d(h,'g',function(){return Cr}),w.d(h,'m',function(){return Or}),w.d(h,'f',function(){return Xr}),w.d(h,'r',function(){return Jr}),w.d(h,'u',function(){return ni}),w.d(h,'b',function(){return ai}),h.k=function(fi){return void 0===fi||'string'==typeof fi?function(vi){je.a.define(je.a.resource,new ai(fi),vi)}:void je.a.define(je.a.resource,new ai,fi)},w.d(h,'c',function(){return oi}),w.d(h,'s',function(){return si}),w.d(h,'w',function(){return di});var Be,ze,De,He,Ue,We,Qe,Ke,Ge,Ye,Xe,Ze,Je,et,tt,nt,rt,at,ot,st,lt,dt,ut;const ct=Object.create(null),pt='Binding:source';h.j=pt;const mt=[],gt=[];for(let fi=0;100>fi;fi++)mt.push(`_observer${fi}`),gt.push(`_observerVersion${fi}`);const ht=[],ft={};let vt=0;const bt=100,yt=15;let xt=!1,wt=0,kt=[],Ct=[],_t=[],St=(Be=F(),ze=K(),Be(De=ze(De=class{constructor(vi,yi,xi,wi){this.scope=vi,this.expression=yi,this.observerLocator=xi,this.lookupFunctions=wi}getValue(){return this.expression.evaluate(this.scope,this.lookupFunctions)}setValue(vi){this.expression.assign(this.scope,vi)}subscribe(vi,yi){if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(vi,yi),1===arguments.length&&vi instanceof Function)return{dispose:()=>{this.unsubscribe(vi,yi)}}}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)}call(){let vi=this.expression.evaluate(this.scope,this.lookupFunctions),yi=this.oldValue;vi!==yi&&(this.oldValue=vi,this.callSubscribers(vi,yi)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)}})||De)||De);const Nt=0,At=1,Mt=2,Pt=3;Z.prototype={calcEditDistances:function(fi,vi,yi,xi,wi,ki){let Ci=ki-wi+1,_i=yi-vi+1,Ni=Array(Ci),Ai,Mi;for(let Pi=0;Pi<Ci;++Pi)Ni[Pi]=Array(_i),Ni[Pi][0]=Pi;for(let Pi=0;Pi<_i;++Pi)Ni[0][Pi]=Pi;for(let Pi=1;Pi<Ci;++Pi)for(let Ii=1;Ii<_i;++Ii)this.equals(fi[vi+Ii-1],xi[wi+Pi-1])?Ni[Pi][Ii]=Ni[Pi-1][Ii-1]:(Ai=Ni[Pi-1][Ii]+1,Mi=Ni[Pi][Ii-1]+1,Ni[Pi][Ii]=Ai<Mi?Ai:Mi);return Ni},spliceOperationsFromEditDistances:function(fi){let vi=fi.length-1,yi=fi[0].length-1,xi=fi[vi][yi],wi=[];for(;0<vi||0<yi;){if(0==vi){wi.push(Mt),yi--;continue}if(0==yi){wi.push(Pt),vi--;continue}let ki=fi[vi-1][yi-1],Ci=fi[vi-1][yi],_i=fi[vi][yi-1],Ni;Ni=Ci<_i?Ci<ki?Ci:ki:_i<ki?_i:ki,Ni===ki?(ki===xi?wi.push(Nt):(wi.push(At),xi=ki),vi--,yi--):Ni===Ci?(wi.push(Pt),vi--,xi=Ci):(wi.push(Mt),yi--,xi=_i)}return wi.reverse(),wi},calcSplices:function(fi,vi,yi,xi,wi,ki){let Ci=0,_i=0,Ni=Math.min(yi-vi,ki-wi);if(0===vi&&0===wi&&(Ci=this.sharedPrefix(fi,xi,Ni)),yi===fi.length&&ki===xi.length&&(_i=this.sharedSuffix(fi,xi,Ni-Ci)),vi+=Ci,wi+=Ci,yi-=_i,ki-=_i,0==yi-vi&&0==ki-wi)return[];if(vi===yi){let Oi=X(vi,[],0);for(;wi<ki;)Oi.removed.push(xi[wi++]);return[Oi]}if(wi===ki)return[X(vi,[],yi-vi)];let Ai=this.spliceOperationsFromEditDistances(this.calcEditDistances(fi,vi,yi,xi,wi,ki)),Pi=[],Ii=vi,Ei=wi,Mi;for(let Oi=0;Oi<Ai.length;++Oi)switch(Ai[Oi]){case Nt:Mi&&(Pi.push(Mi),Mi=void 0),Ii++,Ei++;break;case At:Mi||(Mi=X(Ii,[],0)),Mi.addedCount++,Ii++,Mi.removed.push(xi[Ei]),Ei++;break;case Mt:Mi||(Mi=X(Ii,[],0)),Mi.addedCount++,Ii++;break;case Pt:Mi||(Mi=X(Ii,[],0)),Mi.removed.push(xi[Ei]),Ei++;}return Mi&&Pi.push(Mi),Pi},sharedPrefix:function(fi,vi,yi){for(let xi=0;xi<yi;++xi)if(!this.equals(fi[xi],vi[xi]))return xi;return yi},sharedSuffix:function(fi,vi,yi){let xi=fi.length,wi=vi.length,ki=0;for(;ki<yi&&this.equals(fi[--xi],vi[--wi]);)ki++;return ki},calculateSplices:function(fi,vi){return this.calcSplices(fi,0,fi.length,vi,0,vi.length)},equals:function(fi,vi){return fi===vi}};let It=new Z,Et=(He=K(),He(Ue=class{constructor(vi,yi){this.taskQueue=vi,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=yi,this.lengthPropertyName=yi instanceof Map||yi instanceof Set?'size':'length'}subscribe(vi,yi){this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)}addChangeRecord(vi){if(this.hasSubscribers()||this.lengthObserver){if('splice'===vi.type){let yi=vi.index,xi=vi.object.length;yi>xi?yi=xi-vi.addedCount:0>yi&&(yi=xi+vi.removed.length+yi-vi.addedCount),0>yi&&(yi=0),vi.index=yi}null===this.changeRecords?this.changeRecords=[vi]:this.changeRecords.push(vi),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}}flushChangeRecords(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()}reset(vi){this.oldCollection=vi,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))}getLengthObserver(){return this.lengthObserver||(this.lengthObserver=new Ot(this.collection))}call(){let vi=this.changeRecords,yi=this.oldCollection,xi;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(xi=yi?this.collection instanceof Map||this.collection instanceof Set?ae(yi):J(this.collection,0,this.collection.length,yi,0,yi.length):this.collection instanceof Map||this.collection instanceof Set?vi:re(this.collection,vi),this.callSubscribers(xi)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])}})||Ue),Ot=(We=K(),We(Qe=class{constructor(vi){this.collection=vi,this.lengthPropertyName=vi instanceof Map||vi instanceof Set?'size':'length',this.currentValue=vi[this.lengthPropertyName]}getValue(){return this.collection[this.lengthPropertyName]}setValue(vi){this.collection[this.lengthPropertyName]=vi}subscribe(vi,yi){this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)}call(vi){let yi=this.currentValue;this.callSubscribers(vi,yi),this.currentValue=vi}})||Qe),Rt=Array.prototype.pop,Lt=Array.prototype.push,Vt=Array.prototype.reverse,Tt=Array.prototype.shift,Ft=Array.prototype.sort,qt=Array.prototype.splice,jt=Array.prototype.unshift;Array.prototype.pop=function(){let fi=0<this.length,vi=Rt.apply(this,arguments);return fi&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'delete',object:this,name:this.length,oldValue:vi}),vi},Array.prototype.push=function(){let fi=Lt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),fi},Array.prototype.reverse=function(){let fi;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),fi=this.slice());let vi=Vt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(fi),vi},Array.prototype.shift=function(){let fi=0<this.length,vi=Tt.apply(this,arguments);return fi&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'delete',object:this,name:0,oldValue:vi}),vi},Array.prototype.sort=function(){let fi;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),fi=this.slice());let vi=Ft.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(fi),vi},Array.prototype.splice=function(){let fi=qt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:+arguments[0],removed:fi,addedCount:2<arguments.length?arguments.length-2:0}),fi},Array.prototype.unshift=function(){let fi=jt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:0,removed:[],addedCount:arguments.length}),fi};let Bt=class fi extends Et{constructor(vi,yi){super(vi,yi)}static for(vi,yi){return'__array_observer__'in yi||Reflect.defineProperty(yi,'__array_observer__',{value:fi.create(vi,yi),enumerable:!1,configurable:!1}),yi.__array_observer__}static create(vi,yi){return new fi(vi,yi)}},zt=class{constructor(){this.isChain=!1,this.isAssignable=!1}evaluate(){throw new Error(`Binding expression "${this}" cannot be evaluated.`)}assign(){throw new Error(`Binding expression "${this}" cannot be assigned to.`)}toString(){return super.toString()}},Dt=class extends zt{constructor(vi){super(),this.expressions=vi,this.isChain=!0}evaluate(vi,yi){let xi,wi=this.expressions,ki;for(let Ci=0,_i=wi.length;Ci<_i;++Ci)ki=wi[Ci].evaluate(vi,yi),null!==ki&&(xi=ki);return xi}accept(vi){return vi.visitChain(this)}},Ht=class extends zt{constructor(vi,yi,xi){super(),this.expression=vi,this.name=yi,this.args=xi}evaluate(vi,yi){return this.expression.evaluate(vi,yi)}assign(vi,yi,xi){return this.expression.assign(vi,yi,xi)}accept(vi){return vi.visitBindingBehavior(this)}connect(vi,yi){this.expression.connect(vi,yi)}bind(vi,yi,xi){this.expression.expression&&this.expression.bind&&this.expression.bind(vi,yi,xi);let wi=xi.bindingBehaviors(this.name);if(!wi)throw new Error(`No BindingBehavior named "${this.name}" was found!`);let ki=`behavior-${this.name}`;if(vi[ki])throw new Error(`A binding behavior named "${this.name}" has already been applied to "${this.expression}"`);vi[ki]=wi,wi.bind.apply(wi,[vi,yi].concat(se(yi,this.args,vi.lookupFunctions)))}unbind(vi,yi){let xi=`behavior-${this.name}`;vi[xi].unbind(vi,yi),vi[xi]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(vi,yi)}},Ut=class extends zt{constructor(vi,yi,xi,wi){super(),this.expression=vi,this.name=yi,this.args=xi,this.allArgs=wi}evaluate(vi,yi){let xi=yi.valueConverters(this.name);if(!xi)throw new Error(`No ValueConverter named "${this.name}" was found!`);return'toView'in xi?xi.toView.apply(xi,se(vi,this.allArgs,yi)):this.allArgs[0].evaluate(vi,yi)}assign(vi,yi,xi){let wi=xi.valueConverters(this.name);if(!wi)throw new Error(`No ValueConverter named "${this.name}" was found!`);return'fromView'in wi&&(yi=wi.fromView.apply(wi,[yi].concat(se(vi,this.args,xi)))),this.allArgs[0].assign(vi,yi,xi)}accept(vi){return vi.visitValueConverter(this)}connect(vi,yi){let xi=this.allArgs,wi=xi.length;for(;wi--;)xi[wi].connect(vi,yi)}},Wt=class extends zt{constructor(vi,yi){super(),this.target=vi,this.value=yi}evaluate(vi,yi){return this.target.assign(vi,this.value.evaluate(vi,yi))}accept(vi){vi.visitAssign(this)}connect(){}},Qt=class extends zt{constructor(vi,yi,xi){super(),this.condition=vi,this.yes=yi,this.no=xi}evaluate(vi){return!this.condition.evaluate(vi)?this.no.evaluate(vi):this.yes.evaluate(vi)}accept(vi){return vi.visitConditional(this)}connect(vi,yi){this.condition.connect(vi,yi),this.condition.evaluate(yi)?this.yes.connect(vi,yi):this.no.connect(vi,yi)}},Kt=class extends zt{constructor(vi){super(),this.ancestor=vi}evaluate(vi){let xi=vi.overrideContext,wi=this.ancestor;for(;wi--&&xi;)xi=xi.parentOverrideContext;return 1>wi&&xi?xi.bindingContext:void 0}accept(vi){return vi.visitAccessThis(this)}connect(){}},Gt=class extends zt{constructor(vi,yi){super(),this.name=vi,this.ancestor=yi,this.isAssignable=!0}evaluate(vi){let xi=M(this.name,vi,this.ancestor);return xi[this.name]}assign(vi,yi){let xi=M(this.name,vi,this.ancestor);return xi?xi[this.name]=yi:void 0}accept(vi){return vi.visitAccessScope(this)}connect(vi,yi){let xi=M(this.name,yi,this.ancestor);vi.observeProperty(xi,this.name)}},Yt=class extends zt{constructor(vi,yi){super(),this.object=vi,this.name=yi,this.isAssignable=!0}evaluate(vi,yi){let xi=this.object.evaluate(vi,yi);return null===xi||xi===void 0?xi:xi[this.name]}assign(vi,yi){let xi=this.object.evaluate(vi);return(null===xi||void 0===xi)&&(xi={},this.object.assign(vi,xi)),xi[this.name]=yi,yi}accept(vi){return vi.visitAccessMember(this)}connect(vi,yi){this.object.connect(vi,yi);let xi=this.object.evaluate(yi);xi&&vi.observeProperty(xi,this.name)}},Xt=class extends zt{constructor(vi,yi){super(),this.object=vi,this.key=yi,this.isAssignable=!0}evaluate(vi,yi){let xi=this.object.evaluate(vi,yi),wi=this.key.evaluate(vi,yi);return ue(xi,wi)}assign(vi,yi){let xi=this.object.evaluate(vi),wi=this.key.evaluate(vi);return ce(xi,wi,yi)}accept(vi){return vi.visitAccessKeyed(this)}connect(vi,yi){this.object.connect(vi,yi);let xi=this.object.evaluate(yi);if(xi instanceof Object){this.key.connect(vi,yi);let wi=this.key.evaluate(yi);null===wi||wi===void 0||Array.isArray(xi)&&'number'==typeof wi||vi.observeProperty(xi,wi)}}},Zt=class extends zt{constructor(vi,yi,xi){super(),this.name=vi,this.args=yi,this.ancestor=xi}evaluate(vi,yi,xi){let wi=se(vi,this.args,yi),ki=M(this.name,vi,this.ancestor),Ci=de(ki,this.name,xi);return Ci?Ci.apply(ki,wi):void 0}accept(vi){return vi.visitCallScope(this)}connect(vi,yi){let xi=this.args,wi=xi.length;for(;wi--;)xi[wi].connect(vi,yi)}},Jt=class extends zt{constructor(vi,yi,xi){super(),this.object=vi,this.name=yi,this.args=xi}evaluate(vi,yi,xi){let wi=this.object.evaluate(vi,yi),ki=se(vi,this.args,yi),Ci=de(wi,this.name,xi);return Ci?Ci.apply(wi,ki):void 0}accept(vi){return vi.visitCallMember(this)}connect(vi,yi){this.object.connect(vi,yi);let xi=this.object.evaluate(yi);if(de(xi,this.name,!1)){let wi=this.args,ki=wi.length;for(;ki--;)wi[ki].connect(vi,yi)}}},en=class extends zt{constructor(vi,yi){super(),this.func=vi,this.args=yi}evaluate(vi,yi,xi){let wi=this.func.evaluate(vi,yi);if('function'==typeof wi)return wi.apply(null,se(vi,this.args,yi));if(xi||null!==wi&&void 0!==wi)throw new Error(`${this.func} is not a function`)}accept(vi){return vi.visitCallFunction(this)}connect(vi,yi){this.func.connect(vi,yi);let xi=this.func.evaluate(yi);if('function'==typeof xi){let wi=this.args,ki=wi.length;for(;ki--;)wi[ki].connect(vi,yi)}}},tn=class extends zt{constructor(vi,yi,xi){super(),this.operation=vi,this.left=yi,this.right=xi}evaluate(vi){let xi=this.left.evaluate(vi);switch(this.operation){case'&&':return xi&&this.right.evaluate(vi);case'||':return xi||this.right.evaluate(vi);}let wi=this.right.evaluate(vi);switch(this.operation){case'==':return xi==wi;case'===':return xi===wi;case'!=':return xi!=wi;case'!==':return xi!==wi;}if(null===xi||null===wi||xi===void 0||wi===void 0){switch(this.operation){case'+':return null!==xi&&void 0!==xi?xi:null!==wi&&void 0!==wi?wi:0;case'-':return null!==xi&&void 0!==xi?xi:null!==wi&&void 0!==wi?0-wi:0;}return null}switch(this.operation){case'+':return le(xi,wi);case'-':return xi-wi;case'*':return xi*wi;case'/':return xi/wi;case'%':return xi%wi;case'<':return xi<wi;case'>':return xi>wi;case'<=':return xi<=wi;case'>=':return xi>=wi;case'^':return xi^wi;}throw new Error(`Internal error [${this.operation}] not handled`)}accept(vi){return vi.visitBinary(this)}connect(vi,yi){this.left.connect(vi,yi);let xi=this.left.evaluate(yi);'&&'===this.operation&&!xi||'||'===this.operation&&xi||this.right.connect(vi,yi)}},nn=class extends zt{constructor(vi,yi){super(),this.operation=vi,this.expression=yi}evaluate(vi){return!this.expression.evaluate(vi)}accept(vi){return vi.visitPrefix(this)}connect(vi,yi){this.expression.connect(vi,yi)}},rn=class extends zt{constructor(vi){super(),this.value=vi}evaluate(){return this.value}accept(vi){return vi.visitLiteralPrimitive(this)}connect(){}},an=class extends zt{constructor(vi){super(),this.value=vi}evaluate(){return this.value}accept(vi){return vi.visitLiteralString(this)}connect(){}},on=class extends zt{constructor(vi){super(),this.elements=vi}evaluate(vi,yi){let xi=this.elements,wi=[];for(let ki=0,Ci=xi.length;ki<Ci;++ki)wi[ki]=xi[ki].evaluate(vi,yi);return wi}accept(vi){return vi.visitLiteralArray(this)}connect(vi,yi){let xi=this.elements.length;for(let wi=0;wi<xi;wi++)this.elements[wi].connect(vi,yi)}},sn=class extends zt{constructor(vi,yi){super(),this.keys=vi,this.values=yi}evaluate(vi,yi){let xi={},wi=this.keys,ki=this.values;for(let Ci=0,_i=wi.length;Ci<_i;++Ci)xi[wi[Ci]]=ki[Ci].evaluate(vi,yi);return xi}accept(vi){return vi.visitLiteralObject(this)}connect(vi,yi){let xi=this.keys.length;for(let wi=0;wi<xi;wi++)this.values[wi].connect(vi,yi)}};let dn=class{cloneExpressionArray(vi){let yi=[],xi=vi.length;for(;xi--;)yi[xi]=vi[xi].accept(this);return yi}visitChain(vi){return new Dt(this.cloneExpressionArray(vi.expressions))}visitBindingBehavior(vi){return new Ht(vi.expression.accept(this),vi.name,this.cloneExpressionArray(vi.args))}visitValueConverter(vi){return new Ut(vi.expression.accept(this),vi.name,this.cloneExpressionArray(vi.args))}visitAssign(vi){return new Wt(vi.target.accept(this),vi.value.accept(this))}visitConditional(vi){return new Qt(vi.condition.accept(this),vi.yes.accept(this),vi.no.accept(this))}visitAccessThis(vi){return new Kt(vi.ancestor)}visitAccessScope(vi){return new Gt(vi.name,vi.ancestor)}visitAccessMember(vi){return new Yt(vi.object.accept(this),vi.name)}visitAccessKeyed(vi){return new Xt(vi.object.accept(this),vi.key.accept(this))}visitCallScope(vi){return new Zt(vi.name,this.cloneExpressionArray(vi.args),vi.ancestor)}visitCallFunction(vi){return new en(vi.func.accept(this),this.cloneExpressionArray(vi.args))}visitCallMember(vi){return new Jt(vi.object.accept(this),vi.name,this.cloneExpressionArray(vi.args))}visitPrefix(vi){return new nn(vi.operation,vi.expression.accept(this))}visitBinary(vi){return new tn(vi.operation,vi.left.accept(this),vi.right.accept(this))}visitLiteralPrimitive(vi){return new rn(vi)}visitLiteralArray(vi){return new on(this.cloneExpressionArray(vi.elements))}visitLiteralObject(vi){return new sn(vi.keys,this.cloneExpressionArray(vi.values))}visitLiteralString(vi){return new an(vi.value)}};const un={oneTime:0,oneWay:1,twoWay:2};h.e=un;let cn=class{constructor(vi,yi){this.index=vi,this.text=yi}withOp(vi){return this.opKey=vi,this}withGetterSetter(vi){return this.key=vi,this}withValue(vi){return this.value=vi,this}toString(){return`Token(${this.text})`}},pn=class{lex(vi){let yi=new mn(vi),xi=[],wi=yi.scanToken();for(;wi;)xi.push(wi),wi=yi.scanToken();return xi}},mn=class{constructor(vi){this.input=vi,this.length=vi.length,this.peek=0,this.index=-1,this.advance()}scanToken(){for(;this.peek<=kn;){if(++this.index>=this.length)return this.peek=hn,null;this.peek=this.input.charCodeAt(this.index)}if(ge(this.peek))return this.scanIdentifier();if(fe(this.peek))return this.scanNumber(this.index);let vi=this.index;switch(this.peek){case Vn:return this.advance(),fe(this.peek)?this.scanNumber(vi):new cn(vi,'.');case Pn:case In:case ur:case pr:case Gn:case Xn:case Rn:case Fn:case qn:return this.scanCharacter(vi,String.fromCharCode(this.peek));case Mn:case _n:return this.scanString();case On:case Ln:case En:case Tn:case Nn:case Zn:case Dn:return this.scanOperator(vi,String.fromCharCode(this.peek));case jn:case zn:case Cn:case Bn:return this.scanComplexOperator(vi,Bn,String.fromCharCode(this.peek),'=');case An:return this.scanComplexOperator(vi,An,'&','&');case cr:return this.scanComplexOperator(vi,cr,'|','|');case mr:for(;me(this.peek);)this.advance();return this.scanToken();}let yi=String.fromCharCode(this.peek);return this.error(`Unexpected character [${yi}]`),null}scanCharacter(vi,yi){return xe(this.peek===yi.charCodeAt(0)),this.advance(),new cn(vi,yi)}scanOperator(vi,yi){return xe(this.peek===yi.charCodeAt(0)),xe(-1!==gn.indexOf(yi)),this.advance(),new cn(vi,yi).withOp(yi)}scanComplexOperator(vi,yi,xi,wi){xe(this.peek===xi.charCodeAt(0)),this.advance();let ki=xi;return this.peek===yi&&(this.advance(),ki+=wi),this.peek===yi&&(this.advance(),ki+=wi),xe(-1!==gn.indexOf(ki)),new cn(vi,ki).withOp(ki)}scanIdentifier(){xe(ge(this.peek));let vi=this.index;for(this.advance();he(this.peek);)this.advance();let yi=this.input.substring(vi,this.index),xi=new cn(vi,yi);return-1===gn.indexOf(yi)?xi.withGetterSetter(yi):xi.withOp(yi),xi}scanNumber(vi){xe(fe(this.peek));let yi=this.index===vi;for(this.advance();;){if(!fe(this.peek))if(this.peek===Vn)yi=!1;else if(ve(this.peek))this.advance(),be(this.peek)&&this.advance(),fe(this.peek)||this.error('Invalid exponent',-1),yi=!1;else break;this.advance()}let xi=this.input.substring(vi,this.index),wi=yi?parseInt(xi,10):parseFloat(xi);return new cn(vi,xi).withValue(wi)}scanString(){xe(this.peek===Mn||this.peek===_n);let vi=this.index,yi=this.peek;this.advance();let wi=this.index,xi;for(;this.peek!==yi;)if(this.peek===Yn){xi||(xi=[]),xi.push(this.input.substring(wi,this.index)),this.advance();let Ni;if(this.peek===sr){let Ai=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(Ai)||this.error(`Invalid unicode escape [\\u${Ai}]`),Ni=parseInt(Ai,16);for(let Mi=0;5>Mi;++Mi)this.advance()}else Ni=ye(this.peek),this.advance();xi.push(String.fromCharCode(Ni)),wi=this.index}else this.peek===hn?this.error('Unterminated quote'):this.advance();let ki=this.input.substring(wi,this.index);this.advance();let Ci=this.input.substring(vi,this.index),_i=ki;return null!==xi&&void 0!==xi&&(xi.push(ki),_i=xi.join('')),new cn(vi,Ci).withValue(_i)}advance(){this.peek=++this.index>=this.length?hn:this.input.charCodeAt(this.index)}error(vi,yi=0){let xi=this.index+yi;throw new Error(`Lexer Error: ${vi} at column ${xi} in expression [${this.input}]`)}};const gn=['undefined','null','true','false','+','-','*','/','%','^','=','==','===','!=','!==','<','>','<=','>=','&&','||','&','|','!','?'],hn=0,vn=9,bn=10,yn=11,xn=12,wn=13,kn=32,Cn=33,_n=34,Sn=36,Nn=37,An=38,Mn=39,Pn=40,In=41,En=42,On=43,Rn=44,Ln=45,Vn=46,Tn=47,Fn=58,qn=59,jn=60,Bn=61,zn=62,Dn=63,Hn=48,Un=57,Wn=65,Qn=69,Kn=90,Gn=91,Yn=92,Xn=93,Zn=94,Jn=95,er=97,tr=101,nr=102,rr=110,ir=114,or=116,sr=117,lr=118,dr=122,ur=123,cr=124,pr=125,mr=160;let gr=new cn(-1,null),hr=class{constructor(){this.cache={},this.lexer=new pn}parse(vi){return vi=vi||'',this.cache[vi]||(this.cache[vi]=new fr(this.lexer,vi).parseChain())}},fr=class{constructor(vi,yi){this.index=0,this.input=yi,this.tokens=vi.lex(yi)}get peek(){return this.index<this.tokens.length?this.tokens[this.index]:gr}parseChain(){let vi=!1,yi=[];for(;this.optional(';');)vi=!0;for(;this.index<this.tokens.length;){(')'===this.peek.text||'}'===this.peek.text||']'===this.peek.text)&&this.error(`Unconsumed token ${this.peek.text}`);let xi=this.parseBindingBehavior();for(yi.push(xi);this.optional(';');)vi=!0;vi&&this.error('Multiple expressions are not allowed.')}return 1===yi.length?yi[0]:new Dt(yi)}parseBindingBehavior(){let vi=this.parseValueConverter();for(;this.optional('&');){let yi=this.peek.text,xi=[];for(this.advance();this.optional(':');)xi.push(this.parseExpression());vi=new Ht(vi,yi,xi)}return vi}parseValueConverter(){let vi=this.parseExpression();for(;this.optional('|');){let yi=this.peek.text,xi=[];for(this.advance();this.optional(':');)xi.push(this.parseExpression());vi=new Ut(vi,yi,xi,[vi].concat(xi))}return vi}parseExpression(){let vi=this.peek.index,yi=this.parseConditional();for(;'='===this.peek.text;){if(!yi.isAssignable){let xi=this.index<this.tokens.length?this.peek.index:this.input.length,wi=this.input.substring(vi,xi);this.error(`Expression ${wi} is not assignable`)}this.expect('='),yi=new Wt(yi,this.parseConditional())}return yi}parseConditional(){let vi=this.peek.index,yi=this.parseLogicalOr();if(this.optional('?')){let xi=this.parseExpression();if(!this.optional(':')){let ki=this.index<this.tokens.length?this.peek.index:this.input.length,Ci=this.input.substring(vi,ki);this.error(`Conditional expression ${Ci} requires all 3 expressions`)}let wi=this.parseExpression();yi=new Qt(yi,xi,wi)}return yi}parseLogicalOr(){let vi=this.parseLogicalAnd();for(;this.optional('||');)vi=new tn('||',vi,this.parseLogicalAnd());return vi}parseLogicalAnd(){let vi=this.parseEquality();for(;this.optional('&&');)vi=new tn('&&',vi,this.parseEquality());return vi}parseEquality(){for(let vi=this.parseRelational();;)if(this.optional('=='))vi=new tn('==',vi,this.parseRelational());else if(this.optional('!='))vi=new tn('!=',vi,this.parseRelational());else if(this.optional('==='))vi=new tn('===',vi,this.parseRelational());else if(this.optional('!=='))vi=new tn('!==',vi,this.parseRelational());else return vi}parseRelational(){for(let vi=this.parseAdditive();;)if(this.optional('<'))vi=new tn('<',vi,this.parseAdditive());else if(this.optional('>'))vi=new tn('>',vi,this.parseAdditive());else if(this.optional('<='))vi=new tn('<=',vi,this.parseAdditive());else if(this.optional('>='))vi=new tn('>=',vi,this.parseAdditive());else return vi}parseAdditive(){for(let vi=this.parseMultiplicative();;)if(this.optional('+'))vi=new tn('+',vi,this.parseMultiplicative());else if(this.optional('-'))vi=new tn('-',vi,this.parseMultiplicative());else return vi}parseMultiplicative(){for(let vi=this.parsePrefix();;)if(this.optional('*'))vi=new tn('*',vi,this.parsePrefix());else if(this.optional('%'))vi=new tn('%',vi,this.parsePrefix());else if(this.optional('/'))vi=new tn('/',vi,this.parsePrefix());else return vi}parsePrefix(){if(this.optional('+'))return this.parsePrefix();return this.optional('-')?new tn('-',new rn(0),this.parsePrefix()):this.optional('!')?new nn('!',this.parsePrefix()):this.parseAccessOrCallMember()}parseAccessOrCallMember(){for(let vi=this.parsePrimary();;)if(this.optional('.')){let yi=this.peek.text;if(this.advance(),this.optional('(')){let xi=this.parseExpressionList(')');this.expect(')'),vi=vi instanceof Kt?new Zt(yi,xi,vi.ancestor):new Jt(vi,yi,xi)}else vi=vi instanceof Kt?new Gt(yi,vi.ancestor):new Yt(vi,yi)}else if(this.optional('[')){let yi=this.parseExpression();this.expect(']'),vi=new Xt(vi,yi)}else if(this.optional('(')){let yi=this.parseExpressionList(')');this.expect(')'),vi=new en(vi,yi)}else return vi}parsePrimary(){if(this.optional('(')){let vi=this.parseExpression();return this.expect(')'),vi}if(this.optional('null'))return new rn(null);if(this.optional('undefined'))return new rn(void 0);if(this.optional('true'))return new rn(!0);if(this.optional('false'))return new rn(!1);if(this.optional('[')){let vi=this.parseExpressionList(']');return this.expect(']'),new on(vi)}if('{'===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){let vi=this.peek.value;return this.advance(),vi instanceof String||'string'==typeof vi?new an(vi):new rn(vi)}if(this.index>=this.tokens.length)throw new Error(`Unexpected end of expression: ${this.input}`);else this.error(`Unexpected token ${this.peek.text}`)}parseAccessOrCallScope(){let vi=this.peek.key;if(this.advance(),'$this'===vi)return new Kt(0);let yi=0;for(;'$parent'===vi;)if(yi++,this.optional('.'))vi=this.peek.key,this.advance();else{if(this.peek===gr||'('===this.peek.text||')'===this.peek.text||'['===this.peek.text||'}'===this.peek.text||','===this.peek.text)return new Kt(yi);this.error(`Unexpected token ${this.peek.text}`)}if(this.optional('(')){let xi=this.parseExpressionList(')');return this.expect(')'),new Zt(vi,xi,yi)}return new Gt(vi,yi)}parseObject(){let vi=[],yi=[];if(this.expect('{'),'}'!==this.peek.text)do{let xi=this.peek,wi=xi.value;vi.push('string'==typeof wi?wi:xi.text),this.advance(),xi.key&&(','===this.peek.text||'}'===this.peek.text)?(--this.index,yi.push(this.parseAccessOrCallScope())):(this.expect(':'),yi.push(this.parseExpression()))}while(this.optional(','));return this.expect('}'),new sn(vi,yi)}parseExpressionList(vi){let yi=[];if(this.peek.text!==vi)do yi.push(this.parseExpression());while(this.optional(','));return yi}optional(vi){return!(this.peek.text!==vi)&&(this.advance(),!0)}expect(vi){this.peek.text===vi?this.advance():this.error(`Missing expected ${vi}`)}advance(){this.index++}error(vi){let yi=this.index<this.tokens.length?`at column ${this.tokens[this.index].index+1} in`:'at the end of the expression';throw new Error(`Parser Error: ${vi} ${yi} [${this.input}]`)}},vr=Map.prototype,br=class fi extends Et{constructor(vi,yi){super(vi,yi)}static for(vi,yi){return'__map_observer__'in yi||Reflect.defineProperty(yi,'__map_observer__',{value:fi.create(vi,yi),enumerable:!1,configurable:!1}),yi.__map_observer__}static create(vi,yi){let xi=new fi(vi,yi),wi=vr;return(wi.set!==yi.set||wi.delete!==yi.delete||wi.clear!==yi.clear)&&(wi={set:yi.set,delete:yi.delete,clear:yi.clear}),yi.set=function(){let ki=yi.has(arguments[0]),Ci=ki?'update':'add',_i=yi.get(arguments[0]),Ni=wi.set.apply(yi,arguments);return ki&&_i===yi.get(arguments[0])||xi.addChangeRecord({type:Ci,object:yi,key:arguments[0],oldValue:_i}),Ni},yi.delete=function(){let ki=yi.has(arguments[0]),Ci=yi.get(arguments[0]),_i=wi.delete.apply(yi,arguments);return ki&&xi.addChangeRecord({type:'delete',object:yi,key:arguments[0],oldValue:Ci}),_i},yi.clear=function(){let ki=wi.clear.apply(yi,arguments);return xi.addChangeRecord({type:'clear',object:yi}),ki},xi}},yr=class{constructor(vi){this.eventName=vi,this.count=0}increment(){this.count++,1===this.count&&Fe.c.addEventListener(this.eventName,Se,!0)}decrement(){this.count--,0===this.count&&Fe.c.removeEventListener(this.eventName,Se,!0)}},xr=class{constructor(vi){this.eventName=vi,this.count=0}increment(){this.count++,1===this.count&&Fe.c.addEventListener(this.eventName,Ne,!1)}decrement(){this.count--,0===this.count&&Fe.c.removeEventListener(this.eventName,Ne)}},wr=class{constructor(){this.delegatedHandlers={},this.capturedHandlers={}}subscribe(vi,yi,xi,wi){let ki,Ci,_i;if(wi===kr.bubbling){ki=this.delegatedHandlers,_i=ki[yi]||(ki[yi]=new xr(yi));let Ni=vi.delegatedCallbacks||(vi.delegatedCallbacks={});return _i.increment(),Ni[yi]=xi,function(){_i.decrement(),Ni[yi]=null}}if(wi===kr.capturing){Ci=this.capturedHandlers,_i=Ci[yi]||(Ci[yi]=new yr(yi));let Ni=vi.capturedCallbacks||(vi.capturedCallbacks={});return _i.increment(),Ni[yi]=xi,function(){_i.decrement(),Ni[yi]=null}}return vi.addEventListener(yi,xi,!1),function(){vi.removeEventListener(yi,xi)}}};const kr={none:0,capturing:1,bubbling:2};h.t=kr;let Cr=class{constructor(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:'input',properties:{value:['change','input'],checked:['change','input'],files:['change','input']}}),this.registerElementConfig({tagName:'textarea',properties:{value:['change','input']}}),this.registerElementConfig({tagName:'select',properties:{value:['change']}}),this.registerElementConfig({tagName:'content editable',properties:{value:['change','input','blur','keyup','paste']}}),this.registerElementConfig({tagName:'scrollable element',properties:{scrollTop:['scroll'],scrollLeft:['scroll']}}),this.defaultEventStrategy=new wr}registerElementConfig(vi){let yi=vi.tagName.toLowerCase(),xi=vi.properties,wi;for(wi in this.elementHandlerLookup[yi]={},xi)xi.hasOwnProperty(wi)&&this.registerElementPropertyConfig(yi,wi,xi[wi])}registerElementPropertyConfig(vi,yi,xi){this.elementHandlerLookup[vi][yi]=this.createElementHandler(xi)}createElementHandler(vi){return{subscribe(yi,xi){return vi.forEach((wi)=>{yi.addEventListener(wi,xi,!1)}),function(){vi.forEach((wi)=>{yi.removeEventListener(wi,xi)})}}}}registerElementHandler(vi,yi){this.elementHandlerLookup[vi.toLowerCase()]=yi}registerEventStrategy(vi,yi){this.eventStrategyLookup[vi]=yi}getElementHandler(vi,yi){let xi,wi=this.elementHandlerLookup;if(vi.tagName){if(xi=vi.tagName.toLowerCase(),wi[xi]&&wi[xi][yi])return wi[xi][yi];if('textContent'===yi||'innerHTML'===yi)return wi['content editable'].value;if('scrollTop'===yi||'scrollLeft'===yi)return wi['scrollable element'][yi]}return null}addEventListener(vi,yi,xi,wi){return(this.eventStrategyLookup[yi]||this.defaultEventStrategy).subscribe(vi,yi,xi,wi)}},Sr=(Ke=K(),Ke(Ge=class{constructor(vi,yi,xi){this.dirtyChecker=vi,this.obj=yi,this.propertyName=xi}getValue(){return this.obj[this.propertyName]}setValue(vi){this.obj[this.propertyName]=vi}call(){let vi=this.oldValue,yi=this.getValue();this.callSubscribers(yi,vi),this.oldValue=yi}isDirty(){return this.oldValue!==this.obj[this.propertyName]}subscribe(vi,yi){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)}})||Ge);const Nr=Te.getLogger('property-observation'),Ar={getValue:(fi,vi)=>fi[vi],setValue:(fi,vi,yi)=>{vi[yi]=fi}};let Mr=class{constructor(vi,yi){this.doNotCache=!0,this.primitive=vi,this.propertyName=yi}getValue(){return this.primitive[this.propertyName]}setValue(){let vi=typeof this.primitive;throw new Error(`The ${this.propertyName} property of a ${vi} (${this.primitive}) cannot be assigned.`)}subscribe(){}unsubscribe(){}},Pr=(Ye=K(),Ye(Xe=class{constructor(vi,yi,xi){this.taskQueue=vi,this.obj=yi,this.propertyName=xi,this.queued=!1,this.observing=!1}getValue(){return this.obj[this.propertyName]}setValue(vi){this.obj[this.propertyName]=vi}getterValue(){return this.currentValue}setterValue(vi){let yi=this.currentValue;yi!==vi&&(!this.queued&&(this.oldValue=yi,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=vi)}call(){let vi=this.oldValue,yi=this.currentValue;this.queued=!1,this.callSubscribers(yi,vi)}subscribe(vi,yi){this.observing||this.convertProperty(),this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)}convertProperty(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Nr.warn(`Cannot observe property '${this.propertyName}' of object`,this.obj)}})||Xe),Ir=class{constructor(vi,yi,xi){this.element=vi,this.propertyName=yi,this.attributeName=xi}getValue(){return this.element.getAttributeNS('http://www.w3.org/1999/xlink',this.attributeName)}setValue(vi){return this.element.setAttributeNS('http://www.w3.org/1999/xlink',this.attributeName,vi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}};const Er={getValue:(fi,vi)=>fi.getAttribute(vi),setValue:(fi,vi,yi)=>vi.setAttribute(yi,fi)};let Or=class{constructor(vi,yi){this.element=vi,this.propertyName=yi}getValue(){return this.element.getAttribute(this.propertyName)}setValue(vi){return this.element.setAttribute(this.propertyName,vi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}},Rr=class{constructor(vi,yi){this.element=vi,this.propertyName=yi,this.styles=null,this.version=0}getValue(){return this.element.style.cssText}_setProperty(vi,yi){let xi='';null!==yi&&yi!==void 0&&'function'==typeof yi.indexOf&&-1!==yi.indexOf('!important')&&(xi='important',yi=yi.replace('!important','')),this.element.style.setProperty(vi,yi,xi)}setValue(vi){let yi=this.styles||{},wi=this.version,xi;if(null!==vi&&void 0!==vi)if(vi instanceof Object){let ki;for(xi in vi)vi.hasOwnProperty(xi)&&(ki=vi[xi],xi=xi.replace(/([A-Z])/g,(Ci)=>'-'+Ci.toLowerCase()),yi[xi]=wi,this._setProperty(xi,ki))}else if(vi.length)for(let ki=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,Ci;null!==(Ci=ki.exec(vi));)(xi=Ci[1],!!xi)&&(yi[xi]=wi,this._setProperty(xi,Ci[2]));if(this.styles=yi,this.version+=1,0!==wi)for(xi in wi-=1,yi)yi.hasOwnProperty(xi)&&yi[xi]===wi&&this.element.style.removeProperty(xi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}},Lr=(Ze=K(),Ze(Je=class{constructor(vi,yi,xi){this.element=vi,this.propertyName=yi,this.handler=xi,'files'===yi&&(this.setValue=()=>{})}getValue(){return this.element[this.propertyName]}setValue(vi){vi=vi===void 0||null===vi?'':vi,this.element[this.propertyName]!==vi&&(this.element[this.propertyName]=vi,this.notify())}notify(){let vi=this.oldValue,yi=this.getValue();this.callSubscribers(yi,vi),this.oldValue=yi}subscribe(vi,yi){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}})||Je);const Vr='CheckedObserver:array',Tr='CheckedObserver:value';let Fr=(et=K(),et(tt=class{constructor(vi,yi,xi){this.element=vi,this.handler=yi,this.observerLocator=xi}getValue(){return this.value}setValue(vi){this.value===vi||(this.arrayObserver&&(this.arrayObserver.unsubscribe(Vr,this),this.arrayObserver=null),'checkbox'===this.element.type&&Array.isArray(vi)&&(this.arrayObserver=this.observerLocator.getArrayObserver(vi),this.arrayObserver.subscribe(Vr,this)),this.oldValue=this.value,this.value=vi,this.synchronizeElement(),this.notify(),!this.initialSync&&(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(Tr,this))}synchronizeElement(){let vi=this.value,yi=this.element,xi=yi.hasOwnProperty('model')?yi.model:yi.value,wi='radio'===yi.type,ki=yi.matcher||((Ci,_i)=>Ci===_i);yi.checked=wi&&!!ki(vi,xi)||!wi&&!0===vi||!wi&&Array.isArray(vi)&&-1!==vi.findIndex((Ci)=>!!ki(Ci,xi))}synchronizeValue(){let vi=this.value,yi=this.element,xi=yi.hasOwnProperty('model')?yi.model:yi.value,wi,ki=yi.matcher||((Ci,_i)=>Ci===_i);if('checkbox'===yi.type){if(Array.isArray(vi))return wi=vi.findIndex((Ci)=>!!ki(Ci,xi)),void(yi.checked&&-1===wi?vi.push(xi):!yi.checked&&-1!==wi&&vi.splice(wi,1));vi=yi.checked}else if(yi.checked)vi=xi;else return;this.oldValue=this.value,this.value=vi,this.notify()}notify(){let vi=this.oldValue,yi=this.value;this.callSubscribers(yi,vi)}subscribe(vi,yi){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}unbind(){this.arrayObserver&&(this.arrayObserver.unsubscribe(Vr,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(Tr,this)}})||tt);const qr='SelectValueObserver:array';let jr=(nt=K(),nt(rt=class{constructor(vi,yi,xi){this.element=vi,this.handler=yi,this.observerLocator=xi}getValue(){return this.value}setValue(vi){if(null!==vi&&vi!==void 0&&this.element.multiple&&!Array.isArray(vi))throw new Error('Only null or Array instances can be bound to a multi-select.');this.value===vi||(this.arrayObserver&&(this.arrayObserver.unsubscribe(qr,this),this.arrayObserver=null),Array.isArray(vi)&&(this.arrayObserver=this.observerLocator.getArrayObserver(vi),this.arrayObserver.subscribe(qr,this)),this.oldValue=this.value,this.value=vi,this.synchronizeOptions(),this.notify(),!this.initialSync&&(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(){this.synchronizeOptions()}synchronizeOptions(){let vi=this.value,yi,xi;null===vi||vi===void 0?yi=!0:Array.isArray(vi)&&(xi=!0);let wi=this.element.options,ki=wi.length,Ci=this.element.matcher||((_i,Ni)=>_i===Ni);for(;ki--;){let _i=wi.item(ki);if(yi){_i.selected=!1;continue}let Ni=_i.hasOwnProperty('model')?_i.model:_i.value;if(xi){_i.selected=-1!==vi.findIndex((Ai)=>!!Ci(Ni,Ai));continue}_i.selected=!!Ci(Ni,vi)}}synchronizeValue(){let vi=this.element.options,yi=0,xi=[];for(let wi=0,ki=vi.length,Ci;wi<ki;wi++)(Ci=vi.item(wi),!!Ci.selected)&&(xi.push(Ci.hasOwnProperty('model')?Ci.model:Ci.value),yi++);if(!this.element.multiple)xi=0==yi?null:xi[0];else if(Array.isArray(this.value)){let wi=this.element.matcher||((Ci,_i)=>Ci===_i),ki=0;for(;ki<this.value.length;){let Ci=this.value[ki];-1===xi.findIndex((_i)=>wi(Ci,_i))?this.value.splice(ki,1):ki++}for(ki=0;ki<xi.length;){let Ci=xi[ki];-1===this.value.findIndex((_i)=>wi(Ci,_i))&&this.value.push(Ci),ki++}return}xi!==this.value&&(this.oldValue=this.value,this.value=xi,this.notify())}notify(){let vi=this.oldValue,yi=this.value;this.callSubscribers(yi,vi)}subscribe(vi,yi){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(vi,yi)}unsubscribe(vi,yi){this.removeSubscriber(vi,yi)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}bind(){this.domObserver=Fe.c.createMutationObserver(()=>{this.synchronizeOptions(),this.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})}unbind(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(qr,this),this.arrayObserver=null)}})||rt),Br=class{constructor(vi){this.element=vi,this.doNotCache=!0,this.value='',this.version=0}getValue(){return this.value}setValue(vi){let yi=this.nameIndex||{},xi=this.version,wi,ki;if(null!==vi&&void 0!==vi&&vi.length){wi=vi.split(/\s+/);for(let Ci=0,_i=wi.length;Ci<_i;Ci++)(ki=wi[Ci],''!==ki)&&(yi[ki]=xi,this.element.classList.add(ki))}if(this.value=vi,this.nameIndex=yi,this.version+=1,0!==xi)for(ki in xi-=1,yi)yi.hasOwnProperty(ki)&&yi[ki]===xi&&this.element.classList.remove(ki)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "class" property is not supported.`)}},zr=class extends zt{constructor(vi,yi){super(),this.name=vi,this.dependencies=yi,this.isAssignable=!0}evaluate(vi){return vi.bindingContext[this.name]}assign(vi,yi){vi.bindingContext[this.name]=yi}accept(){throw new Error('not implemented')}connect(vi,yi){let xi=this.dependencies,wi=xi.length;for(;wi--;)xi[wi].connect(vi,yi)}},Dr,Hr,Ur,Wr;const Yr=Wr||class{isStandardSvgAttribute(){return!1}};h.o=Yr;let Xr=(ot=at=class{constructor(vi,yi,xi,wi,ki){this.taskQueue=vi,this.eventManager=yi,this.dirtyChecker=xi,this.svgAnalyzer=wi,this.parser=ki,this.adapters=[],this.logger=Te.getLogger('observer-locator')}getObserver(vi,yi){let xi=vi.__observers__,wi;return xi&&yi in xi?xi[yi]:(wi=this.createPropertyObserver(vi,yi),wi.doNotCache||(void 0===xi&&(xi=this.getOrCreateObserversLookup(vi)),xi[yi]=wi),wi)}getOrCreateObserversLookup(vi){return vi.__observers__||this.createObserversLookup(vi)}createObserversLookup(vi){let yi={};return Reflect.defineProperty(vi,'__observers__',{enumerable:!1,configurable:!1,writable:!1,value:yi})||this.logger.warn('Cannot add observers to object',vi),yi}addAdapter(vi){this.adapters.push(vi)}getAdapterObserver(vi,yi,xi){for(let wi=0,ki=this.adapters.length;wi<ki;wi++){let Ci=this.adapters[wi],_i=Ci.getObserver(vi,yi,xi);if(_i)return _i}return null}createPropertyObserver(vi,yi){let xi,wi,ki;if(!(vi instanceof Object))return new Mr(vi,yi);if(vi instanceof Fe.c.Element){if('class'===yi)return new Br(vi);if('style'===yi||'css'===yi)return new Rr(vi,yi);if(wi=this.eventManager.getElementHandler(vi,yi),'value'===yi&&'select'===vi.tagName.toLowerCase())return new jr(vi,wi,this);if('checked'===yi&&'input'===vi.tagName.toLowerCase())return new Fr(vi,wi,this);if(wi)return new Lr(vi,yi,wi);if(ki=/^xlink:(.+)$/.exec(yi),ki)return new Ir(vi,yi,ki[1]);if('role'===yi&&(vi instanceof Fe.c.Element||vi instanceof Fe.c.SVGElement)||/^\w+:|^data-|^aria-/.test(yi)||vi instanceof Fe.c.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(vi.nodeName,yi))return new Or(vi,yi)}if(xi=Object.getPropertyDescriptor(vi,yi),Ae(xi))return Ie(vi,yi,xi,this);if(xi){const Ci=xi.get||xi.set;if(Ci){if(Ci.getObserver)return Ci.getObserver(vi);let _i=this.getAdapterObserver(vi,yi,xi);return _i?_i:new Sr(this.dirtyChecker,vi,yi)}}return vi instanceof Array?'length'===yi?this.getArrayObserver(vi).getLengthObserver():new Sr(this.dirtyChecker,vi,yi):vi instanceof Map?'size'===yi?this.getMapObserver(vi).getLengthObserver():new Sr(this.dirtyChecker,vi,yi):vi instanceof Set?'size'===yi?this.getSetObserver(vi).getLengthObserver():new Sr(this.dirtyChecker,vi,yi):new Pr(this.taskQueue,vi,yi)}getAccessor(vi,yi){if(vi instanceof Fe.c.Element){if('class'===yi||'style'===yi||'css'===yi||'value'===yi&&('input'===vi.tagName.toLowerCase()||'select'===vi.tagName.toLowerCase())||'checked'===yi&&'input'===vi.tagName.toLowerCase()||'model'===yi&&'input'===vi.tagName.toLowerCase()||/^xlink:.+$/.exec(yi))return this.getObserver(vi,yi);if(/^\w+:|^data-|^aria-/.test(yi)||vi instanceof Fe.c.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(vi.nodeName,yi))return Er}return Ar}getArrayObserver(vi){return oe(this.taskQueue,vi)}getMapObserver(vi){return we(this.taskQueue,vi)}getSetObserver(vi){return Le(this.taskQueue,vi)}},at.inject=[qe.a,Cr,class{constructor(){this.tracked=[],this.checkDelay=120}addProperty(vi){let yi=this.tracked;yi.push(vi),1===yi.length&&this.scheduleDirtyCheck()}removeProperty(vi){let yi=this.tracked;yi.splice(yi.indexOf(vi),1)}scheduleDirtyCheck(){setTimeout(()=>this.check(),this.checkDelay)}check(){let vi=this.tracked,yi=vi.length;for(;yi--;){let xi=vi[yi];xi.isDirty()&&xi.call()}vi.length&&this.scheduleDirtyCheck()}},Yr,hr],ot),Jr=class{constructor(vi,yi,xi,wi,ki,Ci){this.observerLocator=vi,this.targetProperty=yi,this.sourceExpression=xi,this.mode=wi,this.lookupFunctions=ki,this.attribute=Ci,this.discrete=!1}createBinding(vi){return new ti(this.observerLocator,this.sourceExpression,vi,this.targetProperty,this.mode,this.lookupFunctions)}};const ei='Binding:target';let ti=(st=F(),st(lt=class{constructor(vi,yi,xi,wi,ki,Ci){this.observerLocator=vi,this.sourceExpression=yi,this.target=xi,this.targetProperty=wi,this.mode=ki,this.lookupFunctions=Ci}updateTarget(vi){this.targetObserver.setValue(vi,this.target,this.targetProperty)}updateSource(vi){this.sourceExpression.assign(this.source,vi,this.lookupFunctions)}call(vi,yi,xi){if(this.isBound){if(vi===pt)return xi=this.targetObserver.getValue(this.target,this.targetProperty),yi=this.sourceExpression.evaluate(this.source,this.lookupFunctions),yi!==xi&&this.updateTarget(yi),void(this.mode!==un.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(vi===ei)return void(yi!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(yi));throw new Error(`Unexpected call context ${vi}`)}}bind(vi){if(this.isBound){if(this.source===vi)return;this.unbind()}this.isBound=!0,this.source=vi,this.sourceExpression.bind&&this.sourceExpression.bind(this,vi,this.lookupFunctions);let yi=this.mode;if(!this.targetObserver){let wi=yi===un.twoWay?'getObserver':'getAccessor';this.targetObserver=this.observerLocator[wi](this.target,this.targetProperty)}'bind'in this.targetObserver&&this.targetObserver.bind();let xi=this.sourceExpression.evaluate(vi,this.lookupFunctions);this.updateTarget(xi),yi===un.oneWay?z(this):yi===un.twoWay&&(this.sourceExpression.connect(this,vi),this.targetObserver.subscribe(ei,this))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,'unbind'in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(ei,this),this.unobserve(!0))}connect(vi){if(this.isBound){if(vi){let yi=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(yi)}this.sourceExpression.connect(this,this.source)}}})||lt),ni=class{constructor(vi,yi,xi,wi){this.observerLocator=vi,this.targetProperty=yi,this.sourceExpression=xi,this.lookupFunctions=wi}createBinding(vi){return new ri(this.observerLocator,this.sourceExpression,vi,this.targetProperty,this.lookupFunctions)}},ri=class{constructor(vi,yi,xi,wi,ki){this.sourceExpression=yi,this.target=xi,this.targetProperty=vi.getObserver(xi,wi),this.lookupFunctions=ki}callSource(vi){let yi=this.source.overrideContext;Object.assign(yi,vi),yi.$event=vi;let wi=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);for(let ki in delete yi.$event,vi)delete yi[ki];return wi}bind(vi){if(this.isBound){if(this.source===vi)return;this.unbind()}this.isBound=!0,this.source=vi,this.sourceExpression.bind&&this.sourceExpression.bind(this,vi,this.lookupFunctions),this.targetProperty.setValue((yi)=>this.callSource(yi))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))}},ai=class fi{constructor(vi){this.name=vi}static convention(vi){if(vi.endsWith('ValueConverter'))return new fi(N(vi.substring(0,vi.length-14)))}initialize(vi,yi){this.instance=vi.get(yi)}register(vi,yi){vi.registerValueConverter(yi||this.name,this.instance)}load(){}},oi=class fi{constructor(vi){this.name=vi}static convention(vi){if(vi.endsWith('BindingBehavior'))return new fi(N(vi.substring(0,vi.length-15)))}initialize(vi,yi){this.instance=vi.get(yi)}register(vi,yi){vi.registerBindingBehavior(yi||this.name,this.instance)}load(){}},si=class{constructor(vi,yi,xi,wi,ki,Ci){this.eventManager=vi,this.targetEvent=yi,this.sourceExpression=xi,this.delegationStrategy=wi,this.discrete=!0,this.preventDefault=ki,this.lookupFunctions=Ci}createBinding(vi){return new li(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,vi,this.preventDefault,this.lookupFunctions)}},li=class{constructor(vi,yi,xi,wi,ki,Ci,_i){this.eventManager=vi,this.targetEvent=yi,this.delegationStrategy=xi,this.sourceExpression=wi,this.target=ki,this.preventDefault=Ci,this.lookupFunctions=_i}callSource(vi){let yi=this.source.overrideContext;yi.$event=vi;let wi=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete yi.$event,!0!==wi&&this.preventDefault&&vi.preventDefault(),wi}bind(vi){if(this.isBound){if(this.source===vi)return;this.unbind()}this.isBound=!0,this.source=vi,this.sourceExpression.bind&&this.sourceExpression.bind(this,vi,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,(yi)=>this.callSource(yi),this.delegationStrategy)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)}},di=class fi{constructor(vi,yi,xi){this.sourceExpression=vi,this.apiName=yi,this.lookupFunctions=xi,this.discrete=!0}createBinding(vi){return new ui(this.sourceExpression,fi.locateAPI(vi,this.apiName),this.lookupFunctions)}static locateAPI(vi,yi){switch(yi){case'element':return vi;case'controller':return Re(vi).controller;case'view-model':return Re(vi).controller.viewModel;case'view':return Re(vi).controller.view;default:let xi=Re(vi)[yi];if(xi===void 0)throw new Error(`Attempted to reference "${yi}", but it was not found amongst the target's API.`);return xi.viewModel;}}},ui=class{constructor(vi,yi,xi){this.sourceExpression=vi,this.target=yi,this.lookupFunctions=xi}bind(vi){if(this.isBound){if(this.source===vi)return;this.unbind()}this.isBound=!0,this.source=vi,this.sourceExpression.bind&&this.sourceExpression.bind(this,vi,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)}};const ci={bindingBehaviors:()=>null,valueConverters:()=>null};let pi=(ut=dt=class{constructor(vi,yi){this.observerLocator=vi,this.parser=yi}createBindingExpression(vi,yi,xi=un.oneWay,wi=ci){return new Jr(this.observerLocator,vi,this.parser.parse(yi),xi,wi)}propertyObserver(vi,yi){return{subscribe:(xi)=>{let wi=this.observerLocator.getObserver(vi,yi);return wi.subscribe(xi),{dispose:()=>wi.unsubscribe(xi)}}}}collectionObserver(vi){return{subscribe:(yi)=>{let xi;if(vi instanceof Array)xi=this.observerLocator.getArrayObserver(vi);else if(vi instanceof Map)xi=this.observerLocator.getMapObserver(vi);else if(vi instanceof Set)xi=this.observerLocator.getSetObserver(vi);else throw new Error('collection must be an instance of Array, Map or Set.');return xi.subscribe(yi),{dispose:()=>xi.unsubscribe(yi)}}}}expressionObserver(vi,yi){let xi={bindingContext:vi,overrideContext:A(vi)};return new St(xi,this.parser.parse(yi),this.observerLocator,ci)}parseExpression(vi){return this.parser.parse(vi)}registerAdapter(vi){this.observerLocator.addAdapter(vi)}},dt.inject=[Xr,hr],ut),gi=Set.prototype,hi=class fi extends Et{constructor(vi,yi){super(vi,yi)}static for(vi,yi){return'__set_observer__'in yi||Reflect.defineProperty(yi,'__set_observer__',{value:fi.create(vi,yi),enumerable:!1,configurable:!1}),yi.__set_observer__}static create(vi,yi){let xi=new fi(vi,yi),wi=gi;return(wi.add!==yi.add||wi.delete!==yi.delete||wi.clear!==yi.clear)&&(wi={add:yi.add,delete:yi.delete,clear:yi.clear}),yi.add=function(){let Ci=yi.size,_i=wi.add.apply(yi,arguments),Ni=yi.size===Ci;return Ni||xi.addChangeRecord({type:'add',object:yi,value:Array.from(yi).pop()}),_i},yi.delete=function(){let ki=yi.has(arguments[0]),Ci=wi.delete.apply(yi,arguments);return ki&&xi.addChangeRecord({type:'delete',object:yi,value:arguments[0]}),Ci},yi.clear=function(){let ki=wi.clear.apply(yi,arguments);return xi.addChangeRecord({type:'clear',object:yi}),ki},xi}}},30:function(u,h,w){'use strict';var A=w(1);h.a=function(M,I,R){var L,V,T;let F=(L=w.i(A.h)(M),V=w.i(A.i)(I),L(T=V(T=class{bind(z){this.$parent=z}})||T)||T);for(let B=0,z=R.length;B<z;++B)w.i(A.j)(R[B])(F);return F}},31:function(u,h,w){'use strict';function N(R){return /([^\/^\?]+)\.html/i.exec(R)[1].toLowerCase()}var M=w(1),I=w(30);h.a=function(R){let L=R.container.get(M.f),V=R.aurelia.loader;L.addResourcePlugin('.html',{fetch:function(T){return V.loadTemplate(T).then((F)=>{let B=F.template.getAttribute('bindable'),z=N(T);return B?(B=B.split(',').map((D)=>D.trim()),F.template.removeAttribute('bindable')):B=[],{[z]:w.i(I.a)(z,T,B)}})}})}},32:function(u,h,w){'use strict';var N=w(2),A=w(1),M=w(10),I=w(6),R=w(4);w.d(h,'a',function(){return T});var L,V;let T=(L=w.i(N.b)(A.p),L(V=class extends M.a{constructor(B){super(),this.compositionEngine=B}loadRoute(B,z){let D=B.container.createChild(),H={viewModel:w.i(I.a)(z.moduleId,R.c.get(B.container.viewModel.constructor).moduleId),childContainer:D,view:z.view||z.viewStrategy,router:B};return D.getChildRouter=function(){let U;return D.registerHandler(M.b,()=>{return U||(U=B.createChild(D))}),D.get(M.b)},this.compositionEngine.ensureViewModel(H)}})||V)},33:function(u){u.exports=function(){var w=[];return w.toString=function(){for(var A=[],M=0,I;M<this.length;M++)I=this[M],I[2]?A.push('@media '+I[2]+'{'+I[1]+'}'):A.push(I[1]);return A.join('')},w.i=function(N,A){'string'==typeof N&&(N=[[null,N,'']]);for(var M={},I=0,R;I<this.length;I++)R=this[I][0],'number'==typeof R&&(M[R]=!0);for(I=0;I<N.length;I++){var L=N[I];'number'==typeof L[0]&&M[L[0]]||(A&&!L[2]?L[2]=A:A&&(L[2]='('+L[2]+') and ('+A+')'),w.push(L))}},w}},34:function(u,h,w){(function(N,A){(function(M,I){'use strict';function R(Z){'function'!=typeof Z&&(Z=new Function(''+Z));for(var J=Array(arguments.length-1),ee=0;ee<J.length;ee++)J[ee]=arguments[ee+1];var te={callback:Z,args:J};return Q[W]=te,Y(W),W++}function L(Z){delete Q[Z]}function V(Z){var J=Z.callback,ee=Z.args;switch(ee.length){case 0:J();break;case 1:J(ee[0]);break;case 2:J(ee[0],ee[1]);break;case 3:J(ee[0],ee[1],ee[2]);break;default:J.apply(I,ee);}}function T(Z){if(K)setTimeout(T,0,Z);else{var J=Q[Z];if(J){K=!0;try{V(J)}finally{L(Z),K=!1}}}}function F(){Y=function(Z){A.nextTick(function(){T(Z)})}}function B(){if(M.postMessage&&!M.importScripts){var Z=!0,J=M.onmessage;return M.onmessage=function(){Z=!1},M.postMessage('','*'),M.onmessage=J,Z}}function z(){var Z='setImmediate$'+Math.random()+'$',J=function(ee){ee.source===M&&'string'==typeof ee.data&&0===ee.data.indexOf(Z)&&T(+ee.data.slice(Z.length))};M.addEventListener?M.addEventListener('message',J,!1):M.attachEvent('onmessage',J),Y=function(ee){M.postMessage(Z+ee,'*')}}function D(){var Z=new MessageChannel;Z.port1.onmessage=function(J){var ee=J.data;T(ee)},Y=function(J){Z.port2.postMessage(J)}}function H(){var Z=$.documentElement;Y=function(J){var ee=$.createElement('script');ee.onreadystatechange=function(){T(J),ee.onreadystatechange=null,Z.removeChild(ee),ee=null},Z.appendChild(ee)}}function U(){Y=function(Z){setTimeout(T,0,Z)}}if(!M.setImmediate){var W=1,Q={},K=!1,$=M.document,X=Object.getPrototypeOf&&Object.getPrototypeOf(M),Y;X=X&&X.setTimeout?X:M,'[object process]'==={}.toString.call(M.process)?F():B()?z():M.MessageChannel?D():$&&'onreadystatechange'in $.createElement('script')?H():U(),X.setImmediate=R,X.clearImmediate=L}})('undefined'==typeof self?'undefined'==typeof N?this:N:self)}).call(h,w(25),w(12))},35:function(u,h,w){function N(M,I){this._id=M,this._clearFn=I}var A=Function.prototype.apply;h.setTimeout=function(){return new N(A.call(setTimeout,window,arguments),clearTimeout)},h.setInterval=function(){return new N(A.call(setInterval,window,arguments),clearInterval)},h.clearTimeout=h.clearInterval=function(M){M&&M.close()},N.prototype.unref=N.prototype.ref=function(){},N.prototype.close=function(){this._clearFn.call(window,this._id)},h.enroll=function(M,I){clearTimeout(M._idleTimeoutId),M._idleTimeout=I},h.unenroll=function(M){clearTimeout(M._idleTimeoutId),M._idleTimeout=-1},h._unrefActive=h.active=function(M){clearTimeout(M._idleTimeoutId);var I=M._idleTimeout;0<=I&&(M._idleTimeoutId=setTimeout(function(){M._onTimeout&&M._onTimeout()},I))},w(34),h.setImmediate=setImmediate,h.clearImmediate=clearImmediate},36:function(u,h){'use strict';h.a=function(K,$,Y,X){var Z=arguments.length,J=3>Z?$:null===X?X=Object.getOwnPropertyDescriptor($,Y):X,ee;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)J=Reflect.decorate(K,$,Y,X);else for(var te=K.length-1;0<=te;te--)(ee=K[te])&&(J=(3>Z?ee(J):3<Z?ee($,Y,J):ee($,Y))||J);return 3<Z&&J&&Object.defineProperty($,Y,J),J};var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,$){K.__proto__=$}||function(K,$){for(var Y in $)$.hasOwnProperty(Y)&&(K[Y]=$[Y])},Q=Object.assign||function($){for(var X=1,Z=arguments.length,Y;X<Z;X++)for(var J in Y=arguments[X],Y)Object.prototype.hasOwnProperty.call(Y,J)&&($[J]=Y[J]);return $}},37:function(u,h,w){'use strict';(function(N,A){function M(X){return new Promise((Z,J)=>{W?Z(X(W)):U.push(()=>{try{Z(X(W))}catch(ee){J(ee)}})})}function I(){return new Promise((X)=>{function J(){K.document.removeEventListener('DOMContentLoaded',J),K.removeEventListener('load',J),X()}K.document&&'complete'!==K.document.readyState?(K.document.addEventListener('DOMContentLoaded',J),K.addEventListener('load',J)):X()})}function R(){if(H.a.Loader)return Promise.resolve(new H.a.Loader);{const X=w(26);return Promise.resolve(new X.WebpackLoader)}if(K.System&&'function'==typeof K.System.config)return K.System.normalize('aurelia-bootstrapper').then((X)=>{return K.System.normalize('aurelia-loader-default',X)}).then((X)=>{return K.System.import(X).then((Z)=>new Z.DefaultLoader)});if('function'==typeof K.require&&'string'==typeof K.require.version)return new Promise((X,Z)=>K.require(['aurelia-loader-default'],(J)=>X(new J.DefaultLoader),Z));if($&&'undefined'!=typeof A&&'undefined'!=typeof A.require){const X=A.require('aurelia-loader-nodejs');return Promise.resolve(new X.NodeJsLoader)}return Promise.reject('No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.')}function L(X){let Z;const J=$&&('renderer'===N.type||N.versions['node-webkit']);if($&&!J)Z='nodejs';else if('undefined'!=typeof window)Z='browser';else if('undefined'!=typeof self)Z='worker';else throw new Error('Could not determine platform implementation to load.');return X.loadModule('aurelia-pal-'+Z).then((ee)=>'nodejs'===Z&&!H.b&&ee.globalize()||ee.initialize())}function V(X){return L(X).then(()=>X.normalize('aurelia-bootstrapper')).then((Z)=>{return X.normalize('aurelia-framework',Z).then((J)=>{return X.map('aurelia-framework',J),Promise.all([X.normalize('aurelia-dependency-injection',J).then((ee)=>X.map('aurelia-dependency-injection',ee)),X.normalize('aurelia-router',Z).then((ee)=>X.map('aurelia-router',ee)),X.normalize('aurelia-logging-console',Z).then((ee)=>X.map('aurelia-logging-console',ee))]).then(()=>{return X.loadModule(J).then((ee)=>Q=ee.Aurelia)})})})}function T(X,Z){const J=Z.getAttribute('aurelia-app')||Z.getAttribute('data-aurelia-app');return F(X,Z,J)}function F(X,Z,J){const ee=new Q(X);return(ee.host=Z,ee.configModuleId=J||null,J)?X.loadModule(J).then((te)=>{if(!te.configure)throw new Error('Cannot initialize module \''+J+'\' without a configure function.');te.configure(ee)}):(ee.use.standardConfiguration().developmentLogging(),ee.start().then(()=>ee.setRoot()))}Object.defineProperty(h,'__esModule',{value:!0});var D=w(27),H=w(0);h.bootstrap=function(X){return M((Z)=>{const J=new Q(Z);return X(J)})};let U=[],W=null,Q=null;const K=H.a.global,$='undefined'!=typeof N&&!N.browser,Y=function(){return I().then(()=>R()).then((X)=>{return V(X).then(()=>{const Z=K.document.querySelectorAll('[aurelia-app],[data-aurelia-app]'),J=console.error.bind(console);for(let ee=0,te=Z.length;ee<te;++ee)T(X,Z[ee]).catch(J);W=X;for(let ee=0,te=U.length;ee<te;++ee)U[ee]();U=null})})}();h.starting=Y}).call(h,w(12),w(13)(u))},4:function(u,h,w){'use strict';function N(K){return K&&('function'==typeof K||'object'==typeof K)}function R(){return!0}function L(){}function V(K){return void 0===K?K={}:'function'==typeof K&&(K={validate:K}),K.validate||(K.validate=R),K.compose||(K.compose=L),K}function T(K){return function($){let Y=K($);return!0===Y}}function F(K,$){return function(Y){let X=$(Y);if(!0!==X)throw new Error(X||`${K} was not correctly implemented.`)}}function B(K,$){$=V($);let Y=function(X){let Z='function'==typeof X?X.prototype:X;$.compose(Z),Y.assert(Z),Object.defineProperty(Z,'protocol:'+K,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return Y.validate=T($.validate),Y.assert=F(K,$.validate),Y}var z=w(0);w.d(h,'c',function(){return Q}),h.d=function(K){const Y=Object.keys(K);return function(X){let Z=function(J){for(let ee='function'==typeof J?J.prototype:J,te=Y.length,ne;te--;)ne=Y[te],Object.defineProperty(ee,ne,{value:K[ne],writable:!0})};return X?Z(X):Z}},h.b=B;var D=Object.assign||function(K){for(var $=1,Y;$<arguments.length;$++)for(var X in Y=arguments[$],Y)Object.prototype.hasOwnProperty.call(Y,X)&&(K[X]=Y[X]);return K};const H={resource:'aurelia:resource',paramTypes:'design:paramtypes',propertyType:'design:type',properties:'design:properties',get(K,$,Y){if(N($)){let X=H.getOwn(K,$,Y);return void 0===X?H.get(K,Object.getPrototypeOf($),Y):X}},getOwn(K,$,Y){return N($)?Reflect.getOwnMetadata(K,$,Y):void 0},define(K,$,Y,X){Reflect.defineMetadata(K,$,Y,X)},getOrCreateOwn(K,$,Y,X){let Z=H.getOwn(K,Y,X);return void 0===Z&&(Z=new $,Reflect.defineMetadata(K,Z,Y,X)),Z}};h.a=H;const U=new Map,W=Object.freeze({moduleId:void 0,moduleMember:void 0});let Q=class K{constructor($,Y){this.moduleId=$,this.moduleMember=Y}static get($){let Y=U.get($);return void 0===Y&&z.a.eachModule((X,Z)=>{if('object'==typeof Z)for(let J in Z){let ee=Z[J];if(ee===$)return U.set($,Y=new K(X,J)),!0}return Z===$&&(U.set($,Y=new K(X,'default')),!0)}),Y||W}static set($,Y){U.set($,Y)}};B.create=function(K,$){$=V($);let X=function(Z){let J=B(K,$);return Z?J(Z):J};return X.decorates=function(Z){return!0===Z['protocol:'+K]},X.validate=T($.validate),X.assert=F(K,$.validate),X}},5:function(u,h,w){'use strict';function N(Y,X,Z){let J=U.length,ee;for(Z=W.call(Z),Z.unshift(Y);J--;)ee=U[J],ee[X].apply(ee,Z)}function A(){4>this.level||N(this,'debug',arguments)}function M(){3>this.level||N(this,'info',arguments)}function I(){2>this.level||N(this,'warn',arguments)}function R(){1>this.level||N(this,'error',arguments)}function L(Y){Y.debug=A,Y.info=M,Y.warn=I,Y.error=R}function V(Y){let X=new $(Y,Q);return X.setLevel(K),U.length&&L(X),X}Object.defineProperty(h,'__esModule',{value:!0}),h.getLogger=function(Y){return H[Y]||(H[Y]=V(Y))},h.addAppender=function(Y){if(U.push(Y),1===U.length)for(let X in H)L(H[X])},h.setLevel=function(Y){for(let X in K=Y,H)H[X].setLevel(Y)},h.getLevel=function(){return K},w.d(h,'Logger',function(){return $});const D={none:0,error:1,warn:2,info:3,debug:4};h.logLevel=D;let H={},U=[],W=Array.prototype.slice,Q={},K=D.none,$=class{constructor(X,Z){if(this.level=D.none,Z!==Q)throw new Error('Cannot instantiate "Logger". Use "getLogger" instead.');this.id=X}debug(X,...Z){}info(X,...Z){}warn(X,...Z){}error(X,...Z){}setLevel(X){this.level=X}}},6:function(u,h){'use strict';function N(z){for(let D=0,H;D<z.length;++D)if(H=z[D],'.'===H)z.splice(D,1),D-=1;else if('..'===H)if(0===D||1===D&&'..'===z[2]||'..'===z[D-1])continue;else 0<D&&(z.splice(D-1,2),D-=2)}function I(z,D,H){let U=[];if(null===D||D===void 0)return U;if(Array.isArray(D)){for(let W=0,Q=D.length;W<Q;W++)if(H)U.push(`${B(z)}=${F(D[W])}`);else{let K=z+'['+('object'==typeof D[W]&&null!==D[W]?W:'')+']';U=U.concat(I(K,D[W]))}}else if('object'==typeof D&&!H)for(let W in D)U=U.concat(I(z+'['+W+']',D[W]));else U.push(`${B(z)}=${F(D)}`);return U}function L(z,D){return Array.isArray(z)?(z.push(D),z):void 0===z?D:[z,D]}function V(z,D,H){let U=z,W=D.length-1;for(let Q=0,K;Q<=W;Q++)if(K=''===D[Q]?U.length:D[Q],Q<W){let $=U[K]&&'object'!=typeof U[K]?[U[K]]:U[K];U=U[K]=$||(isNaN(D[Q+1])?{}:[])}else U=U[K]=H}h.a=function(z,D){let H=D&&D.split('/'),U=z.trim().split('/');if('.'===U[0].charAt(0)&&H){let W=H.slice(0,H.length-1);U.unshift(...W)}return N(U),U.join('/')},h.b=function(z,D){if(!z)return D;if(!D)return z;let H=z.match(/^([^/]*?:)\//),U=H&&0<H.length?H[1]:'';z=z.substr(U.length);let W=0===z.indexOf('///')&&'file:'===U?'///':0===z.indexOf('//')?'//':0===z.indexOf('/')?'/':'';let Q='/'===D.slice(-1)?'/':'',K=z.split('/'),$=D.split('/'),Y=[];for(let X=0,Z=K.length;X<Z;++X)if('..'===K[X])Y.pop();else if('.'===K[X]||''===K[X])continue;else Y.push(K[X]);for(let X=0,Z=$.length;X<Z;++X)if('..'===$[X])Y.pop();else if('.'===$[X]||''===$[X])continue;else Y.push($[X]);return U+W+Y.join('/')+Q},h.c=function(z,D){let H=[],U=Object.keys(z||{}).sort();for(let W=0,Q=U.length,K;W<Q;W++)K=U[W],H=H.concat(I(K,z[K],D));return 0===H.length?'':H.join('&')},h.d=function(z){let D={};if(!z||'string'!=typeof z)return D;let H=z;'?'===H.charAt(0)&&(H=H.substr(1));let U=H.replace(/\+/g,' ').split('&');for(let W=0;W<U.length;W++){let Q=U[W].split('='),K=decodeURIComponent(Q[0]);if(K){let $=K.split(']['),Y=$.length-1;if(/\[/.test($[0])&&/\]$/.test($[Y])?($[Y]=$[Y].replace(/\]$/,''),$=$.shift().split('[').concat($),Y=$.length-1):Y=0,2<=Q.length){let X=Q[1]?decodeURIComponent(Q[1]):'';Y?V(D,$,X):D[K]=L(D[K],X)}else D[K]=!0}}return D};let F=encodeURIComponent,B=(z)=>F(z).replace('%24','$')},7:function(u,h,w){'use strict';function M(z,D,H){let U=0===D,W=D===H-1,Q=0==D%2;z.$index=D,z.$first=U,z.$last=W,z.$middle=!(U||W),z.$odd=!Q,z.$even=Q}var F=w(3);h.f=function(z,D){let H=z.length;for(0<D&&--D;D<H;++D)M(z[D].overrideContext,D,H)},h.e=function(z,D,H,U,W){let Q={},K=w.i(F.a)(Q,z.scope.overrideContext);return'undefined'==typeof W?Q[z.local]=D:(Q[z.key]=W,Q[z.value]=D),M(K,H,U),K},h.h=M,h.a=function(z,D){return z.behaviorInstructions.filter((H)=>H.originalAttrName===D)[0].attributes.items.sourceExpression},h.c=function(z){let D=!1;for(;z instanceof F.h;)z=z.expression;for(;z instanceof F.i;)z=z.expression,D=!0;return D?z:null},h.b=function(z){for(;z instanceof F.h;){if('oneTime'===z.name)return!0;z=z.expression}return!1},h.d=function(z){z.call&&z.mode===B?z.call(F.j):z.updateOneTimeBindings&&z.updateOneTimeBindings()},h.g=function(z,D,H,U){if(!H)return z.indexOf(D);const W=z.length;for(let Q=U||0;Q<W;Q++)if(H(z[Q],D))return Q;return-1};const B=F.e.oneTime},8:function(u,h,w){'use strict';var N=w(6),A=w(4);w.d(h,'b',function(){return I}),w.d(h,'a',function(){return R});let M=class{constructor(V,T){this.src=V,this.name=T}},I=class{constructor(V){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=V,this.onReady=null,this._template=null,this._factory=null}get template(){return this._template}set template(V){let T=this.address,F,B,z,D;this._template=V,this.templateIsLoaded=!0,F=V.content.querySelectorAll('require'),D=this.dependencies=Array(F.length);for(let H=0,U=F.length;H<U;++H){if(B=F[H],z=B.getAttribute('from'),!z)throw new Error(`<require> element in ${T} has no "from" attribute.`);D[H]=new M(w.i(N.a)(z,T),B.getAttribute('as')),B.parentNode&&B.parentNode.removeChild(B)}}get factory(){return this._factory}set factory(V){this._factory=V,this.factoryIsReady=!0}addDependency(V,T){let F='string'==typeof V?w.i(N.a)(V,this.address):A.c.get(V).moduleId;this.dependencies.push(new M(F,T))}},R=class{constructor(){this.templateRegistry={}}map(){throw new Error('Loaders must implement map(id, source).')}normalizeSync(){throw new Error('Loaders must implement normalizeSync(moduleId, relativeTo).')}normalize(){throw new Error('Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.')}loadModule(){throw new Error('Loaders must implement loadModule(id).')}loadAllModules(){throw new Error('Loader must implement loadAllModules(ids).')}loadTemplate(){throw new Error('Loader must implement loadTemplate(url).')}loadText(){throw new Error('Loader must implement loadText(url).')}applyPluginToUrl(){throw new Error('Loader must implement applyPluginToUrl(url, pluginName).')}addPlugin(){throw new Error('Loader must implement addPlugin(pluginName, implementation).')}getOrCreateTemplateRegistryEntry(V){return this.templateRegistry[V]||(this.templateRegistry[V]=new I(V))}}},9:function(u,h,w){'use strict';(function(N){function A(T){let F=1,B=R.c.createMutationObserver(T),z=R.c.createTextNode('');return B.observe(z,{characterData:!0}),function(){F=-F,z.data=F}}function M(T){return function(){function B(){clearTimeout(z),clearInterval(D),T()}let z=setTimeout(B,0),D=setInterval(B,50)}}function I(T,F){'onError'in F?F.onError(T):L?N(()=>{throw T}):setTimeout(()=>{throw T},0)}var R=w(0);w.d(h,'a',function(){return V});let L='function'==typeof N,V=class{constructor(){this.flushing=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],this.requestFlushMicroTaskQueue=R.d.mutationObserver?A(()=>this.flushMicroTaskQueue()):M(()=>this.flushMicroTaskQueue()),this.requestFlushTaskQueue=M(()=>this.flushTaskQueue())}queueMicroTask(F){1>this.microTaskQueue.length&&this.requestFlushMicroTaskQueue(),this.microTaskQueue.push(F)}queueTask(F){1>this.taskQueue.length&&this.requestFlushTaskQueue(),this.taskQueue.push(F)}flushTaskQueue(){let F=this.taskQueue,B=0,z;this.taskQueue=[];try{for(this.flushing=!0;B<F.length;)z=F[B],z.call(),B++}catch(D){I(D,z)}finally{this.flushing=!1}}flushMicroTaskQueue(){let F=this.microTaskQueue,B=this.microTaskQueueCapacity,z=0,D;try{for(this.flushing=!0;z<F.length;)if(D=F[z],D.call(),z++,z>B){for(let H=0,U=F.length-z;H<U;H++)F[H]=F[H+z];F.length-=z,z=0}}catch(H){I(H,D)}finally{this.flushing=!1}F.length=0}}}).call(h,w(35).setImmediate)},app:function(u,h){'use strict';Object.defineProperty(h,'__esModule',{value:!0});h.AppViewModel=class{constructor(){this.name=''}}},'app.html':function(u){u.exports='<template>\r\n  <require from="style.less"></require>\r\n  <require from="customElements/hello-tag"></require>\r\n\r\n  <h2>Aurelia + Webpack</h2>\r\n  <div>\r\n    What\'s your name? <br>\r\n    <input value.bind="name" />\r\n  </div>\r\n\r\n  <hello-tag name.bind="name | upper" if.bind="name"></hello-tag>\r\n</template>'},'aurelia-event-aggregator':function(u,h,w){'use strict';function N(F,B,z){try{F(B,z)}catch(D){L.error(D)}}function A(F,B){try{F.handle(B)}catch(z){L.error(z)}}function M(F){let B=new T;return F.subscribeOnce=function(z,D){return B.subscribeOnce(z,D)},F.subscribe=function(z,D){return B.subscribe(z,D)},F.publish=function(z,D){B.publish(z,D)},B}var R=w(5);w.d(h,'b',function(){return T}),h.configure=function(F){F.instance(T,M(F.aurelia))};const L=R.getLogger('event-aggregator');let V=class{constructor(B,z){this.messageType=B,this.callback=z}handle(B){B instanceof this.messageType&&this.callback.call(null,B)}},T=class{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(B,z){let D,H;if(!B)throw new Error('Event was invalid.');if('string'!=typeof B)for(D=this.messageHandlers.slice(),H=D.length;H--;)A(D[H],B);else if(D=this.eventLookup[B],D)for(D=D.slice(),H=D.length;H--;)N(D[H],z,B)}subscribe(B,z){let D,H;if(!B)throw new Error('Event channel/type was invalid.');return'string'==typeof B?(D=z,H=this.eventLookup[B]||(this.eventLookup[B]=[])):(D=new V(B,z),H=this.messageHandlers),H.push(D),{dispose(){let U=H.indexOf(D);-1!==U&&H.splice(U,1)}}}subscribeOnce(B,z){let D=this.subscribe(B,(H,U)=>{return D.dispose(),z(H,U)});return D}}},'aurelia-framework':function(u,h,w){'use strict';function N(){z.c.addEventListener('submit',(Z)=>{const J=Z.target,ee=J.action;'form'!==J.tagName.toLowerCase()||ee||Z.preventDefault()})}function A(Z,J){let ee,te=()=>{return ee=J.shift(),ee?Promise.resolve(ee(Z)).then(te):Promise.resolve()};return te()}function M(Z,J,ee){function te(re){return J.loadModule(re).then((ie)=>{return'configure'in ie?Promise.resolve(ie.configure(Z,ee.config||{})).then(()=>{Z.resourcesRelativeTo=null,K.debug(`Configured plugin ${ee.moduleId}.`)}):void(Z.resourcesRelativeTo=null,K.debug(`Loaded plugin ${ee.moduleId}.`))})}K.debug(`Loading plugin ${ee.moduleId}.`),Z.resourcesRelativeTo=ee.resourcesRelativeTo;let ne=ee.moduleId;return 1<ee.resourcesRelativeTo.length?J.normalize(ee.moduleId,ee.resourcesRelativeTo[1]).then((re)=>te(re)):te(ne)}function I(Z,J,ee){function te(oe){let se=oe.moduleId,le=R(se);return ne(se)&&(se=re(se)),Z.loader.normalize(se,oe.relativeTo).then((de)=>{return{name:oe.moduleId,importId:ne(oe.moduleId)?ie(de,le):de}})}function ne(oe){let se=R(oe);return!!se&&''!==se&&('.js'===se||'.ts'===se?!1:!0)}function re(oe){return oe.replace($,'')}function ie(oe,se){return re(oe)+'.'+se}let ae=Z.container.get(B.f);return Promise.all(Object.keys(J).map((oe)=>te(J[oe]))).then((oe)=>{let se=[],le=[];return oe.forEach((de)=>{se.push(void 0),le.push(de.importId)}),ae.importViewResources(le,se,ee)})}function R(Z){let J=Z.match($);if(J&&0<J.length)return J[0].split('.')[1]}function L(Z){if(Z.processed)throw new Error('This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.')}var V=w(5),T=w(2),F=w(8),B=w(1),z=w(0),D=w(6),H=w(3),U=w(4);w.d(h,'b',function(){return B.f}),w.d(h,'c',function(){return B.j});w(9);w.d(h,'Aurelia',function(){return Q});let Q=class Z{constructor(J,ee,te){this.loader=J||new z.a.Loader,this.container=ee||new T.a().makeGlobal(),this.resources=te||new B.a,this.use=new Y(this),this.logger=V.getLogger('aurelia'),this.hostConfigured=!1,this.host=null,this.use.instance(Z,this),this.use.instance(F.a,this.loader),this.use.instance(B.a,this.resources)}start(){return this.started?Promise.resolve(this):(this.started=!0,this.logger.info('Aurelia Starting'),this.use.apply().then(()=>{if(N(),!this.container.hasResolver(B.b)){let ee='You must configure Aurelia with a BindingLanguage implementation.';throw this.logger.error(ee),new Error(ee)}this.logger.info('Aurelia Started');let J=z.c.createCustomEvent('aurelia-started',{bubbles:!0,cancelable:!0});return z.c.dispatchEvent(J),this}))}enhance(J={},ee=null){return this._configureHost(ee||z.c.querySelectorAll('body')[0]),new Promise((te)=>{let ne=this.container.get(B.c);this.root=ne.enhance({container:this.container,element:this.host,resources:this.resources,bindingContext:J}),this.root.attached(),this._onAureliaComposed(),te(this)})}setRoot(J=null,ee=null){let te={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(ee);let ne=this.container.get(B.c),re=this.container.get(B.d);return delete re.initialComposition,J||(this.configModuleId?J=w.i(D.a)('./app',this.configModuleId):J='app'),te.viewModel=J,te.container=te.childContainer=this.container,te.viewSlot=this.hostSlot,te.host=this.host,ne.compose(te).then((ie)=>{return this.root=ie,te.viewSlot.attached(),this._onAureliaComposed(),this})}_configureHost(J){if(!this.hostConfigured){if(J=J||this.host,this.host=J&&'string'!=typeof J?J:z.c.getElementById(J||'applicationHost'),!this.host)throw new Error('No applicationHost was specified.');this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new B.e(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(z.c.boundary,this.host)}}_onAureliaComposed(){let J=z.c.createCustomEvent('aurelia-composed',{bubbles:!0,cancelable:!0});setTimeout(()=>z.c.dispatchEvent(J),1)}};const K=V.getLogger('aurelia'),$=/\.[^/.]+$/;let Y=class{constructor(J){this.aurelia=J,this.container=J.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(()=>J.loader.normalize('aurelia-bootstrapper').then((ee)=>this.bootstrapperName=ee)),this.postTask(()=>I(J,this.resourcesToLoad,J.resources))}instance(J,ee){return this.container.registerInstance(J,ee),this}singleton(J,ee){return this.container.registerSingleton(J,ee),this}transient(J,ee){return this.container.registerTransient(J,ee),this}preTask(J){return L(this),this.preTasks.push(J),this}postTask(J){return L(this),this.postTasks.push(J),this}feature(J,ee){return R(J)?this.plugin({moduleId:J,resourcesRelativeTo:[J,''],config:ee||{}}):this.plugin({moduleId:J+'/index',resourcesRelativeTo:[J,''],config:ee||{}})}globalResources(J){L(this);let ee=Array.isArray(J)?J:arguments,te,ne=this.resourcesRelativeTo||['',''];for(let re=0,ie=ee.length;re<ie;++re){if(te=ee[re],'string'!=typeof te)throw new Error(`Invalid resource path [${te}]. Resources must be specified as relative module IDs.`);let ae=ne[0],oe=ne[1],se=te;(te.startsWith('./')||te.startsWith('../'))&&''!==ae&&(se=w.i(D.b)(ae,te)),this.resourcesToLoad[se]={moduleId:se,relativeTo:oe}}return this}globalName(J,ee){return L(this),this.resourcesToLoad[J]={moduleId:ee,relativeTo:''},this}plugin(J,ee){return(L(this),'string'==typeof J)?this.plugin({moduleId:J,resourcesRelativeTo:[J,''],config:ee||{}}):(this.info.push(J),this)}_addNormalizedPlugin(J,ee){let te={moduleId:J,resourcesRelativeTo:[J,''],config:ee||{}};return this.plugin(te),this.preTask(()=>{let ne=[J,this.bootstrapperName];return te.moduleId=J,te.resourcesRelativeTo=ne,Promise.resolve()}),this}defaultBindingLanguage(){return this._addNormalizedPlugin('aurelia-templating-binding')}router(){return this._addNormalizedPlugin('aurelia-templating-router')}history(){return this._addNormalizedPlugin('aurelia-history-browser')}defaultResources(){return this._addNormalizedPlugin('aurelia-templating-resources')}eventAggregator(){return this._addNormalizedPlugin('aurelia-event-aggregator')}basicConfiguration(){return this.defaultBindingLanguage().defaultResources().eventAggregator()}standardConfiguration(){return this.basicConfiguration().history().router()}developmentLogging(){return this.preTask(()=>{return this.aurelia.loader.normalize('aurelia-logging-console',this.bootstrapperName).then((J)=>{return this.aurelia.loader.loadModule(J).then((ee)=>{V.addAppender(new ee.ConsoleAppender),V.setLevel(V.logLevel.debug)})})}),this}apply(){return this.processed?Promise.resolve():A(this,this.preTasks).then(()=>{let J=this.aurelia.loader,ee=this.info,te,ne=()=>{return(te=ee.shift(),te)?M(this,J,te).then(ne):(this.processed=!0,Promise.resolve())};return ne().then(()=>A(this,this.postTasks))})}}},'aurelia-history-browser':function(u,h,w){'use strict';function A(W,Q,K){if(K){let $=W.href.replace(/(javascript:|#).*$/,'');W.replace($+'#'+Q)}else W.hash='#'+Q}function M(W,Q,K){return`${W}//${Q}${K?':'+K:''}`}var I=w(0),R=w(14);h.configure=function(W){W.singleton(R.a,B),W.transient(T,F)};var L,V;let T=class{activate(){}deactivate(){}},F=class W extends T{constructor(){super(),this.handler=(Q)=>{let{shouldHandleEvent:K,href:$}=W.getEventInfo(Q);K&&(Q.preventDefault(),this.history.navigate($))}}activate(Q){Q._hasPushState&&(this.history=Q,I.c.addEventListener('click',this.handler,!0))}deactivate(){I.c.removeEventListener('click',this.handler)}static getEventInfo(Q){let K={shouldHandleEvent:!1,href:null,anchor:null},$=W.findClosestAnchor(Q.target);if(!$||!W.targetIsThisWindow($))return K;if(Q.altKey||Q.ctrlKey||Q.metaKey||Q.shiftKey)return K;let Y=$.getAttribute('href');K.anchor=$,K.href=Y;let X=1===Q.which,Z=Y&&!('#'===Y.charAt(0)||/^[a-z]+:/i.test(Y));return K.shouldHandleEvent=X&&Z,K}static findClosestAnchor(Q){for(;Q;){if('A'===Q.tagName)return Q;Q=Q.parentNode}}static targetIsThisWindow(Q){let K=Q.getAttribute('target'),$=I.a.global;return!K||K===$.name||'_self'===K||'top'===K&&$===$.top}},B=(V=L=class extends R.a{constructor(Q){super(),this._isActive=!1,this._checkUrlCallback=this._checkUrl.bind(this),this.location=I.a.location,this.history=I.a.history,this.linkHandler=Q}activate(Q){if(this._isActive)throw new Error('History has already been activated.');let K=!!Q.pushState;this._isActive=!0,this.options=Object.assign({},{root:'/'},this.options,Q),this.root=('/'+this.options.root+'/').replace(D,'/'),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);let $;if(this._hasPushState?$='popstate':this._wantsHashChange&&($='hashchange'),I.a.addEventListener($,this._checkUrlCallback),this._wantsHashChange&&K){let Y=this.location,X=Y.pathname.replace(/[^\/]$/,'$&/')===this.root;if(!this._hasPushState&&!X)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+'#'+this.fragment),!0;this._hasPushState&&X&&Y.hash&&(this.fragment=this._getHash().replace(z,''),this.history.replaceState({},I.c.title,this.root+this.fragment+Y.search))}return(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)?this._loadUrl():void 0}deactivate(){I.a.removeEventListener('popstate',this._checkUrlCallback),I.a.removeEventListener('hashchange',this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()}getAbsoluteRoot(){let Q=M(this.location.protocol,this.location.hostname,this.location.port);return`${Q}${this.root}`}navigate(Q,{trigger:K=!0,replace:$=!1}={}){if(Q&&U.test(Q))return this.location.href=Q,!0;if(!this._isActive)return!1;if(Q=this._getFragment(Q||''),this.fragment===Q&&!$)return!1;this.fragment=Q;let Y=this.root+Q;if(''===Q&&'/'!==Y&&(Y=Y.slice(0,-1)),this._hasPushState)Y=Y.replace('//','/'),this.history[$?'replaceState':'pushState']({},I.c.title,Y);else if(this._wantsHashChange)A(this.location,Q,$);else return this.location.assign(Y);return K?this._loadUrl(Q):void 0}navigateBack(){this.history.back()}setTitle(Q){I.c.title=Q}_getHash(){return this.location.hash.substr(1)}_getFragment(Q,K){let $;return Q||(this._hasPushState||!this._wantsHashChange||K?(Q=this.location.pathname+this.location.search,$=this.root.replace(H,''),!Q.indexOf($)&&(Q=Q.substr($.length))):Q=this._getHash()),'/'+Q.replace(z,'')}_checkUrl(){let Q=this._getFragment();Q!==this.fragment&&this._loadUrl()}_loadUrl(Q){let K=this.fragment=this._getFragment(Q);return!!this.options.routeHandler&&this.options.routeHandler(K)}},L.inject=[T],V);const z=/^#?\/*|\s+$/g,D=/^\/+|\/+$/g,H=/\/$/,U=/^([a-z][a-z0-9+\-.]*:)?\/\//i},'aurelia-logging-console':function(u,h,w){'use strict';w(5);w.d(h,'ConsoleAppender',function(){return A});let A=class{debug(I,...R){console.debug(`DEBUG [${I.id}]`,...R)}info(I,...R){console.info(`INFO [${I.id}]`,...R)}warn(I,...R){console.warn(`WARN [${I.id}]`,...R)}error(I,...R){console.error(`ERROR [${I.id}]`,...R)}}},'aurelia-pal-browser':function(u,h,w){'use strict';function N(){(function(){}).name||Object.defineProperty(Function.prototype,'name',{get:function(){let U=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,'name',{value:U}),U}})}function A(){if(!('classList'in document.createElement('_'))||document.createElementNS&&!('classList'in document.createElementNS('http://www.w3.org/2000/svg','g'))){let H='prototype',U=String.prototype.trim,W=Array.prototype.indexOf,Q=[],K=function(Z,J){this.name=Z,this.code=DOMException[Z],this.message=J},$=function(Z,J){if(''===J)throw new K('SYNTAX_ERR','An invalid or illegal string was specified');if(/\s/.test(J))throw new K('INVALID_CHARACTER_ERR','String contains an invalid character');return W.call(Z,J)},Y=function(Z){let J=U.call(Z.getAttribute('class')||''),ee=J?J.split(/\s+/):Q;for(let te=0,ne=ee.length;te<ne;++te)this.push(ee[te]);this._updateClassName=function(){Z.setAttribute('class',this.toString())}},X=Y[H]=[];K[H]=Error[H],X.item=function(Z){return this[Z]||null},X.contains=function(Z){return Z+='',-1!==$(this,Z)},X.add=function(){let Z=arguments,J=0,ee=Z.length,ne=!1,te;do te=Z[J]+'',-1===$(this,te)&&(this.push(te),ne=!0);while(++J<ee);ne&&this._updateClassName()},X.remove=function(){let Z=arguments,J=0,ee=Z.length,ne=!1,te,re;do for(te=Z[J]+'',re=$(this,te);-1!==re;)this.splice(re,1),ne=!0,re=$(this,te);while(++J<ee);ne&&this._updateClassName()},X.toggle=function(Z,J){Z+='';let ee=this.contains(Z),te=ee?!0!==J&&'remove':!1!==J&&'add';return te&&this[te](Z),!0===J||!1===J?J:!ee},X.toString=function(){return this.join(' ')},Object.defineProperty(Element.prototype,'classList',{get:function(){return new Y(this)},enumerable:!0,configurable:!0})}else{let H=document.createElement('_');if(H.classList.add('c1','c2'),!H.classList.contains('c2')){let U=function(W){let Q=DOMTokenList.prototype[W];DOMTokenList.prototype[W]=function(K){for(let $=0,Y=arguments.length;$<Y;++$)K=arguments[$],Q.call(this,K)}};U('add'),U('remove')}if(H.classList.toggle('c3',!1),H.classList.contains('c3')){let U=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(W,Q){return 1 in arguments&&!this.contains(W)==!Q?Q:U.call(this,W)}}H=null}}function M(){if(!1=='performance'in window&&(window.performance={}),!1=='now'in window.performance){let H=Date.now();performance.timing&&performance.timing.navigationStart&&(H=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-H}}F.performance=window.performance}function I(){if(!window.CustomEvent||'function'!=typeof window.CustomEvent){let H=function(U,W){W=W||{bubbles:!1,cancelable:!1,detail:void 0};let Q=document.createEvent('CustomEvent');return Q.initCustomEvent(U,W.bubbles,W.cancelable,W.detail),Q};H.prototype=window.Event.prototype,window.CustomEvent=H}}function R(){if(Element&&!Element.prototype.matches){let H=Element.prototype;H.matches=H.matchesSelector||H.mozMatchesSelector||H.msMatchesSelector||H.oMatchesSelector||H.webkitMatchesSelector}}function L(){function H(K){return'template'===K.tagName&&'http://www.w3.org/2000/svg'===K.namespaceURI}function U(K){let $=K.ownerDocument.createElement('template'),Y=K.attributes,X=Y.length,Z;for(K.parentNode.insertBefore($,K);0<X--;)Z=Y[X],$.setAttribute(Z.name,Z.value),K.removeAttribute(Z.name);return K.parentNode.removeChild(K),W($)}function W(K){for(let $=K.content=document.createDocumentFragment(),Y;Y=K.firstChild;)$.appendChild(Y);return K}B.ensureHTMLTemplateElement=B.htmlTemplateElement?function(K){return K}:function(K){let $=W(K).content,Y=$.querySelectorAll('template');for(let X=0,Z=Y.length,J;X<Z;++X)J=Y[X],H(J)?U(J):W(J);return K}}Object.defineProperty(h,'__esModule',{value:!0});var T=w(0);h._ensureFunctionName=N,h._ensureClassList=A,h._ensurePerformance=M,h._ensureCustomEvent=I,h._ensureElementMatches=R,h._ensureHTMLTemplateElement=L,h.initialize=function(){T.b||(I(),N(),L(),R(),A(),M(),w.i(T.f)((H,U,W)=>{Object.assign(H,F),Object.assign(U,B),Object.assign(W,D),function(Q){Q.console=Q.console||{};let K=Q.console,$,Y,X={},Z=function(){},J='memory'.split(','),ee='assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn'.split(',');for(;$=J.pop();)K[$]||(K[$]=X);for(;Y=ee.pop();)K[Y]||(K[Y]=Z)}(H.global),H.global.console&&'object'==typeof console.log&&['log','info','warn','error','assert','dir','clear','profile','profileEnd'].forEach(function(Q){console[Q]=this.bind(console[Q],console)},Function.prototype.call),Object.defineProperty(W,'title',{get:function(){return document.title},set:function(Q){document.title=Q}}),Object.defineProperty(W,'activeElement',{get:function(){return document.activeElement}}),Object.defineProperty(H,'XMLHttpRequest',{get:function(){return H.global.XMLHttpRequest}})}))};const F={location:window.location,history:window.history,addEventListener(H,U,W){this.global.addEventListener(H,U,W)},removeEventListener(H,U,W){this.global.removeEventListener(H,U,W)},performance:window.performance,requestAnimationFrame(H){return this.global.requestAnimationFrame(H)}};h._PLATFORM=F;const B={};h._FEATURE=B,B.shadowDOM=function(){return!!HTMLElement.prototype.attachShadow}(),B.scopedCSS=function(){return'scoped'in document.createElement('style')}(),B.htmlTemplateElement=function(){return'content'in document.createElement('template')}(),B.mutationObserver=function(){return!!(window.MutationObserver||window.WebKitMutationObserver)}();let z=window.ShadowDOMPolyfill||null;const D={Element:Element,SVGElement:SVGElement,boundary:'aurelia-dom-boundary',addEventListener(H,U,W){document.addEventListener(H,U,W)},removeEventListener(H,U,W){document.removeEventListener(H,U,W)},adoptNode(H){return document.adoptNode(H,!0)},createElement(H){return document.createElement(H)},createTextNode(H){return document.createTextNode(H)},createComment(H){return document.createComment(H)},createDocumentFragment(){return document.createDocumentFragment()},createMutationObserver(H){return new(window.MutationObserver||window.WebKitMutationObserver)(H)},createCustomEvent(H,U){return new window.CustomEvent(H,U)},dispatchEvent(H){document.dispatchEvent(H)},getComputedStyle(H){return window.getComputedStyle(H)},getElementById(H){return document.getElementById(H)},querySelectorAll(H){return document.querySelectorAll(H)},nextElementSibling(H){if(H.nextElementSibling)return H.nextElementSibling;do H=H.nextSibling;while(H&&1!==H.nodeType);return H},createTemplateFromMarkup(H){let U=document.createElement('div');U.innerHTML=H;let W=U.firstElementChild;if(!W||'TEMPLATE'!==W.nodeName)throw new Error('Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>');return B.ensureHTMLTemplateElement(W)},appendNode(H,U){(U||document.body).appendChild(H)},replaceNode(H,U,W){U.parentNode?U.parentNode.replaceChild(H,U):null===z?W.replaceChild(H,U):z.unwrap(W).replaceChild(z.unwrap(H),z.unwrap(U))},removeNode(H,U){H.parentNode?H.parentNode.removeChild(H):U&&(null===z?U.removeChild(H):z.unwrap(U).removeChild(z.unwrap(H)))},injectStyles(H,U,W){let Q=document.createElement('style');return Q.innerHTML=H,Q.type='text/css',U=U||document.head,W&&0<U.childNodes.length?U.insertBefore(Q,U.childNodes[0]):U.appendChild(Q),Q}};h._DOM=D},'aurelia-templating-binding':function(u,h,w){'use strict';function N(Z,J){if('style'===J)M.getLogger('templating-binding').info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(Z.parentElement&&'TEXTAREA'===Z.parentElement.nodeName&&'textContent'===J)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var M=w(5),I=w(3),R=w(1);h.configure=function(Z){Z.container.registerSingleton(R.b,X),Z.container.registerAlias(R.b,X)};var L,V,T,F,B,z,D,H;let U=(V=L=class{constructor(J){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=J,this.registerUniversal('accesskey','accessKey'),this.registerUniversal('contenteditable','contentEditable'),this.registerUniversal('tabindex','tabIndex'),this.registerUniversal('textcontent','textContent'),this.registerUniversal('innerhtml','innerHTML'),this.registerUniversal('scrolltop','scrollTop'),this.registerUniversal('scrollleft','scrollLeft'),this.registerUniversal('readonly','readOnly'),this.register('label','for','htmlFor'),this.register('input','maxlength','maxLength'),this.register('input','minlength','minLength'),this.register('input','formaction','formAction'),this.register('input','formenctype','formEncType'),this.register('input','formmethod','formMethod'),this.register('input','formnovalidate','formNoValidate'),this.register('input','formtarget','formTarget'),this.register('textarea','maxlength','maxLength'),this.register('td','rowspan','rowSpan'),this.register('td','colspan','colSpan'),this.register('th','rowspan','rowSpan'),this.register('th','colspan','colSpan')}register(J,ee,te){J=J.toLowerCase(),ee=ee.toLowerCase();const ne=this.elements[J]=this.elements[J]||Object.create(null);ne[ee]=te}registerUniversal(J,ee){J=J.toLowerCase(),this.allElements[J]=ee}map(J,ee){if(this.svg.isStandardSvgAttribute(J,ee))return ee;J=J.toLowerCase(),ee=ee.toLowerCase();const te=this.elements[J];return void 0!==te&&ee in te?te[ee]:ee in this.allElements?this.allElements[ee]:/(?:^data-)|(?:^aria-)|:/.test(ee)?ee:w.i(I.n)(ee)}},L.inject=[I.o],V),W=class{constructor(J,ee,te,ne,re,ie){this.observerLocator=J,this.targetProperty=ee,this.parts=te,this.mode=ne,this.lookupFunctions=re,this.attribute=this.attrToRemove=ie,this.discrete=!1}createBinding(J){return 3===this.parts.length?new K(J,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new Q(this.observerLocator,this.parts,J,this.targetProperty,this.mode,this.lookupFunctions)}},Q=class{constructor(J,ee,te,ne,re,ie){N(te,ne),this.observerLocator=J,this.parts=ee,this.target=te,this.targetProperty=ne,this.targetAccessor=J.getAccessor(te,ne),this.mode=re,this.lookupFunctions=ie}interpolate(){if(this.isBound){let J='',ee=this.parts;for(let te=0,ne=ee.length;te<ne;te++)J+=0==te%2?ee[te]:this[`childBinding${te}`].value;this.targetAccessor.setValue(J,this.target,this.targetProperty)}}updateOneTimeBindings(){for(let J=1,ee=this.parts.length,te;J<ee;J+=2)te=this[`childBinding${J}`],te.mode===I.e.oneTime&&te.call()}bind(J){if(this.isBound){if(this.source===J)return;this.unbind()}this.source=J;let ee=this.parts;for(let te=1,ne=ee.length,re;te<ne;te+=2)re=new K(this,this.observerLocator,ee[te],this.mode,this.lookupFunctions),re.bind(J),this[`childBinding${te}`]=re;this.isBound=!0,this.interpolate()}unbind(){if(this.isBound){this.isBound=!1,this.source=null;let J=this.parts;for(let ee=1,te=J.length,ne;ee<te;ee+=2)ne=`childBinding${ee}`,this[ne].unbind()}}},K=(T=w.i(I.p)(),T(F=class{constructor(J,ee,te,ne,re,ie,ae,oe){J instanceof Q?this.parent=J:(N(J,ie),this.target=J,this.targetProperty=ie,this.targetAccessor=ee.getAccessor(J,ie)),this.observerLocator=ee,this.sourceExpression=te,this.mode=ne,this.lookupFunctions=re,this.left=ae,this.right=oe}updateTarget(J){J=null===J||J===void 0?'':J.toString(),J!==this.value&&(this.value=J,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+J+this.right,this.target,this.targetProperty))}call(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==I.e.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))}bind(J){if(this.isBound){if(this.source===J)return;this.unbind()}this.isBound=!0,this.source=J;let ee=this.sourceExpression;ee.bind&&ee.bind(this,J,this.lookupFunctions),this.rawValue=ee.evaluate(J,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===I.e.oneWay&&w.i(I.q)(this)}unbind(){if(this.isBound){this.isBound=!1;let J=this.sourceExpression;J.unbind&&J.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}}connect(J){this.isBound&&(J&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))}})||F),$=(z=B=class{constructor(J,ee,te,ne){this.parser=J,this.observerLocator=ee,this.eventManager=te,this.attributeMap=ne}interpret(J,ee,te,ne,re){return te.command in this?this[te.command](J,ee,te,ne,re):this.handleUnknownCommand(J,ee,te,ne,re)}handleUnknownCommand(J,ee,te,ne){return M.getLogger('templating-binding').warn('Unknown binding command.',te),ne}determineDefaultBindingMode(J,ee,te){let ne=J.tagName.toLowerCase();return'input'===ne&&('value'===ee||'files'===ee)&&'checkbox'!==J.type&&'radio'!==J.type||'input'===ne&&'checked'===ee&&('checkbox'===J.type||'radio'===J.type)||('textarea'===ne||'select'===ne)&&'value'===ee||('textcontent'===ee||'innerhtml'===ee)&&'true'===J.contentEditable||'scrolltop'===ee||'scrollleft'===ee?I.e.twoWay:te&&ee in te.attributes&&te.attributes[ee]&&te.attributes[ee].defaultBindingMode>=I.e.oneTime?te.attributes[ee].defaultBindingMode:I.e.oneWay}bind(J,ee,te,ne,re){let ie=ne||R.s.attribute(te.attrName);return ie.attributes[te.attrName]=new I.r(this.observerLocator,this.attributeMap.map(ee.tagName,te.attrName),this.parser.parse(te.attrValue),te.defaultBindingMode||this.determineDefaultBindingMode(ee,te.attrName,re),J.lookupFunctions),ie}trigger(J,ee,te){return new I.s(this.eventManager,te.attrName,this.parser.parse(te.attrValue),I.t.none,!0,J.lookupFunctions)}capture(J,ee,te){return new I.s(this.eventManager,te.attrName,this.parser.parse(te.attrValue),I.t.capturing,!0,J.lookupFunctions)}delegate(J,ee,te){return new I.s(this.eventManager,te.attrName,this.parser.parse(te.attrValue),I.t.bubbling,!0,J.lookupFunctions)}call(J,ee,te,ne){let re=ne||R.s.attribute(te.attrName);return re.attributes[te.attrName]=new I.u(this.observerLocator,te.attrName,this.parser.parse(te.attrValue),J.lookupFunctions),re}options(J,ee,te,ne,re){let ie=ne||R.s.attribute(te.attrName),ae=te.attrValue,oe=this.language,se=null,le='',pe=!1,me=!1,ge=!1,de,ue,ce;for(ue=0,ce=ae.length;ue<ce;++ue){if(de=ae[ue],';'===de&&!pe)ge||(se=this._getPrimaryPropertyName(J,re)),te=oe.inspectAttribute(J,'?',se,le.trim()),oe.createAttributeInstruction(J,ee,te,ie,re),ie.attributes[te.attrName]||(ie.attributes[te.attrName]=te.attrValue),le='',se=null;else if(':'===de&&null===se)ge=!0,se=le.trim(),le='';else if('\\'===de){le+=de,me=!0;continue}else le+=de,null!==se&&!1==me&&'\''===de&&(pe=!pe);me=!1}return ge||(se=this._getPrimaryPropertyName(J,re)),null!==se&&(te=oe.inspectAttribute(J,'?',se,le.trim()),oe.createAttributeInstruction(J,ee,te,ie,re),!ie.attributes[te.attrName]&&(ie.attributes[te.attrName]=te.attrValue)),ie}_getPrimaryPropertyName(J,ee){let te=J.getAttribute(ee.attributeName);return te&&te.primaryProperty?te.primaryProperty.name:null}'for'(J,ee,te,ne){let re,ie,ae,oe,se;if(oe=te.attrValue,se=oe.match(/^ *[[].+[\]]/),re=se?oe.split('of '):oe.split(' of '),2!==re.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return ae=ne||R.s.attribute(te.attrName),se?(ie=re[0].replace(/[[\]]/g,'').replace(/,/g,' ').replace(/\s+/g,' ').trim().split(' '),ae.attributes.key=ie[0],ae.attributes.value=ie[1]):ae.attributes.local=re[0],ae.attributes.items=new I.r(this.observerLocator,'items',this.parser.parse(re[1]),I.e.oneWay,J.lookupFunctions),ae}'two-way'(J,ee,te,ne){let re=ne||R.s.attribute(te.attrName);return re.attributes[te.attrName]=new I.r(this.observerLocator,this.attributeMap.map(ee.tagName,te.attrName),this.parser.parse(te.attrValue),I.e.twoWay,J.lookupFunctions),re}'one-way'(J,ee,te,ne){let re=ne||R.s.attribute(te.attrName);return re.attributes[te.attrName]=new I.r(this.observerLocator,this.attributeMap.map(ee.tagName,te.attrName),this.parser.parse(te.attrValue),I.e.oneWay,J.lookupFunctions),re}'one-time'(J,ee,te,ne){let re=ne||R.s.attribute(te.attrName);return re.attributes[te.attrName]=new I.r(this.observerLocator,this.attributeMap.map(ee.tagName,te.attrName),this.parser.parse(te.attrValue),I.e.oneTime,J.lookupFunctions),re}},B.inject=[I.v,I.f,I.g,U],z),Y={},X=(H=D=class extends R.b{constructor(J,ee,te,ne){super(),this.parser=J,this.observerLocator=ee,this.syntaxInterpreter=te,this.emptyStringExpression=this.parser.parse('\'\''),te.language=this,this.attributeMap=ne}inspectAttribute(J,ee,te,ne){let re=te.split('.');if(Y.defaultBindingMode=null,2===re.length)Y.attrName=re[0].trim(),Y.attrValue=ne,Y.command=re[1].trim(),'ref'===Y.command?(Y.expression=new I.w(this.parser.parse(ne),Y.attrName,J.lookupFunctions),Y.command=null,Y.attrName='ref'):Y.expression=null;else if('ref'===te)Y.attrName=te,Y.attrValue=ne,Y.command=null,Y.expression=new I.w(this.parser.parse(ne),'element',J.lookupFunctions);else{Y.attrName=te,Y.attrValue=ne,Y.command=null;const ie=this.parseInterpolation(J,ne);Y.expression=null===ie?null:new W(this.observerLocator,this.attributeMap.map(ee,te),ie,I.e.oneWay,J.lookupFunctions,te)}return Y}createAttributeInstruction(J,ee,te,ne,re){let ie;if(te.expression){if('ref'===te.attrName)return te.expression;ie=ne||R.s.attribute(te.attrName),ie.attributes[te.attrName]=te.expression}else te.command&&(ie=this.syntaxInterpreter.interpret(J,ee,te,ne,re));return ie}inspectTextContent(J,ee){const te=this.parseInterpolation(J,ee);return null===te?null:new W(this.observerLocator,'textContent',te,I.e.oneWay,J.lookupFunctions,'textContent')}parseInterpolation(J,ee){let te=ee.indexOf('${',0),ne=ee.length,ie=0,ae=0,oe=null,de=0,re,se,le;for(;0<=te&&te<ne-2;){ae=1,se=te,te+=2;do{if(re=ee[te],te++,'\''===re||'"'===re){null==oe?oe=re:oe===re&&(oe=null);continue}if('\\'===re){te++;continue}if(null!==oe)continue;'{'===re?ae++:'}'===re&&ae--}while(0<ae&&te<ne);if(0==ae)le=le||[],'\\'===ee[se-1]&&'\\'!==ee[se-2]?(le[de]=ee.substring(ie,se-1)+ee.substring(se,te),de++,le[de]=this.emptyStringExpression,de++):(le[de]=ee.substring(ie,se),de++,le[de]=this.parser.parse(ee.substring(se+2,te-1)),de++),ie=te,te=ee.indexOf('${',te);else break}return 0==de?null:(le[de]=ee.substr(ie),le)}},D.inject=[I.v,I.f,$,U],H)},'aurelia-templating-resources':function(u,h,w){'use strict';function N(de){w.i(le.a)(),de.globalResources('./compose','./if','./with','./repeat','./show','./hide','./replaceable','./sanitize-html','./focus','./binding-mode-behaviors','./throttle-binding-behavior','./debounce-binding-behavior','./signal-binding-behavior','./update-trigger-binding-behavior','./attr-binding-behavior'),w.i(ee.a)(de);let ue=de.container.get(z.f);ue.addResourcePlugin('.css',{fetch:function(ce){return{[ce]:w.i(D.a)(ce)}}})}var A=w('aurelia-templating-resources/compose'),M=w('aurelia-templating-resources/if'),I=w('aurelia-templating-resources/with'),R=w('aurelia-templating-resources/repeat'),L=w('aurelia-templating-resources/show'),V=w('aurelia-templating-resources/hide'),T=w('aurelia-templating-resources/sanitize-html'),F=w('aurelia-templating-resources/replaceable'),B=w('aurelia-templating-resources/focus'),z=w(1),D=w(29),H=w(19),U=w('aurelia-templating-resources/attr-binding-behavior'),W=w('aurelia-templating-resources/binding-mode-behaviors'),Q=w('aurelia-templating-resources/throttle-binding-behavior'),K=w('aurelia-templating-resources/debounce-binding-behavior'),$=w('aurelia-templating-resources/signal-binding-behavior'),Y=w(18),X=w('aurelia-templating-resources/update-trigger-binding-behavior'),Z=w(15),J=w(23),ee=w(31),te=w(21),ne=w(17),re=w(20),ie=w(24),ae=w(22),oe=w(7),se=w(16),le=w(11);w.d(h,'configure',function(){return N})},'aurelia-templating-resources/attr-binding-behavior':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(3);w.d(h,'AttrBindingBehavior',function(){return A});let A=class{bind(I){I.targetObserver=new N.m(I.target,I.targetProperty)}unbind(){}}},'aurelia-templating-resources/binding-mode-behaviors':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(3),A=w(4);w.d(h,'OneTimeBindingBehavior',function(){return B}),w.d(h,'OneWayBindingBehavior',function(){return z}),w.d(h,'TwoWayBindingBehavior',function(){return D});var M,I,R,L,V,T;let F={bind(H){H.originalMode=H.mode,H.mode=this.mode},unbind(H){H.mode=H.originalMode,H.originalMode=null}},B=(M=w.i(A.d)(F),M(I=class{constructor(){this.mode=N.e.oneTime}})||I),z=(R=w.i(A.d)(F),R(L=class{constructor(){this.mode=N.e.oneWay}})||L),D=(V=w.i(A.d)(F),V(T=class{constructor(){this.mode=N.e.twoWay}})||T)},'aurelia-templating-resources/compose':function(u,h,w){'use strict';function N(X,Z,J,ee){J&&Object.defineProperty(X,Z,{enumerable:J.enumerable,configurable:J.configurable,writable:J.writable,value:J.initializer?J.initializer.call(ee):void 0})}function A(X,Z,J,ee,te){var ne={};return Object.keys(ee).forEach(function(re){ne[re]=ee[re]}),ne.enumerable=!!ne.enumerable,ne.configurable=!!ne.configurable,('value'in ne||ne.initializer)&&(ne.writable=!0),ne=J.slice().reverse().reduce(function(re,ie){return ie(X,Z,re)||re},ne),te&&void 0!==ne.initializer&&(ne.value=ne.initializer?ne.initializer.call(te):void 0,ne.initializer=void 0),void 0===ne.initializer&&(Object.defineProperty(X,Z,ne),ne=null),ne}function I(X,Z){return Object.assign(Z,{bindingContext:X.bindingContext,overrideContext:X.overrideContext,owningView:X.owningView,container:X.container,viewSlot:X.viewSlot,viewResources:X.viewResources,currentController:X.currentController,host:X.element})}function R(X,Z){X.currentInstruction=null,X.compositionEngine.compose(Z).then((J)=>{X.currentController=J,X.currentViewModel=J?J.viewModel:null})}Object.defineProperty(h,'__esModule',{value:!0});var L=w(2),V=w(9),T=w(1),F=w(0);w.d(h,'Compose',function(){return Y});var B,z,D,W,Q,K,$;let Y=(B=w.i(T.h)('compose'),z=w.i(L.b)(F.c.Element,L.a,T.p,T.e,T.a,V.a),B(D=w.i(T.q)(D=z(D=(W=class{constructor(Z,J,ee,te,ne,re){N(this,'model',Q,this),N(this,'view',K,this),N(this,'viewModel',$,this),this.element=Z,this.container=J,this.compositionEngine=ee,this.viewSlot=te,this.viewResources=ne,this.taskQueue=re,this.currentController=null,this.currentViewModel=null}created(Z){this.owningView=Z}bind(Z,J){this.bindingContext=Z,this.overrideContext=J,R(this,I(this,{view:this.view,viewModel:this.viewModel,model:this.model}))}unbind(){this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)}modelChanged(Z){return this.currentInstruction?void(this.currentInstruction.model=Z):void this.taskQueue.queueMicroTask(()=>{if(this.currentInstruction)return void(this.currentInstruction.model=Z);let ee=this.currentViewModel;ee&&'function'==typeof ee.activate&&ee.activate(Z)})}viewChanged(Z){let ee=I(this,{view:Z,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=ee):void(this.currentInstruction=ee,this.taskQueue.queueMicroTask(()=>R(this,this.currentInstruction)))}viewModelChanged(Z){let ee=I(this,{viewModel:Z,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=ee):void(this.currentInstruction=ee,this.taskQueue.queueMicroTask(()=>R(this,this.currentInstruction)))}},Q=A(W.prototype,'model',[T.j],{enumerable:!0,initializer:null}),K=A(W.prototype,'view',[T.j],{enumerable:!0,initializer:null}),$=A(W.prototype,'viewModel',[T.j],{enumerable:!0,initializer:null}),W))||D)||D)||D)},'aurelia-templating-resources/debounce-binding-behavior':function(u,h,w){'use strict';function N(I){let R=this.debounceState;return R.immediate?(R.immediate=!1,void this.debouncedMethod(I)):void(clearTimeout(R.timeoutId),R.timeoutId=setTimeout(()=>this.debouncedMethod(I),R.delay))}Object.defineProperty(h,'__esModule',{value:!0});var A=w(3);w.d(h,'DebounceBindingBehavior',function(){return M});let M=class{bind(R,L,V=200){let T='updateTarget';R.callSource?T='callSource':R.updateSource&&R.mode===A.e.twoWay&&(T='updateSource'),R.debouncedMethod=R[T],R.debouncedMethod.originalName=T,R[T]=N,R.debounceState={delay:V,timeoutId:null,immediate:'updateTarget'==T}}unbind(R){let V=R.debouncedMethod.originalName;R[V]=R.debouncedMethod,R.debouncedMethod=null,clearTimeout(R.debounceState.timeoutId),R.debounceState=null}}},'aurelia-templating-resources/focus':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(1),A=w(3),M=w(2),I=w(9),R=w(0);w.d(h,'Focus',function(){return F});var L,V,T;let F=(L=w.i(N.k)('focus',A.e.twoWay),V=w.i(M.b)(R.c.Element,I.a),L(T=V(T=class{constructor(z,D){this.element=z,this.taskQueue=D,this.isAttached=!1,this.needsApply=!1,this.focusListener=()=>{this.value=!0},this.blurListener=()=>{R.c.activeElement!==this.element&&(this.value=!1)}}valueChanged(){this.isAttached?this._apply():this.needsApply=!0}_apply(){this.value?this.taskQueue.queueMicroTask(()=>{this.value&&this.element.focus()}):this.element.blur()}attached(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener('focus',this.focusListener),this.element.addEventListener('blur',this.blurListener)}detached(){this.isAttached=!1,this.element.removeEventListener('focus',this.focusListener),this.element.removeEventListener('blur',this.blurListener)}})||T)||T)},'aurelia-templating-resources/hide':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(2),A=w(1),M=w(0),I=w(11);w.d(h,'Hide',function(){return T});var R,L,V;let T=(R=w.i(A.k)('hide'),L=w.i(N.b)(M.c.Element,A.n,N.d.of(M.c.boundary,!0)),R(V=L(V=class{constructor(B,z,D){this.element=B,this.animator=z,this.domBoundary=D}created(){w.i(I.b)(this.domBoundary)}valueChanged(B){B?this.animator.addClass(this.element,I.c):this.animator.removeClass(this.element,I.c)}bind(){this.valueChanged(this.value)}})||V)||V)},'aurelia-templating-resources/if':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(1),A=w(2);w.d(h,'If',function(){return L});var M,I,R;let L=(M=w.i(N.k)('if'),I=w.i(A.b)(N.l,N.e),M(R=w.i(N.m)(R=I(R=class{constructor(T,F){this.viewFactory=T,this.viewSlot=F,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}bind(T,F){this.bindingContext=T,this.overrideContext=F,this.valueChanged(this.value)}valueChanged(T){if(this.__queuedChanges)return void this.__queuedChanges.push(T);let F=this._runValueChanged(T);if(F instanceof Promise){let B=this.__queuedChanges=[],z=()=>{if(!B.length)return void(this.__queuedChanges=void 0);let D=this._runValueChanged(B.shift())||Promise.resolve();D.then(z)};F.then(z)}}_runValueChanged(T){if(!T){let F;return null!==this.view&&this.showing&&(F=this.viewSlot.remove(this.view),F instanceof Promise?F.then(()=>this.view.unbind()):this.view.unbind()),this.showing=!1,F}return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing?void 0:(this.showing=!0,this.viewSlot.add(this.view))}unbind(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))}})||R)||R)||R)},'aurelia-templating-resources/repeat':function(u,h,w){'use strict';function N(J,ee,te,ne){te&&Object.defineProperty(J,ee,{enumerable:te.enumerable,configurable:te.configurable,writable:te.writable,value:te.initializer?te.initializer.call(ne):void 0})}function A(J,ee,te,ne,re){var ie={};return Object.keys(ne).forEach(function(ae){ie[ae]=ne[ae]}),ie.enumerable=!!ie.enumerable,ie.configurable=!!ie.configurable,('value'in ie||ie.initializer)&&(ie.writable=!0),ie=te.slice().reverse().reduce(function(ae,oe){return oe(J,ee,ae)||ae},ie),re&&void 0!==ie.initializer&&(ie.value=ie.initializer?ie.initializer.call(re):void 0,ie.initializer=void 0),void 0===ie.initializer&&(Object.defineProperty(J,ee,ie),ie=null),ie}Object.defineProperty(h,'__esModule',{value:!0});var I=w(2),R=w(3),L=w(1),V=w(23),T=w(7),F=w(16),B=w(15);w.d(h,'Repeat',function(){return Z});var z,D,H,Q,K,$,Y,X;let Z=(z=w.i(L.k)('repeat'),D=w.i(I.b)(L.l,L.o,L.e,L.a,R.f,V.a),z(H=w.i(L.m)(H=D(H=(Q=class extends B.a{constructor(ee,te,ne,re,ie,ae){super({local:'item',viewsRequireLifecycle:w.i(F.a)(ee)}),N(this,'items',K,this),N(this,'local',$,this),N(this,'key',Y,this),N(this,'value',X,this),this.viewFactory=ee,this.instruction=te,this.viewSlot=ne,this.lookupFunctions=re.lookupFunctions,this.observerLocator=ie,this.key='key',this.value='value',this.strategyLocator=ae,this.ignoreMutation=!1,this.sourceExpression=w.i(T.a)(this.instruction,'repeat.for'),this.isOneTime=w.i(T.b)(this.sourceExpression),this.viewsRequireLifecycle=w.i(F.a)(ee)}call(ee,te){this[ee](this.items,te)}bind(ee,te){this.scope={bindingContext:ee,overrideContext:te},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()}unbind(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()}_unsubscribeCollection(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)}itemsChanged(){if(this._unsubscribeCollection(),!!this.scope){let ee=this.items;if(this.strategy=this.strategyLocator.getStrategy(ee),!this.strategy)throw new Error(`Value for '${this.sourceExpression}' is non-repeatable`);this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,ee)}}_getInnerCollection(){let ee=w.i(T.c)(this.sourceExpression);return ee?ee.evaluate(this.scope,null):null}handleCollectionMutated(ee,te){this.collectionObserver&&this.strategy.instanceMutated(this,ee,te)}handleInnerCollectionMutated(){if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;let ne=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(()=>this.ignoreMutation=!1),ne===this.items?this.itemsChanged():this.items=ne}}_observeInnerCollection(){let ee=this._getInnerCollection(),te=this.strategyLocator.getStrategy(ee);return!!te&&(this.collectionObserver=te.getCollectionObserver(this.observerLocator,ee),!!this.collectionObserver)&&(this.callContext='handleInnerCollectionMutated',this.collectionObserver.subscribe(this.callContext,this),!0)}_observeCollection(){let ee=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,ee),this.collectionObserver&&(this.callContext='handleCollectionMutated',this.collectionObserver.subscribe(this.callContext,this))}_captureAndRemoveMatcherBinding(){if(this.viewFactory.viewFactory){const ee=this.viewFactory.viewFactory.instructions,te=Object.keys(ee);for(let ne=0;ne<te.length;ne++){const re=ee[te[ne]].expressions;if(re)for(let ie=0;ne<re.length;ne++)if('matcher'===re[ie].targetProperty){const ae=re[ie];return re.splice(ie,1),ae}}}}viewCount(){return this.viewSlot.children.length}views(){return this.viewSlot.children}view(ee){return this.viewSlot.children[ee]}matcher(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null}addView(ee,te){let ne=this.viewFactory.create();ne.bind(ee,te),this.viewSlot.add(ne)}insertView(ee,te,ne){let re=this.viewFactory.create();re.bind(te,ne),this.viewSlot.insert(ee,re)}moveView(ee,te){this.viewSlot.move(ee,te)}removeAllViews(ee,te){return this.viewSlot.removeAll(ee,te)}removeViews(ee,te,ne){return this.viewSlot.removeMany(ee,te,ne)}removeView(ee,te,ne){return this.viewSlot.removeAt(ee,te,ne)}updateBindings(ee){let te=ee.bindings.length;for(;te--;)w.i(T.d)(ee.bindings[te]);for(te=ee.controllers.length;te--;)for(let ne=ee.controllers[te].boundProperties.length,re;ne--;)re=ee.controllers[te].boundProperties[ne].binding,w.i(T.d)(re)}},K=A(Q.prototype,'items',[L.j],{enumerable:!0,initializer:null}),$=A(Q.prototype,'local',[L.j],{enumerable:!0,initializer:null}),Y=A(Q.prototype,'key',[L.j],{enumerable:!0,initializer:null}),X=A(Q.prototype,'value',[L.j],{enumerable:!0,initializer:null}),Q))||H)||H)||H)},'aurelia-templating-resources/replaceable':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(2),A=w(1);w.d(h,'Replaceable',function(){return L});var M,I,R;let L=(M=w.i(A.k)('replaceable'),I=w.i(N.b)(A.l,A.e),M(R=w.i(A.m)(R=I(R=class{constructor(T,F){this.viewFactory=T,this.viewSlot=F,this.view=null}bind(T,F){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(T,F)}unbind(){this.view.unbind()}})||R)||R)||R)},'aurelia-templating-resources/sanitize-html':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(3),A=w(2),M=w(19);w.d(h,'SanitizeHTMLValueConverter',function(){return V});var I,R,L;let V=(I=w.i(N.k)('sanitizeHTML'),R=w.i(A.b)(M.a),I(L=R(L=class{constructor(F){this.sanitizer=F}toView(F){return null===F||void 0===F?null:this.sanitizer.sanitize(F)}})||L)||L)},'aurelia-templating-resources/show':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(2),A=w(1),M=w(0),I=w(11);w.d(h,'Show',function(){return T});var R,L,V;let T=(R=w.i(A.k)('show'),L=w.i(N.b)(M.c.Element,A.n,N.d.of(M.c.boundary,!0)),R(V=L(V=class{constructor(B,z,D){this.element=B,this.animator=z,this.domBoundary=D}created(){w.i(I.b)(this.domBoundary)}valueChanged(B){B?this.animator.removeClass(this.element,I.c):this.animator.addClass(this.element,I.c)}bind(){this.valueChanged(this.value)}})||V)||V)},'aurelia-templating-resources/signal-binding-behavior':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(18);w.d(h,'SignalBindingBehavior',function(){return A});let A=class{static inject(){return[N.a]}constructor(I){this.signals=I.signals}bind(I){if(!I.updateTarget)throw new Error('Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.');if(3===arguments.length){let L=arguments[2],V=this.signals[L]||(this.signals[L]=[]);V.push(I),I.signalName=L}else if(3<arguments.length){let L=Array.prototype.slice.call(arguments,2),V=L.length;for(;V--;){let T=L[V],F=this.signals[T]||(this.signals[T]=[]);F.push(I)}I.signalName=L}else throw new Error('Signal name is required.')}unbind(I){let L=I.signalName;if(I.signalName=null,Array.isArray(L)){let V=L,T=V.length;for(;T--;){let F=V[T],B=this.signals[F];B.splice(B.indexOf(I),1)}}else{let V=this.signals[L];V.splice(V.indexOf(I),1)}}}},'aurelia-templating-resources/throttle-binding-behavior':function(u,h,w){'use strict';function N(I){let R=this.throttleState,L=+new Date-R.last;return L>=R.delay?(clearTimeout(R.timeoutId),R.timeoutId=null,R.last=+new Date,void this.throttledMethod(I)):void(R.newValue=I,null===R.timeoutId&&(R.timeoutId=setTimeout(()=>{R.timeoutId=null,R.last=+new Date,this.throttledMethod(R.newValue)},R.delay-L)))}Object.defineProperty(h,'__esModule',{value:!0});var A=w(3);w.d(h,'ThrottleBindingBehavior',function(){return M});let M=class{bind(R,L,V=200){let T='updateTarget';R.callSource?T='callSource':R.updateSource&&R.mode===A.e.twoWay&&(T='updateSource'),R.throttledMethod=R[T],R.throttledMethod.originalName=T,R[T]=N,R.throttleState={delay:V,last:0,timeoutId:null}}unbind(R){let V=R.throttledMethod.originalName;R[V]=R.throttledMethod,R.throttledMethod=null,clearTimeout(R.throttleState.timeoutId),R.throttleState=null}}},'aurelia-templating-resources/update-trigger-binding-behavior':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(3);w.d(h,'UpdateTriggerBindingBehavior',function(){return L});var A,M;const R='The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.';let L=(M=A=class{constructor(T){this.eventManager=T}bind(T,F,...B){if(0===B.length)throw new Error('The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:\'blur\'">');if(T.mode!==N.e.twoWay)throw new Error(R);let z=T.observerLocator.getObserver(T.target,T.targetProperty);if(!z.handler)throw new Error(R);T.targetObserver=z,z.originalHandler=T.targetObserver.handler;let D=this.eventManager.createElementHandler(B);z.handler=D}unbind(T){T.targetObserver.handler=T.targetObserver.originalHandler,T.targetObserver.originalHandler=null}},A.inject=[N.g],M)},'aurelia-templating-resources/with':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(2),A=w(1),M=w(3);w.d(h,'With',function(){return V});var I,R,L;let V=(I=w.i(A.k)('with'),R=w.i(N.b)(A.l,A.e),I(L=w.i(A.m)(L=R(L=class{constructor(F,B){this.viewFactory=F,this.viewSlot=B,this.parentOverrideContext=null,this.view=null}bind(F,B){this.parentOverrideContext=B,this.valueChanged(this.value)}valueChanged(F){let B=w.i(M.a)(F,this.parentOverrideContext);this.view?this.view.bind(F,B):(this.view=this.viewFactory.create(),this.view.bind(F,B),this.viewSlot.add(this.view))}unbind(){this.parentOverrideContext=null,this.view&&this.view.unbind()}})||L)||L)||L)},'aurelia-templating-router':function(u,h,w){'use strict';function N(L){L.singleton(A.a,M.a).singleton(A.b,A.c).globalResources('./router-view','./route-href'),L.container.registerAlias(A.b,A.c)}var A=w(10),M=w(32),I=w('aurelia-templating-router/router-view'),R=w('aurelia-templating-router/route-href');w.d(h,'configure',function(){return N})},'aurelia-templating-router/route-href':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(1),A=w(2),M=w(10),I=w(0),R=w(5);w.d(h,'RouteHref',function(){return H});var L,V,T,F,B,z;const D=R.getLogger('route-href');let H=(L=w.i(N.k)('route-href'),V=w.i(N.j)({name:'route',changeHandler:'processChange'}),T=w.i(N.j)({name:'params',changeHandler:'processChange'}),F=w.i(N.j)({name:'attribute',defaultValue:'href'}),B=w.i(A.b)(M.b,I.c.Element),L(z=V(z=T(z=F(z=B(z=class{constructor(W,Q){this.router=W,this.element=Q}bind(){this.isActive=!0,this.processChange()}unbind(){this.isActive=!1}attributeChanged(W,Q){Q&&this.element.removeAttribute(Q),this.processChange()}processChange(){return this.router.ensureConfigured().then(()=>{if(!this.isActive)return null;let W=this.router.generate(this.route,this.params);return this.element.au.controller?this.element.au.controller.viewModel[this.attribute]=W:this.element.setAttribute(this.attribute,W),null}).catch((W)=>{D.error(W)})}})||z)||z)||z)||z)||z)},'aurelia-templating-router/router-view':function(u,h,w){'use strict';function N(ee,te,ne,re){ne&&Object.defineProperty(ee,te,{enumerable:ne.enumerable,configurable:ne.configurable,writable:ne.writable,value:ne.initializer?ne.initializer.call(re):void 0})}function A(ee,te,ne,re,ie){var ae={};return Object.keys(re).forEach(function(oe){ae[oe]=re[oe]}),ae.enumerable=!!ae.enumerable,ae.configurable=!!ae.configurable,('value'in ae||ae.initializer)&&(ae.writable=!0),ae=ne.slice().reverse().reduce(function(oe,se){return se(ee,te,oe)||oe},ae),ie&&void 0!==ae.initializer&&(ae.value=ae.initializer?ae.initializer.call(ie):void 0,ae.initializer=void 0),void 0===ae.initializer&&(Object.defineProperty(ee,te,ae),ae=null),ae}Object.defineProperty(h,'__esModule',{value:!0});var I=w(2),R=w(3),L=w(1),V=w(10),T=w(4),F=w(0);w.d(h,'RouterView',function(){return J});var B,z,D,W,Q,K,$,Y;const Z=new class{before(te,ne,re){let ie=Promise.resolve(re());return void 0===ne?ie:ie.then(()=>te.remove(ne,!0))}with(te,ne,re){let ie=Promise.resolve(re());return void 0===ne?ie:Promise.all([te.remove(ne,!0),ie])}after(te,ne,re){return Promise.resolve(te.removeAll(!0)).then(re)}};let J=(B=w.i(L.h)('router-view'),z=w.i(I.b)(F.c.Element,I.a,L.e,V.b,L.r,L.d,L.p),B(D=w.i(L.q)(D=z(D=(W=class{constructor(te,ne,re,ie,ae,oe,se){N(this,'swapOrder',Q,this),N(this,'layoutView',K,this),N(this,'layoutViewModel',$,this),N(this,'layoutModel',Y,this),this.element=te,this.container=ne,this.viewSlot=re,this.router=ie,this.viewLocator=ae,this.compositionTransaction=oe,this.compositionEngine=se,this.router.registerViewPort(this,this.element.getAttribute('name')),'initialComposition'in oe||(oe.initialComposition=!0,this.compositionTransactionNotifier=oe.enlist())}created(te){this.owningView=te}bind(te,ne){this.container.viewModel=te,this.overrideContext=ne}process(te,ne){let re=te.component,ie=re.childContainer,ae=re.viewModel,oe=re.viewModelResource,se=oe.metadata,le=re.router.currentInstruction.config,de=le.viewPorts?le.viewPorts[te.name]:{},ue={viewModel:de.layoutViewModel||le.layoutViewModel||this.layoutViewModel,view:de.layoutView||le.layoutView||this.layoutView,model:de.layoutModel||le.layoutModel||this.layoutModel,router:te.component.router,childContainer:ie,viewSlot:this.viewSlot},ce=this.viewLocator.getViewStrategy(re.view||ae);return ce&&re.view&&ce.makeRelativeTo(T.c.get(re.router.container.viewModel.constructor).moduleId),se.load(ie,oe.value,null,ce,!0).then((pe)=>{this.compositionTransactionNotifier||(this.compositionTransactionOwnershipToken=this.compositionTransaction.tryCapture()),(ue.viewModel||ue.view)&&(te.layoutInstruction=ue),te.controller=se.create(ie,L.s.dynamic(this.element,ae,pe)),ne||this.swap(te)})}swap(te){let ne=te.layoutInstruction,re=()=>{let ae=this.view,se=this.viewSlot,oe;oe=this.swapOrder in Z?Z[this.swapOrder]:Z.after,oe(se,ae,()=>{return Promise.resolve().then(()=>{return se.add(this.view)}).then(()=>{this._notify()})})},ie=(ae)=>{return te.controller.automate(this.overrideContext,ae),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>{return this.compositionTransactionOwnershipToken=null,re()}):re()};return ne?(ne.viewModel||(ne.viewModel={}),this.compositionEngine.createController(ne).then((ae)=>{return L.t.distributeView(te.controller.view,ae.slots||ae.view.slots),ae.automate(w.i(R.a)(ne.viewModel),this.owningView),ae.view.children.push(te.controller.view),ae.view||ae}).then((ae)=>{return this.view=ae,ie(ae)})):(this.view=te.controller.view,ie(this.owningView))}_notify(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)}},Q=A(W.prototype,'swapOrder',[L.j],{enumerable:!0,initializer:null}),K=A(W.prototype,'layoutView',[L.j],{enumerable:!0,initializer:null}),$=A(W.prototype,'layoutViewModel',[L.j],{enumerable:!0,initializer:null}),Y=A(W.prototype,'layoutModel',[L.j],{enumerable:!0,initializer:null}),W))||D)||D)||D)},'converters/upper':function(u,h){'use strict';Object.defineProperty(h,'__esModule',{value:!0});h.UpperValueConverter=class{toView(A){return A&&A.toUpperCase()}}},'customElements/hello-tag':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var N=w(36),A=w('aurelia-framework');class M{}h.HelloTagCustomElement=M,N.a([A.c],M.prototype,'name',void 0)},'customElements/hello-tag.html':function(u){u.exports='<template>\r\n  <div class="tag-header">\r\n    HELLO<br>\r\n    MY NAME IS\r\n  </div>\r\n  <div class="tag-body">${name}</div>\r\n</template>'},main:function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(0),M=w('aurelia-framework');h.configure=function(I){I.use.standardConfiguration().developmentLogging().globalResources('converters/upper').postTask((R)=>{let L=R.container.get(M.b);L._pluginMap['.less']=L._pluginMap['.css']}),I.start().then(()=>I.setRoot('app'))}},'style.less':function(u,h,w){h=u.exports=w(33)(),h.push([u.i,'body {\n  font-family: "Segoe UI", Arial, Sans;\n}\nhello-tag {\n  border: solid 1px #a00;\n  border-radius: 5px;\n  display: block;\n  width: 200px;\n  margin: 20px;\n  transform: rotate(-5deg);\n}\n.tag-header {\n  color: #fff;\n  background: #a00;\n  font-weight: bold;\n  text-align: center;\n  padding: 8px;\n}\n.tag-body {\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n  font-family: cursive;\n  font-size: 1.3em;\n}\n',''])}});