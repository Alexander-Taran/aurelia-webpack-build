!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=34)}({0:function(e,t,i){"use strict";(function(e){function r(e,t,i){if(t){if(t.innerError&&i)return t;const r="\n------------------------------------------------\n";e+=`${r}Inner Error:\n`,"string"==typeof t?e+=`Message: ${t}`:(t.message?e+=`Message: ${t.message}`:e+=`Unknown Inner Error Type. Displaying Inner Error as JSON:\n ${JSON.stringify(t,null,"  ")}`,t.stack&&(e+=`\nInner Error Stack:\n${t.stack}`,e+="\nEnd Inner Error Stack")),e+=r}let r=new Error(e);return t&&(r.innerError=t),r}i.d(t,"a",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"d",function(){return s}),i.d(t,"b",function(){return o}),i.d(t,"f",function(){return a}),i.d(t,"e",function(){return l});const n={},s={noop(){},eachModule(){},moduleName:e=>e};s.global="undefined"!=typeof self?self:void 0!==e?e:new Function("return this")();const o={};let a=!1;function l(e){a||(a=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(e,t){let i=Object.getOwnPropertyDescriptor(e,t),r=Object.getPrototypeOf(e);for(;void 0===i&&null!==r;)i=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r);return i}),e(s,n,o))}}).call(this,i(24))},1:function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return l}),i.d(t,"c",function(){return u}),i.d(t,"d",function(){return g});var r=i(0);Object.assign;function n(e){return e&&("function"==typeof e||"object"==typeof e)}const s={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get(e,t,i){if(!n(t))return;let r=s.getOwn(e,t,i);return void 0===r?s.get(e,Object.getPrototypeOf(t),i):r},getOwn(e,t,i){if(n(t))return Reflect.getOwnMetadata(e,t,i)},define(e,t,i,r){Reflect.defineMetadata(e,t,i,r)},getOrCreateOwn(e,t,i,r){let n=s.getOwn(e,i,r);return void 0===n&&(n=new t,Reflect.defineMetadata(e,n,i,r)),n}},o=new Map,a=Object.freeze({moduleId:void 0,moduleMember:void 0});let l=class e{constructor(e,t){this.moduleId=e,this.moduleMember=t}static get(t){let i=o.get(t);return void 0===i&&r.d.eachModule((r,n)=>{if("object"==typeof n)for(let s in n){if(n[s]===t)return o.set(t,i=new e(r,s)),!0}return n===t&&(o.set(t,i=new e(r,"default")),!0)}),i||a}static set(e,t){o.set(e,t)}};function u(e){const t=Object.keys(e);return function(i){let r=function(i){let r="function"==typeof i?i.prototype:i,n=t.length;for(;n--;){let i=t[n];Object.defineProperty(r,i,{value:e[i],writable:!0})}};return i?r(i):r}}function c(){return!0}function h(){}function d(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=c),e.compose||(e.compose=h),e}function p(e){return function(t){return!0===e(t)}}function f(e,t){return function(i){let r=t(i);if(!0!==r)throw new Error(r||`${e} was not correctly implemented.`)}}function g(e,t){t=d(t);let i=function(r){let n="function"==typeof r?r.prototype:r;t.compose(n),i.assert(n),Object.defineProperty(n,"protocol:"+e,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return i.validate=p(t.validate),i.assert=f(e,t.validate),i}g.create=function(e,t){t=d(t);let i="protocol:"+e,r=function(i){let r=g(e,t);return i?r(i):r};return r.decorates=function(e){return!0===e[i]},r.validate=p(t.validate),r.assert=f(e,t.validate),r}},10:function(e,t,i){"use strict";(function(e){i.d(t,"a",function(){return a});var r=i(0);let n="function"==typeof e;function s(e){return function(){let t=setTimeout(r,0),i=setInterval(r,50);function r(){clearTimeout(t),clearInterval(i),e()}}}function o(t,i,r){r&&i.stack&&"object"==typeof t&&null!==t&&(t.stack=l(t.stack)+i.stack),"onError"in i?i.onError(t):n?e(()=>{throw t}):setTimeout(()=>{throw t},0)}let a=class{constructor(){this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],r.c.mutationObserver?this.requestFlushMicroTaskQueue=function(e){let t=1,i=r.b.createMutationObserver(e),n=r.b.createTextNode("");return i.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(()=>this.flushMicroTaskQueue()):this.requestFlushMicroTaskQueue=s(()=>this.flushMicroTaskQueue()),this.requestFlushTaskQueue=s(()=>this.flushTaskQueue())}queueMicroTask(e){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(e)}queueTask(e){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(e)}flushTaskQueue(){let e,t=this.taskQueue,i=0;this.taskQueue=[];try{for(this.flushing=!0;i<t.length;)e=t[i],this.longStacks&&(this.stack="string"==typeof e.stack?e.stack:void 0),e.call(),i++}catch(t){o(t,e,this.longStacks)}finally{this.flushing=!1}}flushMicroTaskQueue(){let e,t=this.microTaskQueue,i=this.microTaskQueueCapacity,r=0;try{for(this.flushing=!0;r<t.length;)if(e=t[r],this.longStacks&&(this.stack="string"==typeof e.stack?e.stack:void 0),e.call(),++r>i){for(let e=0,i=t.length-r;e<i;e++)t[e]=t[e+r];t.length-=r,r=0}}catch(t){o(t,e,this.longStacks)}finally{this.flushing=!1}t.length=0}prepareQueueStack(e){let t=e+function(e){return e.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}(function(){let e=new Error;if(e.stack)return e.stack;try{throw e}catch(e){return e.stack}}());return"string"==typeof this.stack&&(t=l(t)+this.stack),t}};function l(e){let t=e.lastIndexOf("flushMicroTaskQueue");return t<0&&(t=e.lastIndexOf("flushTaskQueue"))<0?e:(t=e.lastIndexOf("\n",t))<0?e:e.substr(0,t)}}).call(this,i(32).setImmediate)},11:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"c",function(){return o}),i.d(t,"b",function(){return a});var r=i(0);const n="aurelia-hide",s=`.${n} { display:none !important; }`;function o(){r.b.injectStyles(s)}function a(e){r.c.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,r.b.injectStyles(s,e))}},12:function(e,t,i){"use strict";i.d(t,"a",function(){return o});const r=["focus","if","repeat","show","with"];function n(e){let t=e.type,i=null!==t.elementName?t.elementName:t.attributeName;return-1===r.indexOf(i)&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&o(t.viewFactory)||e.viewFactory&&o(e.viewFactory)}function s(e){let t=e.behaviorInstructions;if(t){let e=t.length;for(;e--;)if(n(t[e]))return!0}return e.viewFactory&&o(e.viewFactory)}function o(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=o(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(let t in e.instructions)if(s(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}},13:function(e,t,i){"use strict";function r(e){throw new Error(`History must implement ${e}().`)}i.d(t,"a",function(){return n});let n=class{activate(e){r("activate")}deactivate(){r("deactivate")}getAbsoluteRoot(){r("getAbsoluteRoot")}navigate(e,t){r("navigate")}navigateBack(){r("navigateBack")}setTitle(e){r("setTitle")}}},14:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(3);let n=class{constructor(){this.signals={}}signal(e){let t=this.signals[e];if(!t)return;let i=t.length;for(;i--;)t[i].call(r.u)}}},15:function(e,t,i){"use strict";i.d(t,"a",function(){return n});const r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let n=class{sanitize(e){return e.replace(r,"")}}},16:function(e,t,i){"use strict";i.d(t,"a",function(){return r});let r=class{constructor(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}viewCount(){throw new Error("subclass must implement `viewCount`")}views(){throw new Error("subclass must implement `views`")}view(e){throw new Error("subclass must implement `view`")}matcher(){throw new Error("subclass must implement `matcher`")}addView(e,t){throw new Error("subclass must implement `addView`")}insertView(e,t,i){throw new Error("subclass must implement `insertView`")}moveView(e,t){throw new Error("subclass must implement `moveView`")}removeAllViews(e,t){throw new Error("subclass must implement `removeAllViews`")}removeViews(e,t,i){throw new Error("subclass must implement `removeView`")}removeView(e,t,i){throw new Error("subclass must implement `removeView`")}updateBindings(e){throw new Error("subclass must implement `updateBindings`")}}},17:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(5);let n=class{getCollectionObserver(){return null}instanceChanged(e,t){let i=e.removeAllViews(!0,!e.viewsRequireLifecycle);i instanceof Promise?i.then(()=>this._standardProcessItems(e,t)):this._standardProcessItems(e,t)}_standardProcessItems(e,t){let i,n,s,o,a=e.viewCount();if((o=a-(t=Math.floor(t)))>0)for(o>a&&(o=a),i=0,n=o;i<n;++i)e.removeView(a-(i+1),!0,!e.viewsRequireLifecycle);else{for(i=a,n=t;i<n;++i)s=Object(r.a)(e,i,i,n),e.addView(s.bindingContext,s);Object(r.h)(e.views(),0)}}}},18:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(5);let n=class{getCollectionObserver(e,t){return e.getSetObserver(t)}instanceChanged(e,t){let i=e.removeAllViews(!0,!e.viewsRequireLifecycle);i instanceof Promise?i.then(()=>this._standardProcessItems(e,t)):this._standardProcessItems(e,t)}_standardProcessItems(e,t){let i,n=0;t.forEach(s=>{i=Object(r.a)(e,s,n,t.size),e.addView(i.bindingContext,i),++n})}instanceMutated(e,t,i){let n,s,o,a,l,u,c,h=[];for(s=0,o=i.length;s<o;++s)switch(n=(u=i[s]).value,u.type){case"add":a=Object(r.a)(e,n,t.size-1,t.size),e.insertView(t.size-1,a.bindingContext,a);break;case"delete":l=this._getViewIndexByValue(e,n),(c=e.removeView(l,!0,!e.viewsRequireLifecycle))instanceof Promise&&h.push(c);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}h.length>0?Promise.all(h).then(()=>{Object(r.h)(e.views(),0)}):Object(r.h)(e.views(),0)}_getViewIndexByValue(e,t){let i,r,n;for(i=0,r=e.viewCount();i<r;++i)if((n=e.view(i)).bindingContext[e.local]===t)return i}}},19:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(5);let n=class{getCollectionObserver(e,t){return e.getMapObserver(t)}instanceChanged(e,t){let i=e.removeAllViews(!0,!e.viewsRequireLifecycle);i instanceof Promise?i.then(()=>this._standardProcessItems(e,t)):this._standardProcessItems(e,t)}_standardProcessItems(e,t){let i,n=0;t.forEach((s,o)=>{i=Object(r.a)(e,s,n,t.size,o),e.addView(i.bindingContext,i),++n})}instanceMutated(e,t,i){let n,s,o,a,l,u,c,h=[];for(s=0,o=i.length;s<o;++s)switch(n=(u=i[s]).key,u.type){case"update":l=this._getViewIndexByKey(e,n),(c=e.removeView(l,!0,!e.viewsRequireLifecycle))instanceof Promise&&h.push(c),a=Object(r.a)(e,t.get(n),l,t.size,n),e.insertView(l,a.bindingContext,a);break;case"add":a=Object(r.a)(e,t.get(n),t.size-1,t.size,n),e.insertView(t.size-1,a.bindingContext,a);break;case"delete":if(void 0===u.oldValue)return;l=this._getViewIndexByKey(e,n),(c=e.removeView(l,!0,!e.viewsRequireLifecycle))instanceof Promise&&h.push(c);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}h.length>0?Promise.all(h).then(()=>{Object(r.h)(e.views(),0)}):Object(r.h)(e.views(),0)}_getViewIndexByKey(e,t){let i,r,n;for(i=0,r=e.viewCount();i<r;++i)if((n=e.view(i)).bindingContext[e.key]===t)return i}}},2:function(e,t,i){"use strict";i.d(t,"a",function(){return I}),i.d(t,"f",function(){return M}),i.d(t,"b",function(){return $}),i.d(t,"i",function(){return q}),i.d(t,"l",function(){return K}),i.d(t,"c",function(){return J}),i.d(t,"g",function(){return te}),i.d(t,"m",function(){return re}),i.d(t,"n",function(){return ne}),i.d(t,"d",function(){return pe}),i.d(t,"k",function(){return _e}),i.d(t,"h",function(){return Ie}),i.d(t,"e",function(){return Ne}),i.d(t,"s",function(){return Te}),i.d(t,"q",function(){return Re}),i.d(t,"p",function(){return Le}),i.d(t,"t",function(){return Be}),i.d(t,"o",function(){return Fe}),i.d(t,"u",function(){return $e}),i.d(t,"r",function(){return qe}),i.d(t,"j",function(){return De});var r,n,s,o,a,l,u,c,h,d,p,f,g,m,v,b,w,y,C,_,x=i(6),k=i(1),S=i(0),O=i(7),A=i(8),E=i(4),P=i(3),V=i(10);let I=class{enter(e){return Promise.resolve(!1)}leave(e){return Promise.resolve(!1)}removeClass(e,t){return e.classList.remove(t),Promise.resolve(!1)}addClass(e,t){return e.classList.add(t),Promise.resolve(!1)}animate(e,t){return Promise.resolve(!1)}runSequence(e){}registerEffect(e,t){}unregisterEffect(e){}},M=class{constructor(){this._ownershipToken=null,this._compositionCount=0}tryCapture(){return null===this._ownershipToken?new class{constructor(e){this.owner=e,this.owner._ownershipToken=this,this.thenable=this._createThenable()}waitForCompositionComplete(){return this.owner._tryCompleteTransaction(),this.thenable}resolve(){this._resolveCallback()}_createThenable(){return new Promise((e,t)=>{this._resolveCallback=e})}}(this):null}enlist(){return new class{constructor(e){this.owner=e,this.owner._compositionCount++}done(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()}}(this)}_tryCompleteTransaction(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){let e=this._ownershipToken;this._ownershipToken=null,e.resolve()}}};const N=/([A-Z])/g;function j(e){return"-"+e.toLowerCase()}function T(e){return(e.charAt(0).toLowerCase()+e.slice(1)).replace(N,j)}function R(e){return!(e.auInterpolationTarget||/[^\t\n\r ]/.test(e.textContent))}let L=class e{constructor(){}initialize(e,t){this.instance=e.get(t)}register(e,t){e.registerViewEngineHooks(this.instance)}load(e,t){}static convention(t){if(t.endsWith("ViewEngineHooks"))return new e}};let B=class{constructor(e){this.element=e,this.subscriptions={}}_enqueueHandler(e){this.subscriptions[e.eventName]=this.subscriptions[e.eventName]||[],this.subscriptions[e.eventName].push(e)}_dequeueHandler(e){let t,i=this.subscriptions[e.eventName];return i&&(t=i.indexOf(e))>-1&&i.splice(t,1),e}publish(e,t={},i=!0,r=!0){let n=S.b.createCustomEvent(e,{cancelable:r,bubbles:i,detail:t});this.element.dispatchEvent(n)}subscribe(e,t,i=!0){if(t&&"function"==typeof t)return t.eventName=e,t.handler=t,t.bubbles=i,t.dispose=(()=>{this.element.removeEventListener(e,t,i),this._dequeueHandler(t)}),this.element.addEventListener(e,t,i),this._enqueueHandler(t),t}subscribeOnce(e,t,i=!0){if(t&&"function"==typeof t){let r=e=>{t(e),r.dispose()};return this.subscribe(e,r,i)}}dispose(e){if(e&&"string"==typeof e){let t=this.subscriptions[e];if(t)for(;t.length;){let e=t.pop();e&&e.dispose()}}else this.disposeAll()}disposeAll(){for(let e in this.subscriptions)this.dispose(e)}},F=class{constructor(){this.dependencies={}}addDependency(e){this.dependencies[e]=!0}hasDependency(e){return e in this.dependencies}},z=class{constructor(e=!1,t=!1){this.targetShadowDOM=e,this.compileSurrogate=t,this.associatedModuleId=null}};z.normal=new z;let $=class e{static enhance(){let t=new e;return t.enhance=!0,t}static unitTest(t,i){let r=new e;return r.type=t,r.attributes=i||{},r}static element(t,i){let r=new e;return r.type=i,r.attributes={},r.anchorIsContainer=!(t.hasAttribute("containerless")||i.containerless),r.initiatedByBehavior=!0,r}static attribute(t,i){let r=new e;return r.attrName=t,r.type=i||null,r.attributes={},r}static dynamic(t,i,r){let n=new e;return n.host=t,n.viewModel=i,n.viewFactory=r,n.inheritBindingContext=!0,n}constructor(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}};$.normal=new $;let q=(n=r=class e{static shadowSlot(t){let i=new e;return i.parentInjectorId=t,i.shadowSlot=!0,i}static contentExpression(t){let i=new e;return i.contentExpression=t,i}static lifting(t,i){let r=new e;return r.parentInjectorId=t,r.expressions=e.noExpressions,r.behaviorInstructions=[i],r.viewFactory=i.viewFactory,r.providers=[i.type.target],r.lifting=!0,r}static normal(t,i,r,n,s,o){let a=new e;return a.injectorId=t,a.parentInjectorId=i,a.providers=r,a.behaviorInstructions=n,a.expressions=s,a.anchorIsContainer=!o||o.anchorIsContainer,a.elementInstruction=o,a}static surrogate(t,i,r,n){let s=new e;return s.expressions=r,s.behaviorInstructions=i,s.providers=t,s.values=n,s}constructor(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}},r.noExpressions=Object.freeze([]),n);const D=k.d.create("aurelia:view-strategy",{validate:e=>"function"==typeof e.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>",compose(e){"function"!=typeof e.makeRelativeTo&&(e.makeRelativeTo=S.d.noop)}});let H=D()(s=class{constructor(e){this.path=e,this.absolutePath=null}loadViewFactory(e,t,i,r){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=Object(O.d)(this.path,this.moduleId)),t.associatedModuleId=this.moduleId,e.loadViewFactory(this.absolutePath||this.path,t,i,r)}makeRelativeTo(e){null===this.absolutePath&&(this.absolutePath=Object(O.d)(this.path,e))}})||s,U=D()(o=class{constructor(e,t){this.moduleId=t.moduleId,this.viewUrl=e.convertOriginToViewUrl(t)}loadViewFactory(e,t,i,r){return t.associatedModuleId=this.moduleId,e.loadViewFactory(this.viewUrl,t,i,r)}})||o,W=D()(a=class{constructor(e,t){this.dependencies=e||null,this.dependencyBaseUrl=t||""}loadViewFactory(e,t,i,r){let n=this.entry,s=this.dependencies;if(n&&n.factoryIsReady)return Promise.resolve(null);if(this.entry=n=new A.b(this.moduleId||this.dependencyBaseUrl),n.dependencies=[],n.templateIsLoaded=!0,null!==s)for(let e=0,t=s.length;e<t;++e){let t=s[e];"string"==typeof t||"function"==typeof t?n.addDependency(t):n.addDependency(t.from,t.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(n,t,i,r)}})||a,Q=D()(l=class{constructor(e,t){this.moduleId=e,this.entry=t}loadViewFactory(e,t,i,r){let n=this.entry;return n.factoryIsReady?Promise.resolve(n.factory):(t.associatedModuleId=this.moduleId,e.loadViewFactory(n,t,i,r))}})||l,K=(D()(u=class{constructor(e,t,i){this.markup=e,this.dependencies=t||null,this.dependencyBaseUrl=i||""}loadViewFactory(e,t,i,r){let n=this.entry,s=this.dependencies;if(n&&n.factoryIsReady)return Promise.resolve(n.factory);if(this.entry=n=new A.b(this.moduleId||this.dependencyBaseUrl),n.template=S.b.createTemplateFromMarkup(this.markup),null!==s)for(let e=0,t=s.length;e<t;++e){let t=s[e];"string"==typeof t||"function"==typeof t?n.addDependency(t):n.addDependency(t.from,t.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(n,t,i,r)}}),h=c=class e{getViewStrategy(t){if(!t)return null;if("object"==typeof t&&"getViewStrategy"in t){let e=k.a.get(t.constructor);return"string"==typeof(t=t.getViewStrategy())&&(t=new H(t)),D.assert(t),e.moduleId&&t.makeRelativeTo(e.moduleId),t}if("string"==typeof t&&(t=new H(t)),D.validate(t))return t;"function"!=typeof t&&(t=t.constructor);let i=k.a.get(t),r=k.b.get(e.viewStrategyMetadataKey,t);if(r)i.moduleId&&(r.moduleId=i.moduleId);else{if(!i.moduleId)throw new Error("Cannot determine default view strategy for object.",t);r=this.createFallbackViewStrategy(i)}return r}createFallbackViewStrategy(e){return new U(this,e)}convertOriginToViewUrl(e){let t=e.moduleId;return(t.endsWith(".js")||t.endsWith(".ts")?t.substring(0,t.length-3):t)+".html"}},c.viewStrategyMetadataKey="aurelia:view-strategy",h);function G(e){throw new Error(`BindingLanguage must implement ${e}().`)}let J=class{inspectAttribute(e,t,i,r){G("inspectAttribute")}createAttributeInstruction(e,t,i,r){G("createAttributeInstruction")}inspectTextContent(e,t){G("inspectTextContent")}},Y=Object.freeze([]),X=Object(E.c)(S.b.Element)(d=class{constructor(e){this.element=e,this.element.auSlotAttribute=this}valueChanged(e,t){}})||d,Z=class e{constructor(e,t,i,r){this.anchor=e,this.anchor.viewSlot=this,this.name=t,this.destinationName=i,this.fallbackFactory=r,this.destinationSlot=null,this.projections=0,this.contentView=null,new X(this.anchor).value=this.destinationName}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}renderFallbackContent(e,t,i,r){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);let e=Object.create(null);e[this.destinationSlot.name]=this.destinationSlot,te.distributeView(this.contentView,e,i,r,this.destinationSlot.name)}}passThroughTo(e){this.destinationSlot=e}addNode(t,i,r,n){null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),i.viewSlot instanceof e?i.viewSlot.passThroughTo(this):(this.projections++,this.destinationSlot.addNode(t,i,r,n))}removeView(e,t){this.projections--,this.destinationSlot.removeView(e,t),this.needsFallbackRendering&&this.renderFallbackContent(null,Y,t)}removeAll(e){this.projections=0,this.destinationSlot.removeAll(e),this.needsFallbackRendering&&this.renderFallbackContent(null,Y,e)}projectFrom(e,t){this.destinationSlot.projectFrom(e,t)}created(e){this.ownerView=e}bind(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},ee=class{constructor(e,t,i){this.anchor=e,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=t,this.fallbackFactory=i,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}addNode(e,t,i,r,n){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),t.viewSlot instanceof Z)t.viewSlot.passThroughTo(this);else if(null!==this.destinationSlots)te.distributeNodes(e,[t],this.destinationSlots,this,r);else{t.auOwnerView=e,t.auProjectionSource=i,t.auAssignedSlot=this;let n=this._findAnchor(e,t,i,r);n.parentNode.insertBefore(t,n),this.children.push(t),this.projections++}}removeView(e,t){if(null!==this.destinationSlots)te.undistributeView(e,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)te.undistributeView(e,this.contentView.slots,t);else{let i=this.children.find(e=>e.auSlotProjectFrom===t);if(i){let r=i.auProjectionChildren;for(let t=0,i=r.length;t<i;++t){let n=r[t];n.auOwnerView===e&&(r.splice(t,1),e.fragment.appendChild(n),t--,i--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(e,Y,t)}}}removeAll(e){if(null!==this.destinationSlots)te.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)te.undistributeAll(this.contentView.slots,e);else{let t=this.children.find(t=>t.auSlotProjectFrom===e);if(t){let i=t.auProjectionChildren;for(let e=0,t=i.length;e<t;++e){let t=i[e];t.auOwnerView.fragment.appendChild(t),this.projections--}t.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,Y,e)}}}_findAnchor(e,t,i,r){if(i){let n=this.children.find(e=>e.auSlotProjectFrom===i);if(n){if(void 0!==r){let i,s=n.auProjectionChildren,o=-1;for(let n=0,a=s.length;n<a;++n){let a=s[n];if(a.auOwnerView!==i&&(o++,i=a.auOwnerView,o>=r&&i!==e))return s.splice(n,0,t),a}}return n.auProjectionChildren.push(t),n}}return this.anchor}projectTo(e){this.destinationSlots=e}projectFrom(e,t){let i=S.b.createComment("anchor"),r=this.anchor.parentNode;i.auSlotProjectFrom=t,i.auOwnerView=e,i.auProjectionChildren=[],r.insertBefore(i,this.anchor),this.children.push(i),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(i)}renderFallbackContent(e,t,i,r){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){let n=this.contentView.slots,s=this.projectFromAnchors;if(null!==s)for(let e in n){let t=n[e];for(let e=0,i=s.length;e<i;++e){let i=s[e];t.projectFrom(i.auOwnerView,i.auSlotProjectFrom)}}this.fallbackSlots=n,te.distributeNodes(e,t,n,i,r)}}created(e){this.ownerView=e}bind(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},te=(f=p=class e{static getSlotName(t){return void 0===t.auSlotAttribute?e.defaultSlotKey:t.auSlotAttribute.value}static distributeView(t,i,r,n,s){let o;if(null===t)o=Y;else{let e=t.fragment.childNodes,i=e.length;o=new Array(i);for(let t=0;t<i;++t)o[t]=e[t]}e.distributeNodes(t,o,i,r,n,s)}static undistributeView(e,t,i){for(let r in t)t[r].removeView(e,i)}static undistributeAll(e,t){for(let i in e)e[i].removeAll(t)}static distributeNodes(t,i,r,n,s,o){for(let a=0,l=i.length;a<l;++a){let u=i[a],c=u.nodeType;if(u.isContentProjectionSource){u.viewSlot.projectTo(r);for(let e in r)r[e].projectFrom(t,u.viewSlot);i.splice(a,1),l--,a--}else if(1===c||3===c||u.viewSlot instanceof Z)if(3===c&&R(u))i.splice(a,1),l--,a--;else{let c=r[o||e.getSlotName(u)];c&&(c.addNode(t,u,n,s),i.splice(a,1),l--,a--)}else i.splice(a,1),l--,a--}for(let e in r){let o=r[e];o.needsFallbackRendering&&o.renderFallbackContent(t,i,n,s)}}},p.defaultSlotKey="__au-default-slot-key__",f);function ie(e,t,i,r){if(!t)return;let n=e[t];if(n){if(n!==i)throw new Error(`Attempted to register ${r} when one with the same name already exists. Name: ${t}.`)}else e[t]=i}let re=class{constructor(e,t){this.bindingLanguage=null,this.parent=e||null,this.hasParent=null!==this.parent,this.viewUrl=t||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}_tryAddHook(e,t){if("function"==typeof e[t]){let i,r=e[t].bind(e),n=1;for(;void 0!==this[i=t+n.toString()];)n++;this[t]=!0,this[i]=r}}_invokeHook(e,t,i,r,n){if(this.hasParent&&this.parent._invokeHook(e,t,i,r,n),this[e]){this[e+"1"](t,i,r,n);let s=e+"2";if(this[s]&&(this[s](t,i,r,n),this[s=e+"3"])){this[s](t,i,r,n);let o=4;for(;void 0!==this[s=e+o.toString()];)this[s](t,i,r,n),o++}}}registerViewEngineHooks(e){this._tryAddHook(e,"beforeCompile"),this._tryAddHook(e,"afterCompile"),this._tryAddHook(e,"beforeCreate"),this._tryAddHook(e,"afterCreate"),this._tryAddHook(e,"beforeBind"),this._tryAddHook(e,"beforeUnbind")}getBindingLanguage(e){return this.bindingLanguage||(this.bindingLanguage=e)}patchInParent(e){let t=this.parent;this.parent=e||null,this.hasParent=null!==this.parent,null===e.parent&&(e.parent=t,e.hasParent=null!==t)}relativeToView(e){return Object(O.d)(e,this.viewUrl)}registerElement(e,t){ie(this.elements,e,t,"an Element")}getElement(e){return this.elements[e]||(this.hasParent?this.parent.getElement(e):null)}mapAttribute(e){return this.attributeMap[e]||(this.hasParent?this.parent.mapAttribute(e):null)}registerAttribute(e,t,i){this.attributeMap[e]=i,ie(this.attributes,e,t,"an Attribute")}getAttribute(e){return this.attributes[e]||(this.hasParent?this.parent.getAttribute(e):null)}registerValueConverter(e,t){ie(this.valueConverters,e,t,"a ValueConverter")}getValueConverter(e){return this.valueConverters[e]||(this.hasParent?this.parent.getValueConverter(e):null)}registerBindingBehavior(e,t){ie(this.bindingBehaviors,e,t,"a BindingBehavior")}getBindingBehavior(e){return this.bindingBehaviors[e]||(this.hasParent?this.parent.getBindingBehavior(e):null)}registerValue(e,t){ie(this.values,e,t,"a value")}getValue(e){return this.values[e]||(this.hasParent?this.parent.getValue(e):null)}};let ne=class{constructor(e,t,i=I.instance){this.anchor=e,this.anchorIsContainer=t,this.bindingContext=null,this.overrideContext=null,this.animator=i,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,e.viewSlot=this,e.isContentProjectionSource=!1}animateView(e,t="enter"){let i=function(e){if(void 0!==e.animatableElement)return e.animatableElement;let t=e.firstChild;for(;t&&1!==t.nodeType;)t=t.nextSibling;return t&&1===t.nodeType?e.animatableElement=t.classList.contains("au-animate")?t:null:e.animatableElement=null}(e);if(null!==i)switch(t){case"enter":return this.animator.enter(i);case"leave":return this.animator.leave(i);default:throw new Error("Invalid animation direction: "+t)}}transformChildNodesIntoView(){let e=this.anchor;this.children.push({fragment:e,firstChild:e.firstChild,lastChild:e.lastChild,returnToCache(){},removeNodes(){let t;for(;t=e.lastChild;)e.removeChild(t)},created(){},bind(){},unbind(){},attached(){},detached(){}})}bind(e,t){let i,r,n;if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e=e||this.bindingContext,this.overrideContext=t=t||this.overrideContext,i=0,r=(n=this.children).length;i<r;++i)n[i].bind(e,t,!0)}unbind(){if(this.isBound){let e,t,i=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,e=0,t=i.length;e<t;++e)i[e].unbind()}}add(e){if(this.anchorIsContainer?e.appendNodesTo(this.anchor):e.insertNodesBefore(this.anchor),this.children.push(e),this.isAttached)return e.attached(),this.animateView(e,"enter")}insert(e,t){let i=this.children,r=i.length;return 0===e&&0===r||e>=r?this.add(t):(t.insertNodesBefore(i[e].firstChild),i.splice(e,0,t),this.isAttached?(t.attached(),this.animateView(t,"enter")):void 0)}move(e,t){if(e===t)return;const i=this.children,r=i[e];r.removeNodes(),r.insertNodesBefore(i[t].firstChild),i.splice(e,1),i.splice(t,0,r)}remove(e,t,i){return this.removeAt(this.children.indexOf(e),t,i)}removeMany(e,t,i){const r=this.children;let n,s=e.length,o=[];e.forEach(e=>{if(i)return void e.removeNodes();let t=this.animateView(e,"leave");t?o.push(t.then(()=>e.removeNodes())):e.removeNodes()});let a=()=>{if(this.isAttached)for(n=0;n<s;++n)e[n].detached();if(t)for(n=0;n<s;++n)e[n].returnToCache();for(n=0;n<s;++n){const t=r.indexOf(e[n]);t>=0&&r.splice(t,1)}};return o.length>0?Promise.all(o).then(()=>a()):a()}removeAt(e,t,i){let r=this.children[e],n=()=>(e=this.children.indexOf(r),r.removeNodes(),this.children.splice(e,1),this.isAttached&&r.detached(),t&&r.returnToCache(),r);if(!i){let e=this.animateView(r,"leave");if(e)return e.then(()=>n())}return n()}removeAll(e,t){let i,r=this.children,n=r.length,s=[];r.forEach(e=>{if(t)return void e.removeNodes();let i=this.animateView(e,"leave");i?s.push(i.then(()=>e.removeNodes())):e.removeNodes()});let o=()=>{if(this.isAttached)for(i=0;i<n;++i)r[i].detached();if(e)for(i=0;i<n;++i){const e=r[i];e&&e.returnToCache()}this.children=[]};return s.length>0?Promise.all(s).then(()=>o()):o()}attached(){let e,t,i,r;if(!this.isAttached)for(this.isAttached=!0,e=0,t=(i=this.children).length;e<t;++e)(r=i[e]).attached(),this.animateView(r,"enter")}detached(){let e,t,i;if(this.isAttached)for(this.isAttached=!1,e=0,t=(i=this.children).length;e<t;++e)i[e].detached()}projectTo(e){this.projectToSlots=e,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(t=>te.distributeView(t,e,this))}_projectionAdd(e){te.distributeView(e,this.projectToSlots,this),this.children.push(e),this.isAttached&&e.attached()}_projectionInsert(e,t){0===e&&!this.children.length||e>=this.children.length?this.add(t):(te.distributeView(t,this.projectToSlots,this,e),this.children.splice(e,0,t),this.isAttached&&t.attached())}_projectionMove(e,t){if(e===t)return;const i=this.children,r=i[e];te.undistributeView(r,this.projectToSlots,this),te.distributeView(r,this.projectToSlots,this,t),i.splice(e,1),i.splice(t,0,r)}_projectionRemove(e,t){te.undistributeView(e,this.projectToSlots,this),this.children.splice(this.children.indexOf(e),1),this.isAttached&&e.detached()}_projectionRemoveAt(e,t){let i=this.children[e];te.undistributeView(i,this.projectToSlots,this),this.children.splice(e,1),this.isAttached&&i.detached()}_projectionRemoveMany(e,t){e.forEach(e=>this.remove(e,t))}_projectionRemoveAll(e){te.undistributeAll(this.projectToSlots,this);let t=this.children;if(this.isAttached)for(let e=0,i=t.length;e<i;++e)t[e].detached();this.children=[]}},se=new(Object(E.d)(g=class{get(e,t){let i=t.__providerId__;return i in e?e[i]:e[i]=e.invoke(t)}})||g);function oe(e){if(e===S.b.Element)return this.element;if(e===pe){if(this.boundViewFactory)return this.boundViewFactory;let e=this.instruction.viewFactory,t=this.partReplacements;return t&&(e=t[e.part]||e),this.boundViewFactory=new pe(this,e,t),this.boundViewFactory}return e===ne?(void 0===this.viewSlot&&(this.viewSlot=new ne(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):e===B?this.elementEvents||(this.elementEvents=new B(this.element)):e===M?this.compositionTransaction||(this.compositionTransaction=this.parent.get(e)):e===re?this.viewResources:e===q?this.instruction:this.superGet(e)}function ae(e){return this._element.hasAttribute(e)}function le(e){return this._element.getAttribute(e)}function ue(e,t){this._element.setAttribute(e,t)}function ce(e,t,i,r,n,s,o,a,l){let u,c,h,d,p,f=i.behaviorInstructions,g=i.expressions;if(i.contentExpression)return n.push(i.contentExpression.createBinding(t.nextSibling)),t.nextSibling.auInterpolationTarget=!0,void t.parentNode.removeChild(t);if(i.shadowSlot){let e,n=S.b.createComment("slot");return e=i.slotDestination?new Z(n,i.slotName,i.slotDestination,i.slotFallbackFactory):new ee(n,i.slotName,i.slotFallbackFactory),S.b.replaceNode(n,t),o[i.slotName]=e,void r.push(e)}if(f.length)for(i.anchorIsContainer||(t=function(e,t){let i=S.b.createComment("anchor");if(t){let t=e.firstChild;t&&"AU-CONTENT"===t.tagName&&(i.contentElement=t),i._element=e,i.hasAttribute=ae,i.getAttribute=le,i.setAttribute=ue}return S.b.replaceNode(i,e),i}(t,i.elementInstruction)),e[i.injectorId]=u=function(e,t,i,r,n,s){let o,a,l=e.createChild();for(l.element=t,l.instruction=i,l.children=r,l.viewResources=s,l.partReplacements=n,a=(o=i.providers).length;a--;)l._resolvers.set(o[a],se);return l.superGet=l.get,l.get=oe,l}(e[i.parentInjectorId],t,i,s,a,l),c=0,h=f.length;c<h;++c)p=(d=f[c]).type.create(u,d,t,n),r.push(p);for(c=0,h=g.length;c<h;++c)n.push(g[c].createBinding(t))}function he(e,t){let i,r,n,s,o,a=e.split(";");for(t=t||{},r=0;r<a.length;r++)i=(n=a[r]).indexOf(":"),s=n.substring(0,i).trim(),o=n.substring(i+1).trim(),t[s]=o;return t}function de(e){let t="";for(let i in e)t+=i+":"+e[i]+";";return t}let pe=class{constructor(e,t,i){this.parentContainer=e,this.viewFactory=t,this.factoryCreateInstruction={partReplacements:i}}create(){let e=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return e._isUserControlled=!0,e}get isCaching(){return this.viewFactory.isCaching}setCacheSize(e,t){this.viewFactory.setCacheSize(e,t)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(e){this.viewFactory.returnViewToCache(e)}},fe=class{constructor(e,t,i){this.isCaching=!1,this.template=e,this.instructions=t,this.resources=i,this.cacheSize=-1,this.cache=null}setCacheSize(e,t){e&&("*"===e?e=Number.MAX_VALUE:"string"==typeof e&&(e=parseInt(e,10))),-1!==this.cacheSize&&t||(this.cacheSize=e),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}getCachedView(){return null!==this.cache&&this.cache.pop()||null}returnViewToCache(e){e.isAttached&&e.detached(),e.isBound&&e.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(e.fromCache=!0,this.cache.push(e))}create(e,t,i){t=t||$.normal;let r=this.getCachedView();if(null!==r)return r;let n,s,o,a,l,u=t.enhance?this.template:this.template.cloneNode(!0),c=u.querySelectorAll(".au-target"),h=this.instructions,d=this.resources,p=[],f=[],g=[],m=Object.create(null),v={root:e},b=t.partReplacements;for(this.resources._invokeHook("beforeCreate",this,e,u,t),i&&null!==this.surrogateInstruction&&function(e,t,i,r,n,s){let o,a,l,u,c,h=i.behaviorInstructions,d=i.expressions,p=i.providers,f=i.values;for(o=p.length;o--;)e._resolvers.set(p[o],se);for(let e in f)if(c=t.getAttribute(e)){if("class"===e)t.setAttribute("class",c+" "+f[e]);else if("style"===e){let i=he(f[e]);he(c,i),t.setAttribute("style",de(i))}}else t.setAttribute(e,f[e]);if(h.length)for(o=0,a=h.length;o<a;++o)(u=(l=h[o]).type.create(e,l,t,n)).contentView&&s.push(u.contentView),r.push(u);for(o=0,a=d.length;o<a;++o)n.push(d[o].createBinding(t))}(e,i,this.surrogateInstruction,p,f,g),t.enhance&&u.hasAttribute("au-target-id")&&ce(v,a=u,l=h[a.getAttribute("au-target-id")],p,f,g,m,b,d),n=0,s=c.length;n<s;++n)ce(v,a=c[n],l=h[a.getAttribute("au-target-id")],p,f,g,m,b,d);return o=new class{constructor(e,t,i,r,n,s,o){this.container=e,this.viewFactory=t,this.resources=t.resources,this.fragment=i,this.firstChild=i.firstChild,this.lastChild=i.lastChild,this.controllers=r,this.bindings=n,this.children=s,this.slots=o,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null;for(let e in o){this.hasSlots=!0;break}}returnToCache(){this.viewFactory.returnViewToCache(this)}created(){let e,t,i=this.controllers;for(e=0,t=i.length;e<t;++e)i[e].created(this)}bind(e,t,i){let r,n,s,o,a;if(!i||!this._isUserControlled){if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e,this.overrideContext=t||Object(P.q)(e),this.resources._invokeHook("beforeBind",this),o=0,a=(n=this.bindings).length;o<a;++o)n[o].bind(this);for(null!==this.viewModelScope&&(e.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),o=0,a=(r=this.controllers).length;o<a;++o)r[o].bind(this);for(o=0,a=(s=this.children).length;o<a;++o)s[o].bind(e,t,!0);this.hasSlots&&te.distributeView(this.contentView,this.slots)}}addBinding(e){this.bindings.push(e),this.isBound&&e.bind(this)}unbind(){let e,t,i,r,n;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),r=0,n=(t=this.bindings).length;r<n;++r)t[r].unbind();for(r=0,n=(e=this.controllers).length;r<n;++r)e[r].unbind();for(r=0,n=(i=this.children).length;r<n;++r)i[r].unbind();this.bindingContext=null,this.overrideContext=null}}insertNodesBefore(e){e.parentNode.insertBefore(this.fragment,e)}appendNodesTo(e){e.appendChild(this.fragment)}removeNodes(){let e,t=this.fragment,i=this.firstChild,r=this.lastChild;for(;i&&(e=i.nextSibling,t.appendChild(i),i!==r);)i=e}attached(){let e,t,i,r;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),i=0,r=(e=this.controllers).length;i<r;++i)e[i].attached();for(i=0,r=(t=this.children).length;i<r;++i)t[i].attached()}}detached(){let e,t,i,r;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),i=0,r=(e=this.controllers).length;i<r;++i)e[i].detached();for(i=0,r=(t=this.children).length;i<r;++i)t[i].detached()}}}(e,this,u,p,f,g,m),t.initiatedByBehavior||o.created(),this.resources._invokeHook("afterCreate",o),o}},ge=0;let me=0;function ve(e){let t=e.getAttribute("class"),i=(++me).toString();return e.setAttribute("class",t?t+" au-target":"au-target"),e.setAttribute("au-target-id",i),i}let be=Object(E.c)(J,re)(m=class{constructor(e,t){this.bindingLanguage=e,this.resources=t}compile(e,t,i){let r,n,s;t=t||this.resources,i=i||z.normal,(e="string"==typeof e?S.b.createTemplateFromMarkup(e):e).content?(n=e.getAttribute("part"),s=e.getAttribute("view-cache"),r=S.b.adoptNode(e.content)):r=e,i.targetShadowDOM=i.targetShadowDOM&&S.c.shadowDOM,t._invokeHook("beforeCompile",r,t,i);let o={};this._compileNode(r,t,o,e,"root",!i.targetShadowDOM);let a=r.firstChild;if(a&&1===a.nodeType){let e=a.getAttribute("au-target-id");if(e){let t=o[e];(t.shadowSlot||t.lifting||t.elementInstruction&&!t.elementInstruction.anchorIsContainer)&&r.insertBefore(S.b.createComment("view"),a)}}let l=new fe(r,o,t);return l.surrogateInstruction=i.compileSurrogate?this._compileSurrogate(e,t):null,l.part=n,s&&l.setCacheSize(s),t._invokeHook("afterCompile",l),l}_compileNode(e,t,i,r,n,s){switch(e.nodeType){case 1:return this._compileElement(e,t,i,r,n,s);case 3:let o=t.getBindingLanguage(this.bindingLanguage).inspectTextContent(t,e.wholeText);if(o){let t=S.b.createElement("au-marker"),n=ve(t);for((e.parentNode||r).insertBefore(t,e),e.textContent=" ",i[n]=q.contentExpression(o);e.nextSibling&&3===e.nextSibling.nodeType;)(e.parentNode||r).removeChild(e.nextSibling)}else for(;e.nextSibling&&3===e.nextSibling.nodeType;)e=e.nextSibling;return e.nextSibling;case 11:let a=e.firstChild;for(;a;)a=this._compileNode(a,t,i,e,n,s)}return e.nextSibling}_compileSurrogate(e,t){let i,r,n,s,o,a,l,u,c,h,d,p=e.tagName.toLowerCase(),f=e.attributes,g=t.getBindingLanguage(this.bindingLanguage),m=[],v=[],b={},w=!1,y=[];for(s=0,o=f.length;s<o;++s){if(l=(a=f[s]).name,u=a.value,c=g.inspectAttribute(t,p,l,u),(h=t.getAttribute(c.attrName))&&(i=t.mapAttribute(c.attrName))&&(r=h.attributes[i])&&(c.defaultBindingMode=r.defaultBindingMode,c.command||c.expression||(c.command=r.hasOptions?"options":null),c.command&&"options"!==c.command&&h.primaryProperty)){const e=h.primaryProperty;l=c.attrName=e.name,c.defaultBindingMode=e.defaultBindingMode}if(n=g.createAttributeInstruction(t,e,c,void 0,h))if(n.alteredAttr&&(h=t.getAttribute(n.attrName)),n.discrete)m.push(n);else if(h){if(n.type=h,this._configureProperties(n,t),h.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");v.push(n)}else m.push(n.attributes[n.attrName]);else if(h){if((n=$.attribute(l,h)).attributes[t.mapAttribute(l)]=u,h.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");v.push(n)}else"id"!==l&&"part"!==l&&"replace-part"!==l&&(w=!0,b[l]=u)}if(m.length||v.length||w){for(s=0,o=v.length;s<o;++s)(n=v[s]).type.compile(this,t,e,n),y.push(n.type.target);for(s=0,o=m.length;s<o;++s)void 0!==(d=m[s]).attrToRemove&&e.removeAttribute(d.attrToRemove);return q.surrogate(y,v,m,b)}return null}_compileElement(e,t,i,r,n,s){let o,a,l,u,c,h,d,p,f,g,m,v,b,w,y,C,_,x=e.tagName.toLowerCase(),k=e.attributes,O=[],A=[],E=[],P=t.getBindingLanguage(this.bindingLanguage);if("slot"===x)return s&&(e=function(e,t,i,r,n){let s=S.b.createElement("au-shadow-slot");S.b.replaceNode(s,i);let o=ve(s),a=q.shadowSlot(n);if(a.slotName=i.getAttribute("name")||te.defaultSlotKey,a.slotDestination=i.getAttribute("slot"),i.innerHTML.trim()){let r,n=S.b.createDocumentFragment();for(;r=i.firstChild;)n.appendChild(r);a.slotFallbackFactory=e.compile(n,t)}return r[o]=a,s}(this,t,e,i,n)),e.nextSibling;for("template"===x?(l=this.compile(e,t)).part=e.getAttribute("part"):(u=t.getElement(e.getAttribute("as-element")||x))&&(c=$.element(e,u),u.processAttributes(this,t,e,k,c),A.push(c)),d=0,p=k.length;d<p;++d){if(g=(f=k[d]).name,m=f.value,b=P.inspectAttribute(t,x,g,m),s&&"slot"===b.attrName&&(b.attrName=g="au-slot"),h=null,u=t.getAttribute(b.attrName)){if((y=t.mapAttribute(b.attrName))&&(w=u.attributes[y])&&(b.defaultBindingMode=w.defaultBindingMode,b.command||b.expression||(b.command=w.hasOptions?"options":null),b.command&&"options"!==b.command&&u.primaryProperty)){const e=u.primaryProperty;g=b.attrName=e.name,b.defaultBindingMode=e.defaultBindingMode}}else c&&(h=c.type.attributes[b.attrName])&&(b.defaultBindingMode=h.defaultBindingMode);if(v=h?P.createAttributeInstruction(t,e,b,c):P.createAttributeInstruction(t,e,b,void 0,u))if(v.alteredAttr&&(u=t.getAttribute(v.attrName)),v.discrete)O.push(v);else if(u){if(v.type=u,this._configureProperties(v,t),u.liftsContent){v.originalAttrName=g,a=v;break}A.push(v)}else h?c.attributes[b.attrName].targetProperty=h.name:O.push(v.attributes[v.attrName]);else if(u){if((v=$.attribute(g,u)).attributes[t.mapAttribute(g)]=m,u.liftsContent){v.originalAttrName=g,a=v;break}A.push(v)}else h&&(c.attributes[g]=m)}if(a)a.viewFactory=l,i[C=ve(e=a.type.compile(this,t,e,a,r))]=q.lifting(n,a);else{if(O.length||A.length){for(_=!!A.length&&++ge,d=0,p=A.length;d<p;++d)(v=A[d]).type.compile(this,t,e,v,r),E.push(v.type.target);for(d=0,p=O.length;d<p;++d)void 0!==(o=O[d]).attrToRemove&&e.removeAttribute(o.attrToRemove);i[C=ve(e)]=q.normal(_,n,E,A,O,c)}if(c&&c.skipContentProcessing)return e.nextSibling;let a=e.firstChild;for(;a;)a=this._compileNode(a,t,i,e,_||n,s)}return e.nextSibling}_configureProperties(e,t){let i,r,n,s=e.type,o=e.attrName,a=e.attributes,l=t.mapAttribute(o);for(r in l&&o in a&&l!==o&&(a[l]=a[o],delete a[o]),a)null!==(n=a[r])&&"object"==typeof n&&(i=s.attributes[r],n.targetProperty=void 0!==i?i.name:r)}})||m,we=class{constructor(e,t,i){i||(i=k.b.get(k.b.resource,t))||((i=new Pe).elementName=T(e),k.b.define(k.b.resource,i,t)),i instanceof Pe?void 0===i.elementName?i.elementName=T(e):void 0===i.attributeName?i.attributeName=T(e):null===i.attributeName&&null===i.elementName&&Pe.convention(e,i):i.name||(i.name=T(e)),this.metadata=i,this.value=t}initialize(e){this.metadata.initialize(e,this.value)}register(e,t){this.metadata.register(e,t)}load(e,t){return this.metadata.load(e,this.value,t)}},ye=class{constructor(){this.cache=Object.create(null)}getAnalysis(e){return this.cache[e]}analyze(e,t,i){let r,n,s,o,a,l,u,c,h,d=[];if(h=this.cache[e])return h;for(a in h=new class{constructor(e){this.id=e,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}initialize(e){let t=this.mainResource,i=this.resources,r=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==t&&(t.metadata.viewStrategy=r,t.initialize(e));for(let n=0,s=i.length;n<s;++n)(t=i[n]).metadata.viewStrategy=r,t.initialize(e)}}register(e,t){let i=this.mainResource,r=this.resources;void 0!==i&&(i.register(e,t),t=null);for(let i=0,n=r.length;i<n;++i)r[i].register(e,t),t=null}load(e,t){if(null!==this.onLoaded)return this.loadContext===t?Promise.resolve():this.onLoaded;let i,r=this.mainResource,n=this.resources;if(void 0!==r){(i=new Array(n.length+1))[0]=r.load(e,t);for(let r=0,s=n.length;r<s;++r)i[r+1]=n[r].load(e,t)}else{i=new Array(n.length);for(let r=0,s=n.length;r<s;++r)i[r]=n[r].load(e,t)}return this.loadContext=t,this.onLoaded=Promise.all(i),this.onLoaded}}(e),this.cache[e]=h,"function"==typeof t&&(t={default:t}),i&&(r=new we(i,t[i])),t)l=t[a],a!==i&&"function"==typeof l&&((o=k.b.get(k.b.resource,l))?(null===o.attributeName&&null===o.elementName&&Pe.convention(a,o),null===o.attributeName&&null===o.elementName&&(o.elementName=T(a)),!r&&o instanceof Pe&&null!==o.elementName?r=new we(a,l,o):d.push(new we(a,l,o))):D.decorates(l)?c=l:l instanceof A.b?c=new Q(e,l):(u=Pe.convention(a))?(null===u.elementName||r?d.push(new we(a,l,u)):r=new we(a,l,u),k.b.define(k.b.resource,u,l)):(u=P.m.convention(a)||P.b.convention(a)||L.convention(a))?(d.push(new we(a,l,u)),k.b.define(k.b.resource,u,l)):n||(n=l,s=a));return!r&&n&&(r=new we(s,n)),h.moduleInstance=t,h.mainResource=r,h.resources=d,h.viewStrategy=c,h}},Ce=x.getLogger("templating");let _e=Object(E.c)(A.a,E.a,be,ye,re)((w=b=class e{constructor(e,t,i,r,n){this.loader=e,this.container=t,this.viewCompiler=i,this.moduleAnalyzer=r,this.appResources=n,this._pluginMap={};let s=new Pe;s.attributeName="au-slot",s.initialize(t,X),s.register(n)}addResourcePlugin(e,t){let i=e.replace(".","")+"-resource-plugin";this._pluginMap[e]=i,this.loader.addPlugin(i,t)}loadViewFactory(e,t,i,r){return i=i||new F,function(e,t){return t instanceof A.b?Promise.resolve(t):e.loadTemplate(t)}(this.loader,e).then(n=>n.onReady?i.hasDependency(e)?null===n.template?n.onReady:Promise.resolve(new class{constructor(e){e.then(e=>this.viewFactory=e)}create(e,t,i,r){return this.viewFactory.create(e,t,i,r)}get isCaching(){return this.viewFactory.isCaching}setCacheSize(e,t){this.viewFactory.setCacheSize(e,t)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(e){this.viewFactory.returnViewToCache(e)}}(n.onReady)):(i.addDependency(e),n.onReady):(i.addDependency(e),n.onReady=this.loadTemplateResources(n,t,i,r).then(e=>{if(n.resources=e,null===n.template)return n.factory=null;let i=this.viewCompiler.compile(n.template,e,t);return n.factory=i}),n.onReady))}loadTemplateResources(t,i,r,n){let s,o,a=new re(this.appResources,t.address),l=t.dependencies;if(i=i||z.normal,0===l.length&&!i.associatedModuleId)return Promise.resolve(a);if(s=l.map(e=>e.src),o=l.map(e=>e.name),Ce.debug(`importing resources for ${t.address}`,s),n){let r=k.b.get(e.viewModelRequireMetadataKey,n);if(r){let e=s.length;for(let e=0,i=r.length;e<i;++e){let i=r[e],n="function"==typeof i?k.a.get(i).moduleId:Object(O.d)(i.src||i,t.address);-1===s.indexOf(n)&&(s.push(n),o.push(i.as))}Ce.debug(`importing ViewModel resources for ${i.associatedModuleId}`,s.slice(e))}}return this.importViewResources(s,o,a,i,r)}importViewModelResource(e,t){return this.loader.loadModule(e).then(i=>{let r=k.a.get(i).moduleId,n=this.moduleAnalyzer.analyze(r,i,t);if(!n.mainResource)throw new Error(`No view model found in module "${e}".`);return n.initialize(this.container),n.mainResource})}importViewResources(e,t,i,r,n){return n=n||new F,r=r||z.normal,e=e.map(e=>this._applyLoaderPlugin(e)),this.loader.loadAllModules(e).then(e=>{let s,o,a,l,u,c,h=this.container,d=this.moduleAnalyzer,p=new Array(e.length);for(s=0,o=e.length;s<o;++s)u=e[s],l=k.a.get(u).moduleId,(a=d.analyze(l,u)).initialize(h),a.register(i,t[s]),p[s]=a;for(r.associatedModuleId&&(c=d.getAnalysis(r.associatedModuleId))&&c.register(i),s=0,o=p.length;s<o;++s)p[s]=p[s].load(h,n);return Promise.all(p).then(()=>i)})}_applyLoaderPlugin(e){let t=e.lastIndexOf(".");if(-1!==t){let i=e.substring(t),r=this._pluginMap[i];return void 0===r?e:this.loader.applyPluginToUrl(e,r)}return e}},b.viewModelRequireMetadataKey="aurelia:view-model-require",v=w))||v,xe=Object(P.v)()(y=class{constructor(e,t,i,r,n){this.taskQueue=e,this.obj=t,this.propertyName=i,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=r,this.currentValue=this.oldValue=n}getValue(){return this.currentValue}setValue(e){let t=this.currentValue;t!==e&&(this.oldValue=t,this.currentValue=e,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))}call(){let e=this.oldValue,t=this.currentValue;this.notqueued=!0,t!==e&&(this.selfSubscriber&&this.selfSubscriber(t,e),this.callSubscribers(t,e),this.oldValue=t)}subscribe(e,t){this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)}})||y;function ke(e,t,i){let r=t.__observers__;return void 0===r&&(e.isInitialized||e.initialize(E.a.instance||new E.a,t.constructor),r=e.observerLocator.getOrCreateObserversLookup(t),e._ensurePropertiesDefined(t,r)),r[i]}let Se=class{constructor(e){"string"==typeof e?this.name=e:Object.assign(this,e),this.attribute=this.attribute||T(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=P.n.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}registerWith(e,t,i){if(t.properties.push(this),t.attributes[this.attribute]=this,this.owner=t,i)return this.descriptor=i,this._configureDescriptor(t,i)}_configureDescriptor(e,t){let i=this.name;return t.configurable=!0,t.enumerable=!0,"initializer"in t&&(this.defaultValue=t.initializer,delete t.initializer,delete t.writable),"value"in t&&(this.defaultValue=t.value,delete t.value,delete t.writable),t.get=function(){return ke(e,this,i).getValue()},t.set=function(t){ke(e,this,i).setValue(t)},t.get.getObserver=function(t){return ke(e,t,i)},t}defineOn(e,t){let i,r=this.name;null===this.changeHandler&&(i=r+"Changed")in e.prototype&&(this.changeHandler=i),null===this.descriptor&&Object.defineProperty(e.prototype,r,this._configureDescriptor(t,{}))}createObserver(e){let t,i=null,r=this.defaultValue,n=this.changeHandler,s=this.name;if(!this.hasOptions){if(n in e)i="propertyChanged"in e?(t,i)=>{e[n](t,i),e.propertyChanged(s,t,i)}:(t,i)=>e[n](t,i);else if("propertyChanged"in e)i=((t,i)=>e.propertyChanged(s,t,i));else if(null!==n)throw new Error(`Change handler ${n} was specified but not declared on the class.`);return void 0!==r&&(t="function"==typeof r?r.call(e):r),new xe(this.owner.taskQueue,e,this.name,i,t)}}_initialize(e,t,i,r,n){let s,o,a,l=this.defaultValue;if(this.isDynamic)for(let s in i)this._createDynamicProperty(e,t,r,s,i[s],n);else this.hasOptions||(o=t[this.name],null!==i&&(s=o.selfSubscriber,a=i[this.attribute],r&&(o.selfSubscriber=null),"string"==typeof a?(e[this.name]=a,o.call()):a?n.push({observer:o,binding:a.createBinding(e)}):void 0!==l&&o.call(),o.selfSubscriber=s),o.publishing=!0)}_createDynamicProperty(e,t,i,r,n,s){let o,a,l=r+"Changed",u=null;l in e?u="propertyChanged"in e?(t,i)=>{e[l](t,i),e.propertyChanged(r,t,i)}:(t,i)=>e[l](t,i):"propertyChanged"in e&&(u=((t,i)=>e.propertyChanged(r,t,i))),o=t[r]=new xe(this.owner.taskQueue,e,r,u),Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:o.getValue.bind(o),set:o.setValue.bind(o)}),i&&(o.selfSubscriber=null),"string"==typeof n?(e[r]=n,o.call()):n&&(a={observer:o,binding:n.createBinding(e)},s.push(a)),o.publishing=!0,o.selfSubscriber=u}},Oe=0;function Ae(){return!0}function Ee(){}let Pe=class e{constructor(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=Ee,this.processContent=Ae,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}static convention(t,i){let r;return t.endsWith("CustomAttribute")&&((r=i||new e).attributeName=T(t.substring(0,t.length-15))),t.endsWith("CustomElement")&&((r=i||new e).elementName=T(t.substring(0,t.length-13))),r}addChildBinding(e){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(e)}initialize(e,t){let i,r,n,s=t.prototype,o=this.properties,a=this.attributeName,l=this.attributeDefaultBindingMode;if(!this.isInitialized)if(this.isInitialized=!0,t.__providerId__=++Oe,this.observerLocator=e.get(P.i),this.taskQueue=e.get(V.a),this.target=t,this.usesShadowDOM=this.targetShadowDOM&&S.c.shadowDOM,this.handlesCreated="created"in s,this.handlesBind="bind"in s,this.handlesUnbind="unbind"in s,this.handlesAttached="attached"in s,this.handlesDetached="detached"in s,this.htmlName=this.elementName||this.attributeName,null!==a)if(0===o.length&&new Se({name:"value",changeHandler:"valueChanged"in s?"valueChanged":null,attribute:a,defaultBindingMode:l}).registerWith(t,this),n=o[0],1===o.length&&"value"===n.name)n.isDynamic=n.hasOptions=this.hasDynamicOptions,n.defineOn(t,this);else{for(i=0,r=o.length;i<r;++i)if(o[i].defineOn(t,this),o[i].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=o[i]}(n=new Se({name:"value",changeHandler:"valueChanged"in s?"valueChanged":null,attribute:a,defaultBindingMode:l})).hasOptions=!0,n.registerWith(t,this)}else for(i=0,r=o.length;i<r;++i)o[i].defineOn(t,this)}register(e,t){null!==this.attributeName&&e.registerAttribute(t||this.attributeName,this,this.attributeName),null!==this.elementName&&e.registerElement(t||this.elementName,this)}load(e,t,i,r,n){let s;return null!==this.elementName?(r=e.get(K).getViewStrategy(r||this.viewStrategy||t),s=new z(this.targetShadowDOM,!0),r.moduleId||(r.moduleId=k.a.get(t).moduleId),r.loadViewFactory(e.get(_e),s,i,t).then(e=>(n&&this.viewFactory||(this.viewFactory=e),e))):Promise.resolve(this)}compile(e,t,i,r,n){if(this.liftsContent){if(!r.viewFactory){let s=S.b.createElement("template"),o=S.b.createDocumentFragment(),a=i.getAttribute("view-cache"),l=i.getAttribute("part");i.removeAttribute(r.originalAttrName),S.b.replaceNode(s,i,n),o.appendChild(i),r.viewFactory=e.compile(o,t),l&&(r.viewFactory.part=l,i.removeAttribute("part")),a&&(r.viewFactory.setCacheSize(a),i.removeAttribute("view-cache")),i=s}}else if(null!==this.elementName){let s={};if(this.processContent(e,t,i,r)&&i.hasChildNodes()){let o,a,l=i.firstChild,u=this.usesShadowDOM?null:S.b.createElement("au-content");for(;l;)o=l.nextSibling,"TEMPLATE"===l.tagName&&(a=l.getAttribute("replace-part"))?(s[a]=e.compile(l,t),S.b.removeNode(l,n),r.partReplacements=s):null!==u&&(3===l.nodeType&&R(l)?S.b.removeNode(l,n):u.appendChild(l)),l=o;null!==u&&u.hasChildNodes()&&i.appendChild(u),r.skipContentProcessing=!1}else r.skipContentProcessing=!0}return i}create(e,t,i,r){let n,s=null;t=t||$.normal,i=i||null,r=r||null,null!==this.elementName&&i&&(this.usesShadowDOM?(n=i.attachShadow(this.shadowDOMOptions),e.registerInstance(S.b.boundary,n)):(n=i,this.targetShadowDOM&&e.registerInstance(S.b.boundary,n))),null!==i&&(i.au=s=i.au||{});let o,a=t.viewModel||e.get(this.target),l=new class{constructor(e,t,i,r){this.behavior=e,this.instruction=t,this.viewModel=i,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=r,this.elementEvents=r.elementEvents||null;let n,s,o=e.observerLocator.getOrCreateObserversLookup(i),a=e.handlesBind,l=t.attributes,u=this.boundProperties=[],c=e.properties;for(e._ensurePropertiesDefined(i,o),n=0,s=c.length;n<s;++n)c[n]._initialize(i,o,l,a,u)}created(e){this.behavior.handlesCreated&&this.viewModel.created(e,this.view)}automate(e,t){this.view.bindingContext=this.viewModel,this.view.overrideContext=e||Object(P.q)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(t||null,this.view),this.bind(this.view)}bind(e){let t,i,r,n,s,o,a=this.behavior.handlesBind,l=this.boundProperties;if(this.isBound){if(this.scope===e)return;this.unbind()}for(this.isBound=!0,this.scope=e,t=0,i=l.length;t<i;++t)s=(n=(r=l[t]).observer).selfSubscriber,n.publishing=!1,a&&(n.selfSubscriber=null),r.binding.bind(e),n.call(),n.publishing=!0,n.selfSubscriber=s;null!==this.view?(a&&(this.view.viewModelScope=e),this.viewModel===e.overrideContext.bindingContext?o=e.overrideContext:this.instruction.inheritBindingContext?o=Object(P.q)(this.viewModel,e.overrideContext):(o=Object(P.q)(this.viewModel)).__parentOverrideContext=e.overrideContext,this.view.bind(this.viewModel,o)):a&&(o=e.overrideContext,void 0!==e.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&((o=Object.assign({},e.overrideContext)).parentOverrideContext=e.overrideContext.__parentOverrideContext),this.viewModel.bind(e.bindingContext,o))}unbind(){if(this.isBound){let e,t,i=this.boundProperties;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),e=0,t=i.length;e<t;++e)i[e].binding.unbind()}}attached(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())}detached(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())}}(this,t,a,e),u=this.childBindings;if(this.liftsContent)s.controller=l;else if(null!==this.elementName){if(o=t.viewFactory||this.viewFactory,e.viewModel=a,o&&(l.view=o.create(e,t,i)),null!==i){if(s.controller=l,l.view){if(!this.usesShadowDOM&&(1===i.childNodes.length||i.contentElement)){let e=i.childNodes[0]||i.contentElement;l.view.contentView={fragment:e},e.parentNode&&S.b.removeNode(e)}if(t.anchorIsContainer){if(null!==u)for(let e=0,t=u.length;e<t;++e)l.view.addBinding(u[e].create(i,a,l));l.view.appendNodesTo(n)}else l.view.insertNodesBefore(n)}else if(null!==u)for(let e=0,t=u.length;e<t;++e)r.push(u[e].create(i,a,l))}else if(l.view){if(l.view.controller=l,null!==u)for(let e=0,i=u.length;e<i;++e)l.view.addBinding(u[e].create(t.host,a,l))}else if(null!==u)for(let e=0,i=u.length;e<i;++e)r.push(u[e].create(t.host,a,l))}else if(null!==u)for(let e=0,t=u.length;e<t;++e)r.push(u[e].create(i,a,l));return null!==s&&(s[this.htmlName]=l),t.initiatedByBehavior&&o&&l.view.created(),l}_ensurePropertiesDefined(e,t){let i,r,n,s;if(!("__propertiesDefined__"in t))for(t.__propertiesDefined__=!0,r=0,n=(i=this.properties).length;r<n;++r)void 0!==(s=i[r].createObserver(e))&&(t[s.propertyName]=s)}};function Ve(e,t){return Array.isArray(t)?e.removeMany(t,!0):e.remove(t,!0)}const Ie={before:(e,t,i)=>void 0===t?i():i().then(()=>Ve(e,t)),with:(e,t,i)=>void 0===t?i():Promise.all([Ve(e,t),i()]),after:(e,t,i)=>Promise.resolve(e.removeAll(!0)).then(i)};function Me(e){return e.skipActivation||"function"!=typeof e.viewModel.activate?Promise.resolve():e.viewModel.activate(e.model)||Promise.resolve()}let Ne=Object(E.c)(_e,K)(C=class{constructor(e,t){this.viewEngine=e,this.viewLocator=t}_swap(e,t){let i=Ie[e.swapOrder]||Ie.after,r=e.viewSlot.children.slice();return i(e.viewSlot,r,()=>Promise.resolve(e.viewSlot.add(t)).then(()=>{e.currentController&&e.currentController.unbind()})).then(()=>{e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done()})}_createControllerAndSwap(e){return this.createController(e).then(t=>(t.automate(e.overrideContext,e.owningView),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>this._swap(e,t.view)).then(()=>t):this._swap(e,t.view).then(()=>t)))}createController(e){let t,i,r,n;return this.ensureViewModel(e).then(Me).then(()=>{t=e.childContainer,i=e.viewModel,r=e.viewModelResource,n=r.metadata;let s=this.viewLocator.getViewStrategy(e.view||i);return e.viewResources&&s.makeRelativeTo(e.viewResources.viewUrl),n.load(t,r.value,null,s,!0)}).then(r=>n.create(t,$.dynamic(e.host,i,r)))}ensureViewModel(e){let t=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then(i=>(t.autoRegister(i.value),e.host&&t.registerInstance(S.b.Element,e.host),e.viewModel=t.viewModel=t.get(i.value),e.viewModelResource=i,e));let i=k.b.getOrCreateOwn(k.b.resource,Pe,e.viewModel.constructor);return i.elementName=i.elementName||"dynamic-element",i.initialize(e.container||t,e.viewModel.constructor),e.viewModelResource={metadata:i,value:e.viewModel.constructor},t.viewModel=e.viewModel,Promise.resolve(e)}compose(e){e.childContainer=e.childContainer||e.container.createChild(),e.view=this.viewLocator.getViewStrategy(e.view);let t=e.childContainer.get(M),i=t.tryCapture();return i?e.compositionTransactionOwnershipToken=i:e.compositionTransactionNotifier=t.enlist(),e.viewModel?this._createControllerAndSwap(e):e.view?(e.viewResources&&e.view.makeRelativeTo(e.viewResources.viewUrl),e.view.loadViewFactory(this.viewEngine,new z).then(t=>{let i=t.create(e.childContainer);return i.bind(e.bindingContext,e.overrideContext),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>this._swap(e,i)).then(()=>i):this._swap(e,i).then(()=>i)})):e.viewSlot?(e.viewSlot.removeAll(),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)}})||C;function je(e,t){if(/[A-Z]/.test(e)){let i=T(e);return x.getLogger("templating").warn(`'${e}' is not a valid ${t} name and has been converted to '${i}'. Upper-case letters are not allowed because the DOM is not case-sensitive.`),i}return e}function Te(e){return function(t){k.b.define(k.b.resource,e,t)}}function Re(e){return function(t){k.b.getOrCreateOwn(k.b.resource,Pe,t).elementName=je(e,"custom element")}}function Le(e,t){return function(i){let r=k.b.getOrCreateOwn(k.b.resource,Pe,i);r.attributeName=je(e,"custom attribute"),r.attributeDefaultBindingMode=t}}function Be(e){let t=function(e){k.b.getOrCreateOwn(k.b.resource,Pe,e).liftsContent=!0};return e?t(e):t}function Fe(e,t,i){let r=function(t,i,r){let n,s=i?t.constructor:t,o=k.b.getOrCreateOwn(k.b.resource,Pe,s);return i&&((e=e||{}).name=i),(n=new Se(e)).registerWith(s,o,r)};if(!e)return r;if(t){let n=e;return e=null,r(n,t,i)}return r}function ze(e){return function(t){k.b.define(K.viewStrategyMetadataKey,e,t)}}function $e(e){return ze(new H(e))}function qe(e,t){let i,r;"function"==typeof e?i=e:(r=e,i=void 0);let n=function(e){k.b.define(K.viewStrategyMetadataKey,new W(r,t),e)};return i?n(i):n}let De=Object(E.c)(E.a,ye,be,Ne)(_=class{constructor(e,t,i,r){this._container=e,this._moduleAnalyzer=t,this._viewCompiler=i,this._compositionEngine=r,e.registerInstance(I,I.instance=new I)}configureAnimator(e){this._container.unregister(I),this._container.registerInstance(I,I.instance=e)}compose(e){return this._compositionEngine.compose(e)}enhance(e){e instanceof S.b.Element&&(e={element:e});let t={},i=e.resources||this._container.get(re);this._viewCompiler._compileNode(e.element,i,t,e.element.parentNode,"root",!0);let r=new fe(e.element,t,i),n=e.container||this._container.createChild(),s=r.create(n,$.enhance());return s.bind(e.bindingContext||{},e.overrideContext),s}})||_},20:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var r=i(5),n=i(3);let s=class{getCollectionObserver(e,t){return e.getArrayObserver(t)}instanceChanged(e,t){const i=t.length;if(!t||0===i)return void e.removeAllViews(!0,!e.viewsRequireLifecycle);const n=e.views(),s=n.length;if(0!==s)if(e.viewsRequireLifecycle){const o=n.slice(0),a=e.local,l=e.matcher();let u=[];const c=[];for(let e=0;e<s;e++){const i=o[e],n=i.bindingContext[a];-1===Object(r.c)(t,n,l)?c.push(i):u.push(n)}let h,d;u.length>0?(d=e.removeViews(c,!0,!e.viewsRequireLifecycle),h=(()=>{for(let s=0;s<i;s++){const o=t[s],a=Object(r.c)(u,o,l,s);let c;if(-1===a){const n=Object(r.a)(e,t[s],s,i);e.insertView(s,n.bindingContext,n),u.splice(s,0,void 0)}else a===s?(c=n[a],u[a]=void 0):(c=n[a],e.moveView(a,s),u.splice(a,1),u.splice(s,0,void 0));c&&Object(r.g)(c.overrideContext,s,i)}this._inPlaceProcessItems(e,t)})):(d=e.removeAllViews(!0,!e.viewsRequireLifecycle),h=(()=>this._standardProcessInstanceChanged(e,t))),d instanceof Promise?d.then(h):h()}else this._inPlaceProcessItems(e,t);else this._standardProcessInstanceChanged(e,t)}_standardProcessInstanceChanged(e,t){for(let i=0,n=t.length;i<n;i++){let s=Object(r.a)(e,t[i],i,n);e.addView(s.bindingContext,s)}}_inPlaceProcessItems(e,t){let i=t.length,n=e.viewCount();for(;n>i;)n--,e.removeView(n,!0,!e.viewsRequireLifecycle);let s=e.local;for(let r=0;r<n;r++){let n=e.view(r),o=r===i-1,a=0!==r&&!o;n.bindingContext[s]===t[r]&&n.overrideContext.$middle===a&&n.overrideContext.$last===o||(n.bindingContext[s]=t[r],n.overrideContext.$middle=a,n.overrideContext.$last=o,e.updateBindings(n))}for(let s=n;s<i;s++){let n=Object(r.a)(e,t[s],s,i);e.addView(n.bindingContext,n)}}instanceMutated(e,t,i){if(e.__queuedSplices){for(let t=0,r=i.length;t<r;++t){let{index:r,removed:s,addedCount:o}=i[t];Object(n.t)(e.__queuedSplices,r,s,o)}return void(e.__array=t.slice(0))}let r=this._runSplices(e,t.slice(0),i);if(r instanceof Promise){let t=e.__queuedSplices=[],i=()=>{if(!t.length)return e.__queuedSplices=void 0,void(e.__array=void 0);let r=this._runSplices(e,e.__array,t)||Promise.resolve();t=e.__queuedSplices=[],r.then(i)};r.then(i)}}_runSplices(e,t,i){let n=0,s=[];for(let t=0,r=i.length;t<r;++t){let r=i[t];for(let t=0,i=r.removed.length;t<i;++t){let t=e.removeView(r.index+n+s.length,!0);t instanceof Promise&&s.push(t)}n-=r.addedCount}if(s.length>0)return Promise.all(s).then(()=>{let n=this._handleAddedSplices(e,t,i);Object(r.h)(e.views(),n)});let o=this._handleAddedSplices(e,t,i);Object(r.h)(e.views(),o)}_handleAddedSplices(e,t,i){let n,s,o=t.length;for(let a=0,l=i.length;a<l;++a){let l=i[a],u=n=l.index,c=l.index+l.addedCount;for((void 0===s||null===s||s>l.index)&&(s=n);u<c;++u){let i=Object(r.a)(e,t[u],u,o);e.insertView(u,i.bindingContext,i)}}return s}}},21:function(e,t,i){"use strict";i.d(t,"a",function(){return r});let r=class{instanceChanged(e,t){e.removeAllViews(!0)}getCollectionObserver(e,t){}}},22:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var r=i(21),n=i(20),s=i(19),o=i(18),a=i(17);let l=class{constructor(){this.matchers=[],this.strategies=[],this.addStrategy(e=>null===e||void 0===e,new r.a),this.addStrategy(e=>e instanceof Array,new n.a),this.addStrategy(e=>e instanceof Map,new s.a),this.addStrategy(e=>e instanceof Set,new o.a),this.addStrategy(e=>"number"==typeof e,new a.a)}addStrategy(e,t){this.matchers.push(e),this.strategies.push(t)}getStrategy(e){let t=this.matchers;for(let i=0,r=t.length;i<r;++i)if(t[i](e))return this.strategies[i];return null}}},23:function(e,t){var i,r,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&p())}function p(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new f(e,t)),1!==u.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},24:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},25:function(e,t,i){"use strict";i(0);if(String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(e){return!0}}()||(String.prototype.endsWith=function(e,t){let i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;let r=i.indexOf(e,t);return-1!==r&&r===t}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(e){return!0}}()||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),"undefined"==typeof FEATURE_NO_ESNEXT){const e=Object.freeze({}),t="__metadata__";"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(i,r,n){if(r.hasOwnProperty(t))return(r[t][n]||e)[i]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(e,i,r,n){let s=r.hasOwnProperty(t)?r[t]:r[t]={};(s[n]||(s[n]={}))[e]=i}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(e,t){return function(i,r){Reflect.defineMetadata(e,t,i,r)}})}},26:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"bootstrap",function(){return d}),i.d(t,"starting",function(){return p});i(25);var r=i(0);let n,s=[];const o=new Promise(e=>n=e),a=r.d.global,l=void 0!==e&&!e.browser;function u(){return r.d.Loader?Promise.resolve(new r.d.Loader):Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function c(t){const i=(e,i)=>t.normalize(e,i).then(i=>(t.map(e,i),i));return function(t){let i;const n=l&&("renderer"===e.type||e.versions["node-webkit"]);if(l&&!n)i="nodejs";else if("undefined"!=typeof window)i="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");i="worker"}return t.loadModule("aurelia-pal-"+i).then(e=>"nodejs"===i&&!r.f&&e.globalize()||e.initialize())}(t).then(()=>t.normalize("aurelia-bootstrapper")).then(e=>{const t=i("aurelia-framework",e);return Promise.all([t,t.then(e=>i("aurelia-dependency-injection",e)),i("aurelia-router",e),i("aurelia-logging-console",e)])}).then(([e])=>t.loadModule(e)).then(e=>n(()=>new e.Aurelia(t)))}function h(e,t,i){return i.host=e,i.configModuleId=t||null,t?i.loader.loadModule(t).then(e=>{if(!e.configure)throw new Error(`Cannot initialize module '${t}' without a configure function.`);return e.configure(i)}):(i.use.standardConfiguration().developmentLogging(),i.start().then(()=>i.setRoot()))}function d(e){const t=o.then(t=>e(t()));return s&&s.push(t),t}const p=(a.document&&"complete"!==a.document.readyState?new Promise(e=>{function t(){a.document.removeEventListener("DOMContentLoaded",t),a.removeEventListener("load",t),e()}a.document.addEventListener("DOMContentLoaded",t),a.addEventListener("load",t)}):Promise.resolve()).then(u).then(c).then(()=>{const e=a.document.querySelectorAll("[aurelia-app],[data-aurelia-app]");for(let t=0,i=e.length;t<i;++t){const i=e[t],r=i.getAttribute("aurelia-app")||i.getAttribute("data-aurelia-app");d(h.bind(null,i,r))}const t=console.error.bind(console),i=s.map(e=>e.catch(t));return s=null,Promise.all(i)})}.call(this,i(23))},27:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},28:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"TextTemplateLoader",function(){return a}),i.d(t,"ensureOriginOnExports",function(){return l}),i.d(t,"WebpackLoader",function(){return u});var r=i(1),n=i(8),s=i(0),o=function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(o,a)}l((r=r.apply(e,t||[])).next())})};class a{loadTemplate(e,t){return o(this,void 0,void 0,function*(){const i=yield e.loadText(t.address);t.template=s.b.createTemplateFromMarkup(i)})}}function l(e,t){let i,n,s=e;if(s.__useDefault&&(s=s.default),r.a.set(s,new r.a(t,"default")),"object"==typeof s)for(i in s)"function"==typeof(n=s[i])&&r.a.set(n,new r.a(t,i));return e}class u extends n.a{constructor(){super(),this.moduleRegistry=Object.create(null),this.loaderPlugins=Object.create(null),this.modulesBeingLoaded=new Map,this.useTemplateLoader(new a),this.addPlugin("template-registry-entry",{fetch:e=>o(this,void 0,void 0,function*(){const t=this.getOrCreateTemplateRegistryEntry(e);return t.templateIsLoaded||(yield this.templateLoader.loadTemplate(this,t)),t})}),s.d.eachModule=(e=>{const t=i.c;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i].exports;"object"==typeof r&&e(i,r)})})}_import(t,r=!0){return o(this,void 0,void 0,function*(){const n=t.split("!"),s=n.splice(n.length-1,1)[0],o=1===n.length?n[0]:null;if(o){const e=this.loaderPlugins[o];if(!e)throw new Error(`Plugin ${o} is not registered in the loader.`);return yield e.fetch(s)}if(i.m[s])return r&&e.hot&&this.hmrContext&&e.hot.accept(s,()=>this.hmrContext.handleModuleChange(s,e.hot)),i(s);const a=`async!${s}`;if(i.m[a]){r&&e.hot&&this.hmrContext&&(e.hot.accept(s,()=>this.hmrContext.handleModuleChange(s,e.hot)),e.hot.accept(a,()=>{}));const t=i(a);return yield new Promise(t)}throw new Error(`Unable to find module with ID: ${s}`)})}map(e,t){}normalizeSync(e,t){return e}normalize(e,t){return Promise.resolve(e)}useTemplateLoader(e){this.templateLoader=e}loadAllModules(e){return Promise.all(e.map(e=>this.loadModule(e)))}loadModule(e,t=!0){return o(this,void 0,void 0,function*(){let i=this.moduleRegistry[e];if(i)return i;let r=this.modulesBeingLoaded.get(e);if(r)return r;r=this._import(e,t),this.modulesBeingLoaded.set(e,r);const n=yield r;return this.moduleRegistry[e]=l(n,e),this.modulesBeingLoaded.delete(e),n})}loadTemplate(e){return this.loadModule(this.applyPluginToUrl(e,"template-registry-entry"),!1)}loadText(e){return o(this,void 0,void 0,function*(){const t=yield this.loadModule(e,!1);return t instanceof Array&&t[0]instanceof Array&&t.hasOwnProperty("toString")?t.toString():t})}applyPluginToUrl(e,t){return`${t}!${e}`}addPlugin(e,t){this.loaderPlugins[e]=t}}s.d.Loader=u}.call(this,i(27)(e))},29:function(e,t,i){"use strict";i.r(t);var r,n=i(0);Object.defineProperty(n.d,"Loader",{get:function(){return r||(r=i(28).WebpackLoader)},set:function(e){r=e}})},3:function(e,t,i){"use strict";i.d(t,"o",function(){return C}),i.d(t,"q",function(){return _}),i.d(t,"u",function(){return k}),i.d(t,"p",function(){return I}),i.d(t,"s",function(){return z}),i.d(t,"v",function(){return G}),i.d(t,"t",function(){return ie}),i.d(t,"a",function(){return me}),i.d(t,"l",function(){return ve}),i.d(t,"n",function(){return Te}),i.d(t,"j",function(){return $t}),i.d(t,"r",function(){return Jt}),i.d(t,"f",function(){return Yt}),i.d(t,"e",function(){return ri}),i.d(t,"k",function(){return li}),i.d(t,"i",function(){return ui}),i.d(t,"c",function(){return ci}),i.d(t,"d",function(){return di}),i.d(t,"m",function(){return fi}),i.d(t,"w",function(){return gi}),i.d(t,"b",function(){return mi}),i.d(t,"g",function(){return vi}),i.d(t,"h",function(){return yi});var r,n,s,o,a,l,u,c,h,d,p,f,g,m=i(6),v=i(0),b=i(10),w=i(1);const y=Object.create(null);function C(e){if(e in y)return y[e];const t=e.charAt(0).toLowerCase()+e.slice(1).replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase());return y[e]=t,t}function _(e,t){return{bindingContext:e,parentOverrideContext:t||null}}function x(e,t,i){let r=t.overrideContext;if(i){for(;i&&r;)i--,r=r.parentOverrideContext;if(i||!r)return;return e in r?r:r.bindingContext}for(;r&&!(e in r)&&!(r.bindingContext&&e in r.bindingContext);)r=r.parentOverrideContext;return r?e in r?r:r.bindingContext:t.bindingContext||t.overrideContext}const k="Binding:source",S=[],O=[];for(let e=0;e<100;e++)S.push(`_observer${e}`),O.push(`_observerVersion${e}`);function A(e){let t=void 0===this._observerSlots?0:this._observerSlots,i=t;for(;i--&&this[S[i]]!==e;);if(-1===i){for(i=0;this[S[i]];)i++;this[S[i]]=e,e.subscribe(k,this),i===t&&(this._observerSlots=i+1)}void 0===this._version&&(this._version=0),this[O[i]]=this._version}function E(e,t){let i=this.observerLocator.getObserver(e,t);A.call(this,i)}function P(e){let t=this.observerLocator.getArrayObserver(e);A.call(this,t)}function V(e){let t=this._observerSlots;for(;t--;)if(e||this[O[t]]!==this._version){let e=this[S[t]];this[S[t]]=null,e&&e.unsubscribe(k,this)}}function I(){return function(e){e.prototype.observeProperty=E,e.prototype.observeArray=P,e.prototype.unobserve=V,e.prototype.addObserver=A}}const M=[],N={};let j=0;const T=100,R=15;let L=!1,B=0;function F(e){const t=M.length;let i=0;for(;i<t;){const t=M[i];if(N[t.__connectQueueId]=!1,t.connect(!0),++i%100==0&&v.d.performance.now()-e>R)break}M.splice(0,i),M.length?v.d.requestAnimationFrame(F):(L=!1,B=0)}function z(e){if(B<T)B++,e.connect(!1);else{let t=e.__connectQueueId;void 0===t&&(t=j,j++,e.__connectQueueId=t),N[t]||(M.push(e),N[t]=!0)}L||(L=!0,v.d.requestAnimationFrame(F))}function $(e,t){return!this.hasSubscriber(e,t)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(e),this._callablesRest.push(t),!0):(this._contextsRest=[e],this._callablesRest=[t],!0):(this._context2=e,this._callable2=t,!0):(this._context1=e,this._callable1=t,!0):(this._context0=e,this._callable0=t,!0))}function q(e,t){if(this._context0===e&&this._callable0===t)return this._context0=null,this._callable0=null,!0;if(this._context1===e&&this._callable1===t)return this._context1=null,this._callable1=null,!0;if(this._context2===e&&this._callable2===t)return this._context2=null,this._callable2=null,!0;let i,r=this._contextsRest;return!(!r||!r.length||-1===(i=r.indexOf(e))||this._callablesRest[i]!==t)&&(r.splice(i,1),this._callablesRest.splice(i,1),!0)}let D=[],H=[],U=[];function W(e,t){let i,r,n,s,o=this._context0,a=this._callable0,l=this._context1,u=this._callable1,c=this._context2,h=this._callable2,d=this._contextsRest?this._contextsRest.length:0;if(d){for(n=U.length;n--&&U[n];);for(n<0?(n=U.length,i=[],r=[],U.push(!0),D.push(i),H.push(r)):(U[n]=!0,i=D[n],r=H[n]),s=d;s--;)i[s]=this._contextsRest[s],r[s]=this._callablesRest[s]}if(o&&(a?a.call(o,e,t):o(e,t)),l&&(u?u.call(l,e,t):l(e,t)),c&&(h?h.call(c,e,t):c(e,t)),d){for(s=0;s<d;s++){let n=r[s],o=i[s];n?n.call(o,e,t):o(e,t),i[s]=null,r[s]=null}U[n]=!1}}function Q(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function K(e,t){let i;if(this._context0===e&&this._callable0===t||this._context1===e&&this._callable1===t||this._context2===e&&this._callable2===t)return!0;let r=this._contextsRest;if(!r||0===(i=r.length))return!1;let n=this._callablesRest;for(;i--;)if(r[i]===e&&n[i]===t)return!0;return!1}function G(){return function(e){e.prototype.addSubscriber=$,e.prototype.removeSubscriber=q,e.prototype.callSubscribers=W,e.prototype.hasSubscribers=Q,e.prototype.hasSubscriber=K}}let J=I()(r=G()(r=class{constructor(e,t,i,r){this.scope=e,this.expression=t,this.observerLocator=i,this.lookupFunctions=r}getValue(){return this.expression.evaluate(this.scope,this.lookupFunctions)}setValue(e){this.expression.assign(this.scope,e)}subscribe(e,t){if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(e,t),1===arguments.length&&e instanceof Function)return{dispose:()=>{this.unsubscribe(e,t)}}}unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)}call(){let e=this.expression.evaluate(this.scope,this.lookupFunctions),t=this.oldValue;e!==t&&(this.oldValue=e,this.callSubscribers(e,t)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)}})||r)||r;function Y(e){return+e}function X(e,t,i){return{index:e,removed:t,addedCount:i}}function Z(){}Z.prototype={calcEditDistances:function(e,t,i,r,n,s){let o,a,l=s-n+1,u=i-t+1,c=new Array(l);for(let e=0;e<l;++e)c[e]=new Array(u),c[e][0]=e;for(let e=0;e<u;++e)c[0][e]=e;for(let i=1;i<l;++i)for(let s=1;s<u;++s)this.equals(e[t+s-1],r[n+i-1])?c[i][s]=c[i-1][s-1]:(o=c[i-1][s]+1,a=c[i][s-1]+1,c[i][s]=o<a?o:a);return c},spliceOperationsFromEditDistances:function(e){let t=e.length-1,i=e[0].length-1,r=e[t][i],n=[];for(;t>0||i>0;){if(0===t){n.push(2),i--;continue}if(0===i){n.push(3),t--;continue}let s,o=e[t-1][i-1],a=e[t-1][i],l=e[t][i-1];(s=a<l?a<o?a:o:l<o?l:o)===o?(o===r?n.push(0):(n.push(1),r=o),t--,i--):s===a?(n.push(3),t--,r=a):(n.push(2),i--,r=l)}return n.reverse(),n},calcSplices:function(e,t,i,r,n,s){let o=0,a=0,l=Math.min(i-t,s-n);if(0===t&&0===n&&(o=this.sharedPrefix(e,r,l)),i===e.length&&s===r.length&&(a=this.sharedSuffix(e,r,l-o)),n+=o,s-=a,(i-=a)-(t+=o)==0&&s-n==0)return[];if(t===i){let e=X(t,[],0);for(;n<s;)e.removed.push(r[n++]);return[e]}if(n===s)return[X(t,[],i-t)];let u=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,i,r,n,s)),c=void 0,h=[],d=t,p=n;for(let e=0;e<u.length;++e)switch(u[e]){case 0:c&&(h.push(c),c=void 0),d++,p++;break;case 1:c||(c=X(d,[],0)),c.addedCount++,d++,c.removed.push(r[p]),p++;break;case 2:c||(c=X(d,[],0)),c.addedCount++,d++;break;case 3:c||(c=X(d,[],0)),c.removed.push(r[p]),p++}return c&&h.push(c),h},sharedPrefix:function(e,t,i){for(let r=0;r<i;++r)if(!this.equals(e[r],t[r]))return r;return i},sharedSuffix:function(e,t,i){let r=e.length,n=t.length,s=0;for(;s<i&&this.equals(e[--r],t[--n]);)s++;return s},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}};let ee=new Z;function te(e,t,i,r,n,s){return ee.calcSplices(e,t,i,r,n,s)}function ie(e,t,i,r){let n=X(t,i,r),s=!1,o=0;for(let t=0;t<e.length;t++){let i=e[t];if(i.index+=o,s)continue;let r=(a=n.index,l=n.index+n.removed.length,u=i.index,c=i.index+i.addedCount,l<u||c<a?-1:l===u||c===a?0:a<u?l<c?l-u:c-u:c<l?c-a:l-a);if(r>=0){e.splice(t,1),t--,o-=i.addedCount-i.removed.length,n.addedCount+=i.addedCount-r;let a=n.removed.length+i.removed.length-r;if(n.addedCount||a){let e=i.removed;if(n.index<i.index){let t=n.removed.slice(0,i.index-n.index);Array.prototype.push.apply(t,e),e=t}if(n.index+n.removed.length>i.index+i.addedCount){let t=n.removed.slice(i.index+i.addedCount-n.index);Array.prototype.push.apply(e,t)}n.removed=e,i.index<n.index&&(n.index=i.index)}else s=!0}else if(n.index<i.index){s=!0,e.splice(t,0,n),t++;let r=n.addedCount-n.removed.length;i.index+=r,o+=r}}var a,l,u,c;s||e.push(n)}function re(e,t){let i=[];return function(e,t){let i=[];for(let e=0;e<t.length;e++){let n=t[e];switch(n.type){case"splice":ie(i,n.index,n.removed.slice(),n.addedCount);break;case"add":case"update":case"delete":if(+(r=n.name)!=r>>>0)continue;let e=Y(n.name);if(e<0)continue;ie(i,e,[n.oldValue],"delete"===n.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(n))}}var r;return i}(0,t).forEach(function(t){1!==t.addedCount||1!==t.removed.length?i=i.concat(te(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)):t.removed[0]!==e[t.index]&&i.push(t)}),i}let ne=G()(n=class{constructor(e,t){this.taskQueue=e,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length"}subscribe(e,t){this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)}addChangeRecord(e){if(this.hasSubscribers()||this.lengthObserver){if("splice"===e.type){let t=e.index,i=e.object.length;t>i?t=i-e.addedCount:t<0&&(t=i+e.removed.length+t-e.addedCount),t<0&&(t=0),e.index=t}null===this.changeRecords?this.changeRecords=[e]:this.changeRecords.push(e),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}}flushChangeRecords(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()}reset(e){this.oldCollection=e,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))}getLengthObserver(){return this.lengthObserver||(this.lengthObserver=new se(this.collection))}call(){let e,t=this.changeRecords,i=this.oldCollection;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(e=i?this.collection instanceof Map||this.collection instanceof Set?function(e){let t,i=new Array(e.size),r=e.keys(),n=0;for(;(t=r.next())&&!t.done;)i[n]=(s="added",o=e,a=t.value,{type:s,object:o,key:a,oldValue:void 0}),n++;var s,o,a;return i}(i):te(this.collection,0,this.collection.length,i,0,i.length):this.collection instanceof Map||this.collection instanceof Set?t:re(this.collection,t),this.callSubscribers(e)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])}})||n,se=G()(s=class{constructor(e){this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length",this.currentValue=e[this.lengthPropertyName]}getValue(){return this.collection[this.lengthPropertyName]}setValue(e){this.collection[this.lengthPropertyName]=e}subscribe(e,t){this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)}call(e){let t=this.currentValue;this.callSubscribers(e,t),this.currentValue=e}})||s,oe=Array.prototype.pop,ae=Array.prototype.push,le=Array.prototype.reverse,ue=Array.prototype.shift,ce=Array.prototype.sort,he=Array.prototype.splice,de=Array.prototype.unshift;Array.prototype.pop=function(){let e=this.length>0,t=oe.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:t}),t},Array.prototype.push=function(){let e=ae.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),e},Array.prototype.reverse=function(){let e;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());let t=le.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},Array.prototype.shift=function(){let e=this.length>0,t=ue.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:t}),t},Array.prototype.sort=function(){let e;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());let t=ce.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},Array.prototype.splice=function(){let e=he.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:e,addedCount:arguments.length>2?arguments.length-2:0}),e},Array.prototype.unshift=function(){let e=de.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),e};let pe=class e extends ne{constructor(e,t){super(e,t)}static for(t,i){return"__array_observer__"in i||Reflect.defineProperty(i,"__array_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__array_observer__}static create(t,i){return new e(t,i)}},fe=class{constructor(){this.isChain=!1,this.isAssignable=!1}evaluate(e,t,i){throw new Error(`Binding expression "${this}" cannot be evaluated.`)}assign(e,t,i){throw new Error(`Binding expression "${this}" cannot be assigned to.`)}toString(){return super.toString()}},ge=class extends fe{constructor(e){super(),this.expressions=e,this.isChain=!0}evaluate(e,t){let i,r,n=this.expressions;for(let s=0,o=n.length;s<o;++s)null!==(r=n[s].evaluate(e,t))&&(i=r);return i}accept(e){return e.visitChain(this)}},me=class extends fe{constructor(e,t,i){super(),this.expression=e,this.name=t,this.args=i}evaluate(e,t){return this.expression.evaluate(e,t)}assign(e,t,i){return this.expression.assign(e,t,i)}accept(e){return e.visitBindingBehavior(this)}connect(e,t){this.expression.connect(e,t)}bind(e,t,i){this.expression.expression&&this.expression.bind&&this.expression.bind(e,t,i);let r=i.bindingBehaviors(this.name);if(!r)throw new Error(`No BindingBehavior named "${this.name}" was found!`);let n=`behavior-${this.name}`;if(e[n])throw new Error(`A binding behavior named "${this.name}" has already been applied to "${this.expression}"`);e[n]=r,r.bind.apply(r,[e,t].concat(Ne(t,this.args,e.lookupFunctions)))}unbind(e,t){let i=`behavior-${this.name}`;e[i].unbind(e,t),e[i]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(e,t)}},ve=class extends fe{constructor(e,t,i,r){super(),this.expression=e,this.name=t,this.args=i,this.allArgs=r}evaluate(e,t){let i=t.valueConverters(this.name);if(!i)throw new Error(`No ValueConverter named "${this.name}" was found!`);return"toView"in i?i.toView.apply(i,Ne(e,this.allArgs,t)):this.allArgs[0].evaluate(e,t)}assign(e,t,i){let r=i.valueConverters(this.name);if(!r)throw new Error(`No ValueConverter named "${this.name}" was found!`);return"fromView"in r&&(t=r.fromView.apply(r,[t].concat(Ne(e,this.args,i)))),this.allArgs[0].assign(e,t,i)}accept(e){return e.visitValueConverter(this)}connect(e,t){let i=this.allArgs,r=i.length;for(;r--;)i[r].connect(e,t)}},be=class extends fe{constructor(e,t){super(),this.target=e,this.value=t,this.isAssignable=!0}evaluate(e,t){return this.target.assign(e,this.value.evaluate(e,t))}accept(e){e.visitAssign(this)}connect(e,t){}assign(e,t){this.value.assign(e,t),this.target.assign(e,t)}},we=class extends fe{constructor(e,t,i){super(),this.condition=e,this.yes=t,this.no=i}evaluate(e,t){return this.condition.evaluate(e)?this.yes.evaluate(e):this.no.evaluate(e)}accept(e){return e.visitConditional(this)}connect(e,t){this.condition.connect(e,t),this.condition.evaluate(t)?this.yes.connect(e,t):this.no.connect(e,t)}},ye=class extends fe{constructor(e){super(),this.ancestor=e}evaluate(e,t){let i=e.overrideContext,r=this.ancestor;for(;r--&&i;)i=i.parentOverrideContext;return r<1&&i?i.bindingContext:void 0}accept(e){return e.visitAccessThis(this)}connect(e,t){}},Ce=class extends fe{constructor(e,t){super(),this.name=e,this.ancestor=t,this.isAssignable=!0}evaluate(e,t){return x(this.name,e,this.ancestor)[this.name]}assign(e,t){let i=x(this.name,e,this.ancestor);return i?i[this.name]=t:void 0}accept(e){return e.visitAccessScope(this)}connect(e,t){let i=x(this.name,t,this.ancestor);e.observeProperty(i,this.name)}},_e=class extends fe{constructor(e,t){super(),this.object=e,this.name=t,this.isAssignable=!0}evaluate(e,t){let i=this.object.evaluate(e,t);return null===i||void 0===i?i:i[this.name]}assign(e,t){let i=this.object.evaluate(e);return null!==i&&void 0!==i||(i={},this.object.assign(e,i)),i[this.name]=t,t}accept(e){return e.visitAccessMember(this)}connect(e,t){this.object.connect(e,t);let i=this.object.evaluate(t);i&&e.observeProperty(i,this.name)}},xe=class extends fe{constructor(e,t){super(),this.object=e,this.key=t,this.isAssignable=!0}evaluate(e,t){return function(e,t){if(Array.isArray(e))return e[parseInt(t,10)];if(e)return e[t];if(null===e||void 0===e)return;return e[t]}(this.object.evaluate(e,t),this.key.evaluate(e,t))}assign(e,t){return function(e,t,i){if(Array.isArray(e)){let r=parseInt(t,10);e.length<=r&&(e.length=r+1),e[r]=i}else e[t]=i;return i}(this.object.evaluate(e),this.key.evaluate(e),t)}accept(e){return e.visitAccessKeyed(this)}connect(e,t){this.object.connect(e,t);let i=this.object.evaluate(t);if(i instanceof Object){this.key.connect(e,t);let r=this.key.evaluate(t);null===r||void 0===r||Array.isArray(i)&&"number"==typeof r||e.observeProperty(i,r)}}},ke=class extends fe{constructor(e,t,i){super(),this.name=e,this.args=t,this.ancestor=i}evaluate(e,t,i){let r=Ne(e,this.args,t),n=x(this.name,e,this.ancestor),s=je(n,this.name,i);if(s)return s.apply(n,r)}accept(e){return e.visitCallScope(this)}connect(e,t){let i=this.args,r=i.length;for(;r--;)i[r].connect(e,t)}},Se=class extends fe{constructor(e,t,i){super(),this.object=e,this.name=t,this.args=i}evaluate(e,t,i){let r=this.object.evaluate(e,t),n=Ne(e,this.args,t),s=je(r,this.name,i);if(s)return s.apply(r,n)}accept(e){return e.visitCallMember(this)}connect(e,t){if(this.object.connect(e,t),je(this.object.evaluate(t),this.name,!1)){let i=this.args,r=i.length;for(;r--;)i[r].connect(e,t)}}},Oe=class extends fe{constructor(e,t){super(),this.func=e,this.args=t}evaluate(e,t,i){let r=this.func.evaluate(e,t);if("function"==typeof r)return r.apply(null,Ne(e,this.args,t));if(i||null!==r&&void 0!==r)throw new Error(`${this.func} is not a function`)}accept(e){return e.visitCallFunction(this)}connect(e,t){if(this.func.connect(e,t),"function"==typeof this.func.evaluate(t)){let i=this.args,r=i.length;for(;r--;)i[r].connect(e,t)}}},Ae=class extends fe{constructor(e,t,i){super(),this.operation=e,this.left=t,this.right=i}evaluate(e,t){let i=this.left.evaluate(e);switch(this.operation){case"&&":return i&&this.right.evaluate(e);case"||":return i||this.right.evaluate(e)}let r=this.right.evaluate(e);switch(this.operation){case"==":return i==r;case"===":return i===r;case"!=":return i!=r;case"!==":return i!==r}if(null===i||null===r||void 0===i||void 0===r){switch(this.operation){case"+":return null!==i&&void 0!==i?i:null!==r&&void 0!==r?r:0;case"-":return null!==i&&void 0!==i?i:null!==r&&void 0!==r?0-r:0}return null}switch(this.operation){case"+":return function(e,t){if(null!==e&&null!==t)return"string"==typeof e&&"string"!=typeof t?e+t.toString():"string"!=typeof e&&"string"==typeof t?e.toString()+t:e+t;if(null!==e)return e;if(null!==t)return t;return 0}(i,r);case"-":return i-r;case"*":return i*r;case"/":return i/r;case"%":return i%r;case"<":return i<r;case">":return i>r;case"<=":return i<=r;case">=":return i>=r;case"^":return i^r}throw new Error(`Internal error [${this.operation}] not handled`)}accept(e){return e.visitBinary(this)}connect(e,t){this.left.connect(e,t);let i=this.left.evaluate(t);"&&"===this.operation&&!i||"||"===this.operation&&i||this.right.connect(e,t)}},Ee=class extends fe{constructor(e,t){super(),this.operation=e,this.expression=t}evaluate(e,t){return!this.expression.evaluate(e)}accept(e){return e.visitPrefix(this)}connect(e,t){this.expression.connect(e,t)}},Pe=class extends fe{constructor(e){super(),this.value=e}evaluate(e,t){return this.value}accept(e){return e.visitLiteralPrimitive(this)}connect(e,t){}},Ve=class extends fe{constructor(e){super(),this.value=e}evaluate(e,t){return this.value}accept(e){return e.visitLiteralString(this)}connect(e,t){}},Ie=class extends fe{constructor(e){super(),this.elements=e}evaluate(e,t){let i=this.elements,r=[];for(let n=0,s=i.length;n<s;++n)r[n]=i[n].evaluate(e,t);return r}accept(e){return e.visitLiteralArray(this)}connect(e,t){let i=this.elements.length;for(let r=0;r<i;r++)this.elements[r].connect(e,t)}},Me=class extends fe{constructor(e,t){super(),this.keys=e,this.values=t}evaluate(e,t){let i={},r=this.keys,n=this.values;for(let s=0,o=r.length;s<o;++s)i[r[s]]=n[s].evaluate(e,t);return i}accept(e){return e.visitLiteralObject(this)}connect(e,t){let i=this.keys.length;for(let r=0;r<i;r++)this.values[r].connect(e,t)}};function Ne(e,t,i){const r=t.length,n=[];for(let s=0;s<r;s++)n[s]=t[s].evaluate(e,i);return n}function je(e,t,i){let r=null===e||void 0===e?null:e[t];if("function"==typeof r)return r;if(!i&&(null===r||void 0===r))return null;throw new Error(`${t} is not a function`)}const Te={oneTime:0,oneWay:1,twoWay:2};let Re=class{constructor(e,t){this.index=e,this.text=t}withOp(e){return this.opKey=e,this}withGetterSetter(e){return this.key=e,this}withValue(e){return this.value=e,this}toString(){return`Token(${this.text})`}},Le=class{constructor(e){this.input=e,this.length=e.length,this.peek=0,this.index=-1,this.advance()}scanToken(){for(;this.peek<=Ue;){if(++this.index>=this.length)return this.peek=Fe,null;this.peek=this.input.charCodeAt(this.index)}if(Tt(this.peek))return this.scanIdentifier();if(Rt(this.peek))return this.scanNumber(this.index);let e=this.index;switch(this.peek){case nt:return this.advance(),Rt(this.peek)?this.scanNumber(e):new Re(e,".");case Xe:case Ze:case It:case Nt:case vt:case wt:case it:case ot:case at:return this.scanCharacter(e,String.fromCharCode(this.peek));case Ye:case Qe:return this.scanString();case tt:case rt:case et:case st:case Ge:case yt:case ht:return this.scanOperator(e,String.fromCharCode(this.peek));case lt:case ct:case We:case ut:return this.scanComplexOperator(e,ut,String.fromCharCode(this.peek),"=");case Je:return this.scanComplexOperator(e,Je,"&","&");case Mt:return this.scanComplexOperator(e,Mt,"|","|");case jt:for(;(t=this.peek)>=ze&&t<=Ue||t===jt;)this.advance();return this.scanToken()}var t;let i=String.fromCharCode(this.peek);return this.error(`Unexpected character [${i}]`),null}scanCharacter(e,t){return Ft(this.peek===t.charCodeAt(0)),this.advance(),new Re(e,t)}scanOperator(e,t){return Ft(this.peek===t.charCodeAt(0)),Ft(-1!==Be.indexOf(t)),this.advance(),new Re(e,t).withOp(t)}scanComplexOperator(e,t,i,r){Ft(this.peek===i.charCodeAt(0)),this.advance();let n=i;return this.peek===t&&(this.advance(),n+=r),this.peek===t&&(this.advance(),n+=r),Ft(-1!==Be.indexOf(n)),new Re(e,n).withOp(n)}scanIdentifier(){Ft(Tt(this.peek));let e=this.index;for(this.advance();t=this.peek,_t<=t&&t<=Vt||ft<=t&&t<=mt||dt<=t&&t<=pt||t===Ct||t===Ke;)this.advance();var t;let i=this.input.substring(e,this.index),r=new Re(e,i);return-1!==Be.indexOf(i)?r.withOp(i):r.withGetterSetter(i),r}scanNumber(e){Ft(Rt(this.peek));let t=this.index===e;for(this.advance();;){if(!Rt(this.peek))if(this.peek===nt)t=!1;else{if((i=this.peek)!==xt&&i!==gt)break;this.advance(),Lt(this.peek)&&this.advance(),Rt(this.peek)||this.error("Invalid exponent",-1),t=!1}this.advance()}var i;let r=this.input.substring(e,this.index),n=t?parseInt(r,10):parseFloat(r);return new Re(e,r).withValue(n)}scanString(){Ft(this.peek===Ye||this.peek===Qe);let e,t=this.index,i=this.peek;this.advance();let r=this.index;for(;this.peek!==i;)if(this.peek===bt){let t;if(e||(e=[]),e.push(this.input.substring(r,this.index)),this.advance(),this.peek===Et){let e=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(e)||this.error(`Invalid unicode escape [\\u${e}]`),t=parseInt(e,16);for(let e=0;e<5;++e)this.advance()}else t=Bt(this.peek),this.advance();e.push(String.fromCharCode(t)),r=this.index}else this.peek===Fe?this.error("Unterminated quote"):this.advance();let n=this.input.substring(r,this.index);this.advance();let s=this.input.substring(t,this.index),o=n;return null!==e&&void 0!==e&&(e.push(n),o=e.join("")),new Re(t,s).withValue(o)}advance(){++this.index>=this.length?this.peek=Fe:this.peek=this.input.charCodeAt(this.index)}error(e,t=0){let i=this.index+t;throw new Error(`Lexer Error: ${e} at column ${i} in expression [${this.input}]`)}};const Be=["undefined","null","true","false","+","-","*","/","%","^","=","==","===","!=","!==","<",">","<=",">=","&&","||","&","|","!","?"],Fe=0,ze=9,$e=10,qe=11,De=12,He=13,Ue=32,We=33,Qe=34,Ke=36,Ge=37,Je=38,Ye=39,Xe=40,Ze=41,et=42,tt=43,it=44,rt=45,nt=46,st=47,ot=58,at=59,lt=60,ut=61,ct=62,ht=63,dt=48,pt=57,ft=65,gt=69,mt=90,vt=91,bt=92,wt=93,yt=94,Ct=95,_t=97,xt=101,kt=102,St=110,Ot=114,At=116,Et=117,Pt=118,Vt=122,It=123,Mt=124,Nt=125,jt=160;function Tt(e){return _t<=e&&e<=Vt||ft<=e&&e<=mt||e===Ct||e===Ke}function Rt(e){return dt<=e&&e<=pt}function Lt(e){return e===rt||e===tt}function Bt(e){switch(e){case St:return $e;case kt:return De;case Ot:return He;case At:return ze;case Pt:return qe;default:return e}}function Ft(e,t){if(!e)throw t||"Assertion failed"}let zt=new Re(-1,null),$t=class{constructor(){this.cache={},this.lexer=new class{lex(e){let t=new Le(e),i=[],r=t.scanToken();for(;r;)i.push(r),r=t.scanToken();return i}}}parse(e){return e=e||"",this.cache[e]||(this.cache[e]=new qt(this.lexer,e).parseChain())}},qt=class{constructor(e,t){this.index=0,this.input=t,this.tokens=e.lex(t)}get peek(){return this.index<this.tokens.length?this.tokens[this.index]:zt}parseChain(){let e=!1,t=[];for(;this.optional(";");)e=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error(`Unconsumed token ${this.peek.text}`);let i=this.parseBindingBehavior();for(t.push(i);this.optional(";");)e=!0;e&&this.error("Multiple expressions are not allowed.")}return 1===t.length?t[0]:new ge(t)}parseBindingBehavior(){let e=this.parseValueConverter();for(;this.optional("&");){let t=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());e=new me(e,t,i)}return e}parseValueConverter(){let e=this.parseExpression();for(;this.optional("|");){let t=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());e=new ve(e,t,i,[e].concat(i))}return e}parseExpression(){let e=this.peek.index,t=this.parseConditional();for(;"="===this.peek.text;){if(!t.isAssignable){let t=this.index<this.tokens.length?this.peek.index:this.input.length,i=this.input.substring(e,t);this.error(`Expression ${i} is not assignable`)}this.expect("="),t=new be(t,this.parseConditional())}return t}parseConditional(){let e=this.peek.index,t=this.parseLogicalOr();if(this.optional("?")){let i=this.parseExpression();if(!this.optional(":")){let t=this.index<this.tokens.length?this.peek.index:this.input.length,i=this.input.substring(e,t);this.error(`Conditional expression ${i} requires all 3 expressions`)}let r=this.parseExpression();t=new we(t,i,r)}return t}parseLogicalOr(){let e=this.parseLogicalAnd();for(;this.optional("||");)e=new Ae("||",e,this.parseLogicalAnd());return e}parseLogicalAnd(){let e=this.parseEquality();for(;this.optional("&&");)e=new Ae("&&",e,this.parseEquality());return e}parseEquality(){let e=this.parseRelational();for(;;)if(this.optional("=="))e=new Ae("==",e,this.parseRelational());else if(this.optional("!="))e=new Ae("!=",e,this.parseRelational());else if(this.optional("==="))e=new Ae("===",e,this.parseRelational());else{if(!this.optional("!=="))return e;e=new Ae("!==",e,this.parseRelational())}}parseRelational(){let e=this.parseAdditive();for(;;)if(this.optional("<"))e=new Ae("<",e,this.parseAdditive());else if(this.optional(">"))e=new Ae(">",e,this.parseAdditive());else if(this.optional("<="))e=new Ae("<=",e,this.parseAdditive());else{if(!this.optional(">="))return e;e=new Ae(">=",e,this.parseAdditive())}}parseAdditive(){let e=this.parseMultiplicative();for(;;)if(this.optional("+"))e=new Ae("+",e,this.parseMultiplicative());else{if(!this.optional("-"))return e;e=new Ae("-",e,this.parseMultiplicative())}}parseMultiplicative(){let e=this.parsePrefix();for(;;)if(this.optional("*"))e=new Ae("*",e,this.parsePrefix());else if(this.optional("%"))e=new Ae("%",e,this.parsePrefix());else{if(!this.optional("/"))return e;e=new Ae("/",e,this.parsePrefix())}}parsePrefix(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Ae("-",new Pe(0),this.parsePrefix()):this.optional("!")?new Ee("!",this.parsePrefix()):this.parseAccessOrCallMember()}parseAccessOrCallMember(){let e=this.parsePrimary();for(;;)if(this.optional(".")){let t=this.peek.text;if(this.advance(),this.optional("(")){let i=this.parseExpressionList(")");this.expect(")"),e=e instanceof ye?new ke(t,i,e.ancestor):new Se(e,t,i)}else e=e instanceof ye?new Ce(t,e.ancestor):new _e(e,t)}else if(this.optional("[")){let t=this.parseExpression();this.expect("]"),e=new xe(e,t)}else{if(!this.optional("("))return e;{let t=this.parseExpressionList(")");this.expect(")"),e=new Oe(e,t)}}}parsePrimary(){if(this.optional("(")){let e=this.parseExpression();return this.expect(")"),e}if(this.optional("null"))return new Pe(null);if(this.optional("undefined"))return new Pe(void 0);if(this.optional("true"))return new Pe(!0);if(this.optional("false"))return new Pe(!1);if(this.optional("[")){let e=this.parseExpressionList("]");return this.expect("]"),new Ie(e)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){let e=this.peek.value;return this.advance(),e instanceof String||"string"==typeof e?new Ve(e):new Pe(e)}if(this.index>=this.tokens.length)throw new Error(`Unexpected end of expression: ${this.input}`);this.error(`Unexpected token ${this.peek.text}`)}parseAccessOrCallScope(){let e=this.peek.key;if(this.advance(),"$this"===e)return new ye(0);let t=0;for(;"$parent"===e;)if(t++,this.optional("."))e=this.peek.key,this.advance();else{if(this.peek===zt||"("===this.peek.text||")"===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text)return new ye(t);this.error(`Unexpected token ${this.peek.text}`)}if(this.optional("(")){let i=this.parseExpressionList(")");return this.expect(")"),new ke(e,i,t)}return new Ce(e,t)}parseObject(){let e=[],t=[];if(this.expect("{"),"}"!==this.peek.text)do{let i=this.peek,r=i.value;e.push("string"==typeof r?r:i.text),this.advance(),!i.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),t.push(this.parseExpression())):(--this.index,t.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new Me(e,t)}parseExpressionList(e){let t=[];if(this.peek.text!==e)do{t.push(this.parseExpression())}while(this.optional(","));return t}optional(e){return this.peek.text===e&&(this.advance(),!0)}expect(e){this.peek.text===e?this.advance():this.error(`Missing expected ${e}`)}advance(){this.index++}error(e){let t=this.index<this.tokens.length?`at column ${this.tokens[this.index].index+1} in`:"at the end of the expression";throw new Error(`Parser Error: ${e} ${t} [${this.input}]`)}},Dt=Map.prototype;let Ht=class e extends ne{constructor(e,t){super(e,t)}static for(t,i){return"__map_observer__"in i||Reflect.defineProperty(i,"__map_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__map_observer__}static create(t,i){let r=new e(t,i),n=Dt;return n.set===i.set&&n.delete===i.delete&&n.clear===i.clear||(n={set:i.set,delete:i.delete,clear:i.clear}),i.set=function(){let e=i.has(arguments[0]),t=e?"update":"add",s=i.get(arguments[0]),o=n.set.apply(i,arguments);return e&&s===i.get(arguments[0])||r.addChangeRecord({type:t,object:i,key:arguments[0],oldValue:s}),o},i.delete=function(){let e=i.has(arguments[0]),t=i.get(arguments[0]),s=n.delete.apply(i,arguments);return e&&r.addChangeRecord({type:"delete",object:i,key:arguments[0],oldValue:t}),s},i.clear=function(){let e=n.clear.apply(i,arguments);return r.addChangeRecord({type:"clear",object:i}),e},r}};function Ut(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}function Wt(){this.standardStopPropagation(),this.propagationStopped=!0}function Qt(e){e.standardStopPropagation=e.stopPropagation,e.stopPropagation=Wt}function Kt(e){let t=!1;e.propagationStopped=!1;let i=Ut(e),r=[];for(;i;){if(i.capturedCallbacks){let n=i.capturedCallbacks[e.type];n&&(t||(Qt(e),t=!0),r.push(n))}i=i.parentNode}for(let t=r.length-1;t>=0;t--){if((0,r[t])(e),e.propagationStopped)break}}function Gt(e){let t=!1;e.propagationStopped=!1;let i=Ut(e);for(;i&&!e.propagationStopped;){if(i.delegatedCallbacks){let r=i.delegatedCallbacks[e.type];r&&(t||(Qt(e),t=!0),r(e))}i=i.parentNode}}const Jt={none:0,capturing:1,bubbling:2};let Yt=class{constructor(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new class{constructor(){this.delegatedHandlers={},this.capturedHandlers={}}subscribe(e,t,i,r){let n,s,o;if(r===Jt.bubbling){n=this.delegatedHandlers,o=n[t]||(n[t]=new class{constructor(e){this.eventName=e,this.count=0}increment(){this.count++,1===this.count&&v.b.addEventListener(this.eventName,Gt,!1)}decrement(){this.count--,0===this.count&&v.b.removeEventListener(this.eventName,Gt)}}(t));let r=e.delegatedCallbacks||(e.delegatedCallbacks={});return o.increment(),r[t]=i,function(){o.decrement(),r[t]=null}}if(r===Jt.capturing){s=this.capturedHandlers,o=s[t]||(s[t]=new class{constructor(e){this.eventName=e,this.count=0}increment(){this.count++,1===this.count&&v.b.addEventListener(this.eventName,Kt,!0)}decrement(){this.count--,0===this.count&&v.b.removeEventListener(this.eventName,Kt,!0)}}(t));let r=e.capturedCallbacks||(e.capturedCallbacks={});return o.increment(),r[t]=i,function(){o.decrement(),r[t]=null}}return e.addEventListener(t,i,!1),function(){e.removeEventListener(t,i)}}}}registerElementConfig(e){let t,i=e.tagName.toLowerCase(),r=e.properties;for(t in this.elementHandlerLookup[i]={},r)r.hasOwnProperty(t)&&this.registerElementPropertyConfig(i,t,r[t])}registerElementPropertyConfig(e,t,i){this.elementHandlerLookup[e][t]=this.createElementHandler(i)}createElementHandler(e){return{subscribe:(t,i)=>(e.forEach(e=>{t.addEventListener(e,i,!1)}),function(){e.forEach(e=>{t.removeEventListener(e,i)})})}}registerElementHandler(e,t){this.elementHandlerLookup[e.toLowerCase()]=t}registerEventStrategy(e,t){this.eventStrategyLookup[e]=t}getElementHandler(e,t){let i,r=this.elementHandlerLookup;if(e.tagName){if(r[i=e.tagName.toLowerCase()]&&r[i][t])return r[i][t];if("textContent"===t||"innerHTML"===t)return r["content editable"].value;if("scrollTop"===t||"scrollLeft"===t)return r["scrollable element"][t]}return null}addEventListener(e,t,i,r){return(this.eventStrategyLookup[t]||this.defaultEventStrategy).subscribe(e,t,i,r)}},Xt=G()(o=class{constructor(e,t,i){this.dirtyChecker=e,this.obj=t,this.propertyName=i}getValue(){return this.obj[this.propertyName]}setValue(e){this.obj[this.propertyName]=e}call(){let e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t}isDirty(){return this.oldValue!==this.obj[this.propertyName]}subscribe(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)}})||o;const Zt=m.getLogger("property-observation"),ei={getValue:(e,t)=>e[t],setValue:(e,t,i)=>{t[i]=e}};let ti=G()(a=class{constructor(e,t,i){this.taskQueue=e,this.obj=t,this.propertyName=i,this.queued=!1,this.observing=!1}getValue(){return this.obj[this.propertyName]}setValue(e){this.obj[this.propertyName]=e}getterValue(){return this.currentValue}setterValue(e){let t=this.currentValue;t!==e&&(this.queued||(this.oldValue=t,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=e)}call(){let e=this.oldValue,t=this.currentValue;this.queued=!1,this.callSubscribers(t,e)}subscribe(e,t){this.observing||this.convertProperty(),this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)}convertProperty(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Zt.warn(`Cannot observe property '${this.propertyName}' of object`,this.obj)}})||a;const ii={getValue:(e,t)=>e.getAttribute(t),setValue:(e,t,i)=>t.setAttribute(i,e)};let ri=class{constructor(e,t){this.element=e,this.propertyName=t}getValue(){return this.element.getAttribute(this.propertyName)}setValue(e){return this.element.setAttribute(this.propertyName,e)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element's "${this.propertyName}" property is not supported.`)}},ni=G()(l=class{constructor(e,t,i){this.element=e,this.propertyName=t,this.handler=i,"files"===t&&(this.setValue=(()=>{}))}getValue(){return this.element[this.propertyName]}setValue(e){e=void 0===e||null===e?"":e,this.element[this.propertyName]!==e&&(this.element[this.propertyName]=e,this.notify())}notify(){let e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t}subscribe(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}})||l;let si=G()(u=class{constructor(e,t,i){this.element=e,this.handler=t,this.observerLocator=i}getValue(){return this.value}setValue(e){this.initialSync&&this.value===e||(this.arrayObserver&&(this.arrayObserver.unsubscribe("CheckedObserver:array",this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe("CheckedObserver:array",this)),this.oldValue=this.value,this.value=e,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(e,t){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe("CheckedObserver:value",this))}synchronizeElement(){let e=this.value,t=this.element,i=t.hasOwnProperty("model")?t.model:t.value,r="radio"===t.type,n=t.matcher||((e,t)=>e===t);t.checked=r&&!!n(e,i)||!r&&!0===e||!r&&Array.isArray(e)&&-1!==e.findIndex(e=>!!n(e,i))}synchronizeValue(){let e,t=this.value,i=this.element,r=i.hasOwnProperty("model")?i.model:i.value,n=i.matcher||((e,t)=>e===t);if("checkbox"===i.type){if(Array.isArray(t))return e=t.findIndex(e=>!!n(e,r)),void(i.checked&&-1===e?t.push(r):i.checked||-1===e||t.splice(e,1));t=i.checked}else{if(!i.checked)return;t=r}this.oldValue=this.value,this.value=t,this.notify()}notify(){let e=this.oldValue,t=this.value;t!==e&&this.callSubscribers(t,e)}subscribe(e,t){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}unbind(){this.arrayObserver&&(this.arrayObserver.unsubscribe("CheckedObserver:array",this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe("CheckedObserver:value",this)}})||u;let oi=G()(c=class{constructor(e,t,i){this.element=e,this.handler=t,this.observerLocator=i}getValue(){return this.value}setValue(e){if(null!==e&&void 0!==e&&this.element.multiple&&!Array.isArray(e))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==e&&(this.arrayObserver&&(this.arrayObserver.unsubscribe("SelectValueObserver:array",this),this.arrayObserver=null),Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe("SelectValueObserver:array",this)),this.oldValue=this.value,this.value=e,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(e,t){this.synchronizeOptions()}synchronizeOptions(){let e,t=this.value;Array.isArray(t)&&(e=!0);let i=this.element.options,r=i.length,n=this.element.matcher||((e,t)=>e===t);for(;r--;){let s=i.item(r),o=s.hasOwnProperty("model")?s.model:s.value;e?s.selected=-1!==t.findIndex(e=>!!n(o,e)):s.selected=!!n(o,t)}}synchronizeValue(){let e=this.element.options,t=0,i=[];for(let r=0,n=e.length;r<n;r++){let n=e.item(r);n.selected&&(i.push(n.hasOwnProperty("model")?n.model:n.value),t++)}if(this.element.multiple){if(Array.isArray(this.value)){let e=this.element.matcher||((e,t)=>e===t),t=0;for(;t<this.value.length;){let r=this.value[t];-1===i.findIndex(t=>e(r,t))?this.value.splice(t,1):t++}for(t=0;t<i.length;){let r=i[t];-1===this.value.findIndex(t=>e(r,t))&&this.value.push(r),t++}return}}else i=0===t?null:i[0];i!==this.value&&(this.oldValue=this.value,this.value=i,this.notify())}notify(){let e=this.oldValue,t=this.value;this.callSubscribers(t,e)}subscribe(e,t){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(e,t)}unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}bind(){this.domObserver=v.b.createMutationObserver(()=>{this.synchronizeOptions(),this.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})}unbind(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe("SelectValueObserver:array",this),this.arrayObserver=null)}})||c;let ai=class extends fe{constructor(e,t){super(),this.name=e,this.dependencies=t,this.isAssignable=!0}evaluate(e,t){return e.bindingContext[this.name]}assign(e,t){e.bindingContext[this.name]=t}accept(e){throw new Error("not implemented")}connect(e,t){let i=this.dependencies,r=i.length;for(;r--;)i[r].connect(e,t)}};const li=class{isStandardSvgAttribute(){return!1}};let ui=(d=h=class{constructor(e,t,i,r,n){this.taskQueue=e,this.eventManager=t,this.dirtyChecker=i,this.svgAnalyzer=r,this.parser=n,this.adapters=[],this.logger=m.getLogger("observer-locator")}getObserver(e,t){let i,r=e.__observers__;return r&&t in r?r[t]:((i=this.createPropertyObserver(e,t)).doNotCache||(void 0===r&&(r=this.getOrCreateObserversLookup(e)),r[t]=i),i)}getOrCreateObserversLookup(e){return e.__observers__||this.createObserversLookup(e)}createObserversLookup(e){let t={};return Reflect.defineProperty(e,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:t})||this.logger.warn("Cannot add observers to object",e),t}addAdapter(e){this.adapters.push(e)}getAdapterObserver(e,t,i){for(let r=0,n=this.adapters.length;r<n;r++){let n=this.adapters[r].getObserver(e,t,i);if(n)return n}return null}createPropertyObserver(e,t){let i,r,n;if(!(e instanceof Object))return new class{constructor(e,t){this.doNotCache=!0,this.primitive=e,this.propertyName=t}getValue(){return this.primitive[this.propertyName]}setValue(){let e=typeof this.primitive;throw new Error(`The ${this.propertyName} property of a ${e} (${this.primitive}) cannot be assigned.`)}subscribe(){}unsubscribe(){}}(e,t);if(e instanceof v.b.Element){if("class"===t)return new class{constructor(e){this.element=e,this.doNotCache=!0,this.value="",this.version=0}getValue(){return this.value}setValue(e){let t,i,r=this.nameIndex||{},n=this.version;if(null!==e&&void 0!==e&&e.length)for(let s=0,o=(t=e.split(/\s+/)).length;s<o;s++)""!==(i=t[s])&&(r[i]=n,this.element.classList.add(i));if(this.value=e,this.nameIndex=r,this.version+=1,0!==n)for(i in n-=1,r)r.hasOwnProperty(i)&&r[i]===n&&this.element.classList.remove(i)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element's "class" property is not supported.`)}}(e);if("style"===t||"css"===t)return new class{constructor(e,t){this.element=e,this.propertyName=t,this.styles=null,this.version=0}getValue(){return this.element.style.cssText}_setProperty(e,t){let i="";null!==t&&void 0!==t&&"function"==typeof t.indexOf&&-1!==t.indexOf("!important")&&(i="important",t=t.replace("!important","")),this.element.style.setProperty(e,t,i)}setValue(e){let t,i=this.styles||{},r=this.version;if(null!==e&&void 0!==e)if(e instanceof Object){let n;for(t in e)e.hasOwnProperty(t)&&(n=e[t],i[t=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())]=r,this._setProperty(t,n))}else if(e.length){let n,s=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;for(;null!==(n=s.exec(e));)(t=n[1])&&(i[t]=r,this._setProperty(t,n[2]))}if(this.styles=i,this.version+=1,0!==r)for(t in r-=1,i)i.hasOwnProperty(t)&&i[t]===r&&this.element.style.removeProperty(t)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element's "${this.propertyName}" property is not supported.`)}}(e,t);if(r=this.eventManager.getElementHandler(e,t),"value"===t&&"select"===e.tagName.toLowerCase())return new oi(e,r,this);if("checked"===t&&"input"===e.tagName.toLowerCase())return new si(e,r,this);if(r)return new ni(e,t,r);if(n=/^xlink:(.+)$/.exec(t))return new class{constructor(e,t,i){this.element=e,this.propertyName=t,this.attributeName=i}getValue(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)}setValue(e){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,e)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element's "${this.propertyName}" property is not supported.`)}}(e,t,n[1]);if("role"===t&&(e instanceof v.b.Element||e instanceof v.b.SVGElement)||/^\w+:|^data-|^aria-/.test(t)||e instanceof v.b.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t))return new ri(e,t)}if(function(e){return!!(e&&e.get&&e.get.dependencies)}(i=Object.getPropertyDescriptor(e,t)))return function(e,t,i,r){let n=i.get.dependencies;if(!(n instanceof ai)){let e=n.length;for(;e--;)n[e]=r.parser.parse(n[e]);n=i.get.dependencies=new ai(t,n)}let s={bindingContext:e,overrideContext:_(e)};return new J(s,n,r)}(e,t,i,this);if(i){const r=i.get||i.set;if(r){if(r.getObserver)return r.getObserver(e);let n=this.getAdapterObserver(e,t,i);return n||new Xt(this.dirtyChecker,e,t)}}return e instanceof Array?"length"===t?this.getArrayObserver(e).getLengthObserver():new Xt(this.dirtyChecker,e,t):e instanceof Map?"size"===t?this.getMapObserver(e).getLengthObserver():new Xt(this.dirtyChecker,e,t):e instanceof Set?"size"===t?this.getSetObserver(e).getLengthObserver():new Xt(this.dirtyChecker,e,t):new ti(this.taskQueue,e,t)}getAccessor(e,t){if(e instanceof v.b.Element){if("class"===t||"style"===t||"css"===t||"value"===t&&("input"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase())||"checked"===t&&"input"===e.tagName.toLowerCase()||"model"===t&&"input"===e.tagName.toLowerCase()||/^xlink:.+$/.exec(t))return this.getObserver(e,t);if(/^\w+:|^data-|^aria-/.test(t)||e instanceof v.b.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t))return ii}return ei}getArrayObserver(e){return function(e,t){return pe.for(e,t)}(this.taskQueue,e)}getMapObserver(e){return function(e,t){return Ht.for(e,t)}(this.taskQueue,e)}getSetObserver(e){return function(e,t){return ki.for(e,t)}(this.taskQueue,e)}},h.inject=[b.a,Yt,class{constructor(){this.tracked=[],this.checkDelay=120}addProperty(e){let t=this.tracked;t.push(e),1===t.length&&this.scheduleDirtyCheck()}removeProperty(e){let t=this.tracked;t.splice(t.indexOf(e),1)}scheduleDirtyCheck(){setTimeout(()=>this.check(),this.checkDelay)}check(){let e=this.tracked,t=e.length;for(;t--;){let i=e[t];i.isDirty()&&i.call()}e.length&&this.scheduleDirtyCheck()}},li,$t],d),ci=class{constructor(e,t,i,r,n,s){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=i,this.mode=r,this.lookupFunctions=n,this.attribute=s,this.discrete=!1}createBinding(e){return new hi(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.mode,this.lookupFunctions)}};let hi=I()(p=class{constructor(e,t,i,r,n,s){this.observerLocator=e,this.sourceExpression=t,this.target=i,this.targetProperty=r,this.mode=n,this.lookupFunctions=s}updateTarget(e){this.targetObserver.setValue(e,this.target,this.targetProperty)}updateSource(e){this.sourceExpression.assign(this.source,e,this.lookupFunctions)}call(e,t,i){if(this.isBound){if(e===k)return i=this.targetObserver.getValue(this.target,this.targetProperty),(t=this.sourceExpression.evaluate(this.source,this.lookupFunctions))!==i&&this.updateTarget(t),void(this.mode!==Te.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if("Binding:target"!==e)throw new Error(`Unexpected call context ${e}`);t!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(t)}}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions);let t=this.mode;if(!this.targetObserver){let e=t===Te.twoWay?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[e](this.target,this.targetProperty)}"bind"in this.targetObserver&&this.targetObserver.bind();let i=this.sourceExpression.evaluate(e,this.lookupFunctions);this.updateTarget(i),t===Te.oneWay?z(this):t===Te.twoWay&&(this.sourceExpression.connect(this,e),this.targetObserver.subscribe("Binding:target",this))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe("Binding:target",this),this.unobserve(!0))}connect(e){if(this.isBound){if(e){let e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(e)}this.sourceExpression.connect(this,this.source)}}})||p,di=class{constructor(e,t,i,r){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=i,this.lookupFunctions=r}createBinding(e){return new pi(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.lookupFunctions)}},pi=class{constructor(e,t,i,r,n){this.sourceExpression=t,this.target=i,this.targetProperty=e.getObserver(i,r),this.lookupFunctions=n}callSource(e){let t=this.source.overrideContext;Object.assign(t,e),t.$event=e;let i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);delete t.$event;for(let i in e)delete t[i];return i}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.targetProperty.setValue(e=>this.callSource(e))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))}},fi=class e{constructor(e){this.name=e}static convention(t){if(t.endsWith("ValueConverter"))return new e(C(t.substring(0,t.length-14)))}initialize(e,t){this.instance=e.get(t)}register(e,t){e.registerValueConverter(t||this.name,this.instance)}load(e,t){}};function gi(e){if(void 0===e||"string"==typeof e)return function(t){w.b.define(w.b.resource,new fi(e),t)};w.b.define(w.b.resource,new fi,e)}let mi=class e{constructor(e){this.name=e}static convention(t){if(t.endsWith("BindingBehavior"))return new e(C(t.substring(0,t.length-15)))}initialize(e,t){this.instance=e.get(t)}register(e,t){e.registerBindingBehavior(t||this.name,this.instance)}load(e,t){}};let vi=class{constructor(e,t,i,r,n,s){this.eventManager=e,this.targetEvent=t,this.sourceExpression=i,this.delegationStrategy=r,this.discrete=!0,this.preventDefault=n,this.lookupFunctions=s}createBinding(e){return new bi(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,e,this.preventDefault,this.lookupFunctions)}},bi=class{constructor(e,t,i,r,n,s,o){this.eventManager=e,this.targetEvent=t,this.delegationStrategy=i,this.sourceExpression=r,this.target=n,this.preventDefault=s,this.lookupFunctions=o}callSource(e){let t=this.source.overrideContext;t.$event=e;let i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete t.$event,!0!==i&&this.preventDefault&&e.preventDefault(),i}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,e=>this.callSource(e),this.delegationStrategy)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)}};function wi(e){let t=e.au;if(void 0===t)throw new Error(`No Aurelia APIs are defined for the element: "${e.tagName}".`);return t}let yi=class e{constructor(e,t,i){this.sourceExpression=e,this.apiName=t,this.lookupFunctions=i,this.discrete=!0}createBinding(t){return new Ci(this.sourceExpression,e.locateAPI(t,this.apiName),this.lookupFunctions)}static locateAPI(e,t){switch(t){case"element":return e;case"controller":return wi(e).controller;case"view-model":return wi(e).controller.viewModel;case"view":return wi(e).controller.view;default:let i=wi(e)[t];if(void 0===i)throw new Error(`Attempted to reference "${t}", but it was not found amongst the target's API.`);return i.viewModel}}},Ci=class{constructor(e,t,i){this.sourceExpression=e,this.target=t,this.lookupFunctions=i}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)}};const _i={bindingBehaviors:e=>null,valueConverters:e=>null};g=f=class{constructor(e,t){this.observerLocator=e,this.parser=t}createBindingExpression(e,t,i=Te.oneWay,r=_i){return new ci(this.observerLocator,e,this.parser.parse(t),i,r)}propertyObserver(e,t){return{subscribe:i=>{let r=this.observerLocator.getObserver(e,t);return r.subscribe(i),{dispose:()=>r.unsubscribe(i)}}}}collectionObserver(e){return{subscribe:t=>{let i;if(e instanceof Array)i=this.observerLocator.getArrayObserver(e);else if(e instanceof Map)i=this.observerLocator.getMapObserver(e);else{if(!(e instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");i=this.observerLocator.getSetObserver(e)}return i.subscribe(t),{dispose:()=>i.unsubscribe(t)}}}}expressionObserver(e,t){let i={bindingContext:e,overrideContext:_(e)};return new J(i,this.parser.parse(t),this.observerLocator,_i)}parseExpression(e){return this.parser.parse(e)}registerAdapter(e){this.observerLocator.addAdapter(e)}},f.inject=[ui,$t];let xi=Set.prototype;let ki=class e extends ne{constructor(e,t){super(e,t)}static for(t,i){return"__set_observer__"in i||Reflect.defineProperty(i,"__set_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__set_observer__}static create(t,i){let r=new e(t,i),n=xi;return n.add===i.add&&n.delete===i.delete&&n.clear===i.clear||(n={add:i.add,delete:i.delete,clear:i.clear}),i.add=function(){let e=i.size,t=n.add.apply(i,arguments);return i.size===e||r.addChangeRecord({type:"add",object:i,value:Array.from(i).pop()}),t},i.delete=function(){let e=i.has(arguments[0]),t=n.delete.apply(i,arguments);return e&&r.addChangeRecord({type:"delete",object:i,value:arguments[0]}),t},i.clear=function(){let e=n.clear.apply(i,arguments);return r.addChangeRecord({type:"clear",object:i}),e},r}}},30:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var n=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[i].concat(s).concat([n]).join("\n")}var o;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(r[s]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},31:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var r,n,s,o,a,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){s.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(n=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return u[l]=n,r(l),l++},d.clearImmediate=p}function p(e){delete u[e]}function f(e){if(c)setTimeout(f,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(24),i(23))},32:function(e,t,i){var r=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(31),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},33:function(e,t,i){},34:function(e,t,i){i(33),i(29),e.exports=i(26)},4:function(e,t,i){"use strict";i.d(t,"d",function(){return d}),i.d(t,"b",function(){return p}),i.d(t,"a",function(){return C}),i.d(t,"c",function(){return _});var r,n,s,o,a,l,u,c=i(1),h=i(0);const d=c.d.create("aurelia:resolver",function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"});d()(r=class e{constructor(e){this._key=e}get(e){return()=>e.get(this._key)}static of(t){return new e(t)}}),d()(n=class e{constructor(e){this._key=e}get(e){return e.getAll(this._key)}static of(t){return new e(t)}});let p=d()(s=class e{constructor(e,t=!0){this._key=e,this._checkParent=t}get(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null}static of(t,i=!0){return new e(t,i)}})||s,f=(d()(o=class e{constructor(e){this._key=e}get(e){return e.parent?e.parent.get(this._key):null}static of(t){return new e(t)}}),d()(a=class{constructor(e,t){this.strategy=e,this.state=t}get(e,t){switch(this.strategy){case 0:return this.state;case 1:let i=e.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return e.invoke(this.state);case 3:return this.state(e,t,this);case 4:return this.state[0].get(e,t);case 5:return e.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}}})||a);d()(l=class e{constructor(e){this._key=e}get(e){return(...t)=>e.invoke(this._key,t)}static of(t){return new e(t)}}),d()(u=class e{constructor(e,...t){this.key=e,this.asKey=e,this.dynamicDependencies=t}get(e){let t=this.dynamicDependencies.length>0?this.dynamicDependencies.map(t=>t["protocol:aurelia:resolver"]?t.get(e):e.get(t)):void 0;const i=e.invoke(this.key,t);return e.registerInstance(this.asKey,i),i}as(e){return this.asKey=e,this}static of(t,...i){return new e(t,...i)}});let g=class{invoke(e,t,i){let r=i.length,n=new Array(r);for(;r--;)n[r]=e.get(i[r]);return t.apply(void 0,n)}invokeWithDynamicDependencies(e,t,i,r){let n=i.length,s=new Array(n);for(;n--;)s[n]=e.get(i[n]);return void 0!==r&&(s=s.concat(r)),t.apply(void 0,s)}};g.instance=new g;function m(e){if(null===e||void 0===e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}const v=Object.freeze([]);c.b.registration="aurelia:registration",c.b.invoker="aurelia:invoker";let b=d.decorates;function w(e,t,i,r){let n=i.length,s=new Array(n);for(;n--;)s[n]=e.get(i[n]);return void 0!==r&&(s=s.concat(r)),Reflect.construct(t,s)}let y={0:{invoke:(e,t)=>new t,invokeWithDynamicDependencies:w},1:{invoke:(e,t,i)=>new t(e.get(i[0])),invokeWithDynamicDependencies:w},2:{invoke:(e,t,i)=>new t(e.get(i[0]),e.get(i[1])),invokeWithDynamicDependencies:w},3:{invoke:(e,t,i)=>new t(e.get(i[0]),e.get(i[1]),e.get(i[2])),invokeWithDynamicDependencies:w},4:{invoke:(e,t,i)=>new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3])),invokeWithDynamicDependencies:w},5:{invoke:(e,t,i)=>new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]),e.get(i[4])),invokeWithDynamicDependencies:w},fallback:{invoke:w,invokeWithDynamicDependencies:w}};let C=class e{constructor(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}makeGlobal(){return e.instance=this,this}setHandlerCreatedCallback(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e}registerInstance(e,t){return this.registerResolver(e,new f(0,void 0===t?e:t))}registerSingleton(e,t){return this.registerResolver(e,new f(1,void 0===t?e:t))}registerTransient(e,t){return this.registerResolver(e,new f(2,void 0===t?e:t))}registerHandler(e,t){return this.registerResolver(e,new f(3,t))}registerAlias(e,t){return this.registerResolver(t,new f(5,e))}registerResolver(e,t){m(e);let i=this._resolvers,r=i.get(e);return void 0===r?i.set(e,t):4===r.strategy?r.state.push(t):i.set(e,new f(4,[r,t])),t}autoRegister(e,t){if("function"==typeof(t=void 0===t?e:t)){let i=c.b.get(c.b.registration,t);return void 0===i?this.registerResolver(e,new f(1,t)):i.registerResolver(this,e,t)}return this.registerResolver(e,new f(0,t))}autoRegisterAll(e){let t=e.length;for(;t--;)this.autoRegister(e[t])}unregister(e){this._resolvers.delete(e)}hasResolver(e,t=!1){return m(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)}getResolver(e){return this._resolvers.get(e)}get(t){if(m(t),t===e)return this;if(b(t))return t.get(this,t);let i=this._resolvers.get(t);if(void 0===i){if(null===this.parent)return this.autoRegister(t).get(this,t);let e=c.b.get(c.b.registration,t);return void 0===e?this.parent._get(t):e.registerResolver(this,t,t).get(this,t)}return i.get(this,t)}_get(e){let t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)}getAll(e){m(e);let t=this._resolvers.get(e);if(void 0===t)return null===this.parent?v:this.parent.getAll(e);if(4===t.strategy){let i=t.state,r=i.length,n=new Array(r);for(;r--;)n[r]=i[r].get(this,e);return n}return[t.get(this,e)]}createChild(){let t=new e(this._configuration);return t.root=this.root,t.parent=this,t}invoke(e,t){try{let i=this._handlers.get(e);return void 0===i&&(i=this._createInvocationHandler(e),this._handlers.set(e,i)),i.invoke(this,t)}catch(t){throw new h.a(`Error invoking ${e.name}. Check the inner error for details.`,t,!0)}}_createInvocationHandler(e){let t;if(void 0===e.inject)t=c.b.getOwn(c.b.paramTypes,e)||v;else{t=[];let r=e;for(;"function"==typeof r;)t.push(...(i=r,i.hasOwnProperty("inject")?"function"==typeof i.inject?i.inject():i.inject:[])),r=Object.getPrototypeOf(r)}var i;let r=new class{constructor(e,t,i){this.fn=e,this.invoker=t,this.dependencies=i}invoke(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)}}(e,c.b.getOwn(c.b.invoker,e)||y[t.length]||y.fallback,t);return void 0!==this._onHandlerCreated?this._onHandlerCreated(r):r}};function _(...e){return function(t,i,r){if("number"==typeof r&&1===e.length){let i=t.inject;if("function"==typeof i)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return i||(i=c.b.getOwn(c.b.paramTypes,t).slice(),t.inject=i),void(i[r]=e[0])}if(r){r.value.inject=e}else t.inject=e}}},5:function(e,t,i){"use strict";i.d(t,"h",function(){return s}),i.d(t,"a",function(){return o}),i.d(t,"g",function(){return a}),i.d(t,"b",function(){return l}),i.d(t,"e",function(){return u}),i.d(t,"d",function(){return c}),i.d(t,"f",function(){return h}),i.d(t,"c",function(){return d});var r=i(3);const n=r.n.oneTime;function s(e,t){let i=e.length;for(t>0&&(t-=1);t<i;++t)a(e[t].overrideContext,t,i)}function o(e,t,i,n,s){let o={},l=Object(r.q)(o,e.scope.overrideContext);return void 0!==s?(o[e.key]=s,o[e.value]=t):o[e.local]=t,a(l,i,n),l}function a(e,t,i){let r=0===t,n=t===i-1,s=t%2==0;e.$index=t,e.$first=r,e.$last=n,e.$middle=!(r||n),e.$odd=!s,e.$even=s}function l(e,t){return e.behaviorInstructions.filter(e=>e.originalAttrName===t)[0].attributes.items.sourceExpression}function u(e){let t=!1;for(;e instanceof r.a;)e=e.expression;for(;e instanceof r.l;)e=e.expression,t=!0;return t?e:null}function c(e){for(;e instanceof r.a;){if("oneTime"===e.name)return!0;e=e.expression}return!1}function h(e){e.call&&e.mode===n?e.call(r.u):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function d(e,t,i,r){if(!i)return e.indexOf(t);const n=e.length;for(let s=r||0;s<n;s++)if(i(e[s],t))return s;return-1}},6:function(e,t,i){"use strict";i.r(t),i.d(t,"logLevel",function(){return r}),i.d(t,"getLogger",function(){return l}),i.d(t,"addAppender",function(){return u}),i.d(t,"removeAppender",function(){return c}),i.d(t,"setLevel",function(){return h}),i.d(t,"getLevel",function(){return d}),i.d(t,"Logger",function(){return p});const r={none:0,error:1,warn:2,info:3,debug:4};let n={},s=[],o=r.none;function a(e){const t=r[e];return function(){if(this.level<t)return;const i=function(){return[this,...arguments]}.apply(this,arguments);let r=s.length;for(;r--;)s[r][e](...i)}}function l(e){return n[e]||new p(e)}function u(e){1===s.push(e)&&Object.assign(p.prototype,{debug:a("debug"),info:a("info"),warn:a("warn"),error:a("error")})}function c(e){s=s.filter(t=>t!==e)}function h(e){o=e;for(let t in n)n[t].setLevel(e)}function d(){return o}let p=class{constructor(e){let t=n[e];if(t)return t;n[e]=this,this.id=e,this.level=o}debug(e,...t){}info(e,...t){}warn(e,...t){}error(e,...t){}setLevel(e){this.level=e}}},7:function(e,t,i){"use strict";function r(e,t){let i=t&&t.split("/"),r=e.trim().split("/");if("."===r[0].charAt(0)&&i){let e=i.slice(0,i.length-1);r.unshift(...e)}return function(e){for(let t=0;t<e.length;++t){let i=e[t];if("."===i)e.splice(t,1),t-=1;else if(".."===i){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}}(r),r.join("/")}function n(e,t){if(!e)return t;if(!t)return e;let i,r=e.match(/^([^/]*?:)\//),n=r&&r.length>0?r[1]:"";i=0===(e=e.substr(n.length)).indexOf("///")&&"file:"===n?"///":0===e.indexOf("//")?"//":0===e.indexOf("/")?"/":"";let s="/"===t.slice(-1)?"/":"",o=e.split("/"),a=t.split("/"),l=[];for(let e=0,t=o.length;e<t;++e)if(".."===o[e])l.pop();else{if("."===o[e]||""===o[e])continue;l.push(o[e])}for(let e=0,t=a.length;e<t;++e)if(".."===a[e])l.pop();else{if("."===a[e]||""===a[e])continue;l.push(a[e])}return n+i+l.join("/")+s}i.d(t,"d",function(){return r}),i.d(t,"b",function(){return n}),i.d(t,"a",function(){return l}),i.d(t,"c",function(){return c});let s=encodeURIComponent,o=e=>s(e).replace("%24","$");function a(e,t,i){let r=[];if(null===t||void 0===t)return r;if(Array.isArray(t))for(let n=0,l=t.length;n<l;n++)if(i)r.push(`${o(e)}=${s(t[n])}`);else{let i=e+"["+("object"==typeof t[n]&&null!==t[n]?n:"")+"]";r=r.concat(a(i,t[n]))}else if("object"!=typeof t||i)r.push(`${o(e)}=${s(t)}`);else for(let i in t)r=r.concat(a(e+"["+i+"]",t[i]));return r}function l(e,t){let i=[],r=Object.keys(e||{}).sort();for(let n=0,s=r.length;n<s;n++){let s=r[n];i=i.concat(a(s,e[s],t))}return 0===i.length?"":i.join("&")}function u(e,t,i){let r=e,n=t.length-1;for(let e=0;e<=n;e++){let s=""===t[e]?r.length:t[e];if(e<n){let i=r[s]&&"object"!=typeof r[s]?[r[s]]:r[s];r=r[s]=i||(isNaN(t[e+1])?{}:[])}else r=r[s]=i}}function c(e){let t={};if(!e||"string"!=typeof e)return t;let i=e;"?"===i.charAt(0)&&(i=i.substr(1));let r=i.replace(/\+/g," ").split("&");for(let e=0;e<r.length;e++){let i=r[e].split("="),s=decodeURIComponent(i[0]);if(!s)continue;let o=s.split("]["),a=o.length-1;if(/\[/.test(o[0])&&/\]$/.test(o[a])?(o[a]=o[a].replace(/\]$/,""),a=(o=o.shift().split("[").concat(o)).length-1):a=0,i.length>=2){let e=i[1]?decodeURIComponent(i[1]):"";a?u(t,o,e):t[s]=(n=t[s],e=e,Array.isArray(n)?(n.push(e),n):void 0!==n?[n,e]:e)}else t[s]=!0}var n,s;return t}},8:function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return a});var r=i(7),n=i(1);let s=class{constructor(e,t){this.src=e,this.name=t}},o=class{constructor(e){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=e,this.onReady=null,this._template=null,this._factory=null}get template(){return this._template}set template(e){let t,i,n,o,a=this.address;this._template=e,this.templateIsLoaded=!0,t=e.content.querySelectorAll("require"),o=this.dependencies=new Array(t.length);for(let e=0,l=t.length;e<l;++e){if(!(n=(i=t[e]).getAttribute("from")))throw new Error(`<require> element in ${a} has no "from" attribute.`);o[e]=new s(Object(r.d)(n,a),i.getAttribute("as")),i.parentNode&&i.parentNode.removeChild(i)}}get factory(){return this._factory}set factory(e){this._factory=e,this.factoryIsReady=!0}addDependency(e,t){let i="string"==typeof e?Object(r.d)(e,this.address):n.a.get(e).moduleId;this.dependencies.push(new s(i,t))}},a=class{constructor(){this.templateRegistry={}}map(e,t){throw new Error("Loaders must implement map(id, source).")}normalizeSync(e,t){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")}normalize(e,t){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")}loadModule(e){throw new Error("Loaders must implement loadModule(id).")}loadAllModules(e){throw new Error("Loader must implement loadAllModules(ids).")}loadTemplate(e){throw new Error("Loader must implement loadTemplate(url).")}loadText(e){throw new Error("Loader must implement loadText(url).")}applyPluginToUrl(e,t){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")}addPlugin(e,t){throw new Error("Loader must implement addPlugin(pluginName, implementation).")}getOrCreateTemplateRegistryEntry(e){return this.templateRegistry[e]||(this.templateRegistry[e]=new o(e))}}},9:function(e,t,i){"use strict";var r=i(6),n=i(7);const s=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");let o=class{constructor(e,t){this.string=e,this.caseSensitive=t}eachChar(e){let t=this.string;for(let i=0,r=t.length;i<r;++i){let r=t[i];e({validChars:this.caseSensitive?r:r.toUpperCase()+r.toLowerCase()})}}regex(){return this.string.replace(s,"\\$1")}generate(){return this.string}},a=class{constructor(e,t){this.name=e,this.optional=t}eachChar(e){e({invalidChars:"/",repeat:!0})}regex(){return this.optional?"([^/]+)?":"([^/]+)"}generate(e,t){return t[this.name]=!0,e[this.name]}},l=class{constructor(e){this.name=e}eachChar(e){e({invalidChars:"",repeat:!0})}regex(){return"(.+)"}generate(e,t){return t[this.name]=!0,e[this.name]}},u=class{eachChar(){}regex(){return""}generate(){return""}},c=class{constructor(){this.rootState=new class e{constructor(e){this.charSpec=e,this.nextStates=[]}get(e){for(let t of this.nextStates)if(t.charSpec.validChars===e.validChars&&t.charSpec.invalidChars===e.invalidChars)return t}put(t){let i=this.get(t);return i||(i=new e(t),this.nextStates.push(i),t.repeat&&i.nextStates.push(i),i)}match(e){let t=this.nextStates,i=[];for(let r=0,n=t.length;r<n;r++){let n=t[r],s=n.charSpec;void 0!==s.validChars?-1!==s.validChars.indexOf(e)&&i.push(n):void 0!==s.invalidChars&&-1===s.invalidChars.indexOf(e)&&i.push(n)}return i}},this.names={}}add(e){if(Array.isArray(e))return void e.forEach(e=>this.add(e));let t=this.rootState,i="^",r={statics:0,dynamics:0,stars:0},n=[],s=e.handler.name,c=!0,h=!0,d=function(e,t,i,r){let n=e;"/"===e.charAt(0)&&(n=e.substr(1));let s=[],c=n.split("/");for(let n=0,h=c.length;n<h;++n){let h=c[n],d=h.match(/^:([^?]+)(\?)?$/);if(d){let[,r,n]=d;if(-1!==r.indexOf("="))throw new Error(`Parameter ${r} in route ${e} has a default value, which is not supported.`);s.push(new a(r,!!n)),t.push(r),i.dynamics++}else(d=h.match(/^\*(.+)$/))?(s.push(new l(d[1])),t.push(d[1]),i.stars++):""===h?s.push(new u):(s.push(new o(h,r)),i.statics++)}return s}(e.path,n,r,e.caseSensitive);for(let e=0,r=d.length;e<r;e++){let r=d[e];r instanceof u||(c=!1,h=h&&r.optional,t=p(t,r),i+=r.optional?"/?":"/",i+=r.regex())}if(h)if(c)t=t.put({validChars:"/"}),i+="/";else{let e=this.rootState.put({validChars:"/"});t.epsilon=[e],t=e}let f=[{handler:e.handler,names:n}];if(s){let e=Array.isArray(s)?s:[s];for(let t=0;t<e.length;t++)this.names[e[t]]={segments:d,handlers:f}}return t.handlers=f,t.regex=new RegExp(i+"$",e.caseSensitive?"":"i"),t.types=r,t}handlersFor(e){let t=this.names[e];if(!t)throw new Error(`There is no route named ${e}`);return[...t.handlers]}hasRoute(e){return!!this.names[e]}generate(e,t){let i=this.names[e];if(!i)throw new Error(`There is no route named ${e}`);let r=i.handlers[0].handler;if(r.generationUsesHref)return r.href;let s=Object.assign({},t),o=i.segments,a={},l="";for(let t=0,i=o.length;t<i;t++){let i=o[t];if(i instanceof u)continue;let r=i.generate(s,a);if(null===r||void 0===r){if(!i.optional)throw new Error(`A value is required for route parameter '${i.name}' in route '${e}'.`)}else l+="/",l+=r}"/"!==l.charAt(0)&&(l="/"+l);for(let e in a)delete s[e];let c=Object(n.a)(s);return l+=c?`?${c}`:""}recognize(e){let t=[this.rootState],i={},r=!1,s=e,o=s.indexOf("?");if(-1!==o){let e=s.substr(o+1,s.length);s=s.substr(0,o),i=Object(n.c)(e)}"/"!==(s=decodeURI(s)).charAt(0)&&(s="/"+s);let a=s.length;a>1&&"/"===s.charAt(a-1)&&(s=s.substr(0,a-1),r=!0);for(let e=0,i=s.length;e<i&&(t=d(t,s.charAt(e))).length;e++);let l=[];for(let e=0,i=t.length;e<i;e++)t[e].handlers&&l.push(t[e]);t=function(e){return e.sort((e,t)=>{if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}(l);let u=l[0];if(u&&u.handlers)return r&&"(.+)$"===u.regex.source.slice(-5)&&(s+="/"),function(e,t,i){let r=e.handlers,n=e.regex,s=t.match(n),o=1,a=new h(i);for(let e=0,t=r.length;e<t;e++){let t=r[e],i=t.names,n={};for(let e=0,t=i.length;e<t;e++)n[i[e]]=s[o++];a.push({handler:t.handler,params:n,isDynamic:!!i.length})}return a}(u,s,i)}},h=class{constructor(e){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=e||{}}};function d(e,t){let i=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];i.push(...n.match(t))}let r=i.filter(e=>e.epsilon);for(;r.length>0;){let e=[];r.forEach(t=>{i.push(...t.epsilon),e.push(...t.epsilon)}),r=e.filter(e=>e.epsilon)}return i}function p(e,t){let i=e.put({validChars:"/"});return t.eachChar(e=>{i=i.put(e)}),t.optional&&(e.epsilon=e.epsilon||[],e.epsilon.push(i)),i}var f=i(4),g=i(13),m=i("aurelia-event-aggregator");function v(e,t,i=!1){return t||"#"===e[0]||(e="#"+e),t&&i&&(e=e.substring(1,e.length)),e}function b(e,t,i,r){if(C.test(e))return e;let n="";return t.length&&"/"!==t[0]&&(n+="/"),(n+=t).length&&"/"===n[n.length-1]||"/"===e[0]||(n+="/"),n.length&&"/"===n[n.length-1]&&"/"===e[0]&&(n=n.substring(0,n.length-1)),v(n+e,i,r)}function w(e,t,i){return y.test(e)?v(e,i):b(e,t,i)}i.d(t,"c",function(){return P}),i.d(t,"b",function(){return B}),i.d(t,"a",function(){return $});const y=/^#?\//,C=/^([a-z][a-z0-9+\-.]*:)?\/\//i,_={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"};function x(e,t){return e=>Promise.resolve({status:t,output:e,completed:t===_.completed})}let k=class{constructor(e){this.plan=null,this.options={},Object.assign(this,e),this.params=this.params||{},this.viewPortInstructions={};let t=[],i=this;do{let e=Object.assign({},i.params);i.config&&i.config.hasChildRouter&&delete e[i.getWildCardName()],t.unshift(e),i=i.parentInstruction}while(i);let r=Object.assign({},this.queryParams,...t);this.lifecycleArgs=[r,this.config,this]}getAllInstructions(){let e=[this];for(let t in this.viewPortInstructions){let i=this.viewPortInstructions[t].childNavigationInstruction;i&&e.push(...i.getAllInstructions())}return e}getAllPreviousInstructions(){return this.getAllInstructions().map(e=>e.previousInstruction).filter(e=>e)}addViewPortInstruction(e,t,i,r){return this.viewPortInstructions[e]={name:e,strategy:t,moduleId:i,component:r,childRouter:r.childRouter,lifecycleArgs:this.lifecycleArgs.slice()}}getWildCardName(){let e=this.config.route.lastIndexOf("*");return this.config.route.substr(e+1)}getWildcardPath(){let e=this.getWildCardName(),t=this.params[e]||"";return this.queryString&&(t+="?"+this.queryString),t}getBaseUrl(){let e=this.fragment;if(""===e){let t=this.router.routes.find(e=>e.name===this.config.name&&""!==e.route);t&&(e=t.route)}if(!this.params)return e;let t=this.getWildCardName(),i=this.params[t]||"";return i?(i=encodeURI(i),e.substr(0,e.lastIndexOf(i))):e}_commitChanges(e){let t=this.router;t.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,t._refreshBaseUrl(),t.refreshNavigation();let i=[],r=[];for(let n in this.viewPortInstructions){let s=this.viewPortInstructions[n],o=t.viewPorts[n];if(!o)throw new Error(`There was no router-view found in the view for ${s.moduleId}.`);s.strategy===A.replace?(e&&r.push({viewPort:o,viewPortInstruction:s}),i.push(o.process(s,e).then(e=>{if(s.childNavigationInstruction)return s.childNavigationInstruction._commitChanges()}))):s.childNavigationInstruction&&i.push(s.childNavigationInstruction._commitChanges(e))}return Promise.all(i).then(()=>(r.forEach(e=>e.viewPort.swap(e.viewPortInstruction)),null)).then(()=>(n=this,n.previousInstruction=null,void(n.plan=null)));var n}_updateTitle(){let e=this._buildTitle();e&&this.router.history.setTitle(e)}_buildTitle(e=" | "){let t="",i=[];this.config.navModel.title&&(t=this.router.transformTitle(this.config.navModel.title));for(let t in this.viewPortInstructions){let r=this.viewPortInstructions[t];if(r.childNavigationInstruction){let t=r.childNavigationInstruction._buildTitle(e);t&&i.push(t)}}return i.length&&(t=i.join(e)+(t?e:"")+t),this.router.title&&(t+=(t?e:"")+this.router.transformTitle(this.router.title)),t}};function S(e){return e&&"function"==typeof e.navigate}let O=class{constructor(e,t={}){this.url=e,this.options=Object.assign({trigger:!0,replace:!0},t),this.shouldContinueProcessing=!1}setRouter(e){this.router=e}navigate(e){(this.options.useAppRouter?e:this.router||e).navigate(this.url,this.options)}};const A={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"};function E(e,t){let i=e.previousInstruction,r=e.config,n={};if("redirect"in r){let t=w(r.redirect,function(e){let t=[];e=e.parentInstruction;for(;e;)t.unshift(e.getBaseUrl()),e=e.parentInstruction;return t.unshift("/"),t.join("")}(e));return e.queryString&&(t+="?"+e.queryString),Promise.reject(new O(t))}if(i){let s=function(e,t){let i=e.params,r=t.params,n=t.config.hasChildRouter?t.getWildCardName():null;for(let e in r)if(e!==n&&i[e]!==r[e])return!0;for(let e in i)if(e!==n&&i[e]!==r[e])return!0;if(!t.options.compareQueryParams)return!1;let s=e.queryParams,o=t.queryParams;for(let e in o)if(s[e]!==o[e])return!0;for(let e in s)if(s[e]!==o[e])return!0;return!1}(i,e),o=[];for(let a in i.viewPortInstructions){let l=i.viewPortInstructions[a],u=r.viewPorts[a];if(!u)throw new Error(`Invalid Route Config: Configuration for viewPort "${a}" was not found for route: "${e.config.route}."`);let c=n[a]={name:a,config:u,prevComponent:l.component,prevModuleId:l.moduleId};if(l.moduleId!==u.moduleId?c.strategy=A.replace:"determineActivationStrategy"in l.component.viewModel?c.strategy=l.component.viewModel.determineActivationStrategy(...e.lifecycleArgs):r.activationStrategy?c.strategy=r.activationStrategy:c.strategy=s||t?A.invokeLifecycle:A.noChange,c.strategy!==A.replace&&l.childRouter){let t=e.getWildcardPath(),i=l.childRouter._createNavigationInstruction(t,e).then(e=>(c.childNavigationInstruction=e,E(e,c.strategy===A.invokeLifecycle).then(t=>{e.plan=t})));o.push(i)}}return Promise.all(o).then(()=>n)}for(let t in r.viewPorts)n[t]={name:t,strategy:A.replace,config:e.config.viewPorts[t]};return Promise.resolve(n)}let P=class e{constructor(e,t){this.parent=null,this.options={},this.transformTitle=(e=>this.parent?this.parent.transformTitle(e):e),this.container=e,this.history=t,this.reset()}reset(){this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new c,this._childRecognizer=new c,this._configuredPromise=new Promise(e=>{this._resolveConfiguredPromise=e})}get isRoot(){return!this.parent}registerViewPort(e,t){t=t||"default",this.viewPorts[t]=e}ensureConfigured(){return this._configuredPromise}configure(e){this.isConfigured=!0;let t,i=e;return"function"==typeof e&&(i=e(t=new class{constructor(){this.instructions=[],this.options={},this.pipelineSteps=[]}addPipelineStep(e,t){return this.pipelineSteps.push({name:e,step:t}),this}addAuthorizeStep(e){return this.addPipelineStep("authorize",e)}addPreActivateStep(e){return this.addPipelineStep("preActivate",e)}addPreRenderStep(e){return this.addPipelineStep("preRender",e)}addPostRenderStep(e){return this.addPipelineStep("postRender",e)}fallbackRoute(e){return this._fallbackRoute=e,this}map(e){return Array.isArray(e)?(e.forEach(this.map.bind(this)),this):this.mapRoute(e)}mapRoute(e){return this.instructions.push(t=>{let i,r=[];if(Array.isArray(e.route))for(let t=0,i=e.route.length;t<i;++t){let i=Object.assign({},e);i.route=e.route[t],r.push(i)}else r.push(Object.assign({},e));for(let e=0,n=r.length;e<n;++e){let n=r[e];n.settings=n.settings||{},i||(i=t.createNavModel(n)),t.addRoute(n,i)}}),this}mapUnknownRoutes(e){return this.unknownRouteConfig=e,this}exportToRouter(e){let t=this.instructions;for(let i=0,r=t.length;i<r;++i)t[i](e);this.title&&(e.title=this.title),this.unknownRouteConfig&&e.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(e.fallbackRoute=this._fallbackRoute),e.options=this.options;let i=this.pipelineSteps;if(i.length){if(!e.isRoot)throw new Error("Pipeline steps can only be added to the root router");let t=e.pipelineProvider;for(let e=0,r=i.length;e<r;++e){let{name:r,step:n}=i[e];t.addStep(r,n)}}}})),Promise.resolve(i).then(e=>{e&&e.exportToRouter&&(t=e),t.exportToRouter(this),this.isConfigured=!0,this._resolveConfiguredPromise()})}navigate(e,t){return!this.isConfigured&&this.parent?this.parent.navigate(e,t):(this.isExplicitNavigation=!0,this.history.navigate(w(e,this.baseUrl,this.history._hasPushState),t))}navigateToRoute(e,t,i){let r=this.generate(e,t);return this.navigate(r,i)}navigateBack(){this.isExplicitNavigationBack=!0,this.history.navigateBack()}createChild(t){let i=new e(t||this.container.createChild(),this.history);return i.parent=this,i}generate(e,t,i={}){let r=this._recognizer.hasRoute(e);if((!this.isConfigured||!r)&&this.parent)return this.parent.generate(e,t);if(!r)throw new Error(`A route with name '${e}' could not be found. Check that \`name: '${e}'\` was specified in the route's config.`);let n=b(this._recognizer.generate(e,t),this.baseUrl,this.history._hasPushState,i.absolute);return i.absolute?`${this.history.getAbsoluteRoot()}${n}`:n}createNavModel(e){let t=new class{constructor(e,t){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=e,this.relativeHref=t}setTitle(e){this.title=e,this.isActive&&this.router.updateTitle()}}(this,"href"in e?e.href:e.route);return t.title=e.title,t.order=e.nav,t.href=e.href,t.settings=e.settings,t.config=e,t}addRoute(e,t){V(e,this.routes),"viewPorts"in e||e.navigationStrategy||(e.viewPorts={default:{moduleId:e.moduleId,view:e.view}}),t||(t=this.createNavModel(e)),this.routes.push(e);let i=e.route;"/"===i.charAt(0)&&(i=i.substr(1));let r=!0===e.caseSensitive,n=this._recognizer.add({path:i,handler:e,caseSensitive:r});if(i){let n=e.settings;delete e.settings;let s=JSON.parse(JSON.stringify(e));e.settings=n,s.route=`${i}/*childRoute`,s.hasChildRouter=!0,this._childRecognizer.add({path:s.route,handler:s,caseSensitive:r}),s.navModel=t,s.settings=e.settings,s.navigationStrategy=e.navigationStrategy}if(e.navModel=t,(t.order||0===t.order)&&-1===this.navigation.indexOf(t)){if(!t.href&&""!==t.href&&(n.types.dynamics||n.types.stars))throw new Error('Invalid route config for "'+e.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof t.order&&(t.order=++this._fallbackOrder),this.navigation.push(t),this.navigation=this.navigation.sort((e,t)=>e.order-t.order)}}hasRoute(e){return!!(this._recognizer.hasRoute(e)||this.parent&&this.parent.hasRoute(e))}hasOwnRoute(e){return this._recognizer.hasRoute(e)}handleUnknownRoutes(e){if(!e)throw new Error("Invalid unknown route handler");this.catchAllHandler=(t=>this._createRouteConfig(e,t).then(e=>(t.config=e,t)))}updateTitle(){if(this.parent)return this.parent.updateTitle();this.currentInstruction&&this.currentInstruction._updateTitle()}refreshNavigation(){let e=this.navigation;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.config.href?i.href=v(i.config.href,this.history._hasPushState):i.href=b(i.relativeHref,this.baseUrl,this.history._hasPushState)}}_refreshBaseUrl(){if(this.parent){let e=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+e}}_createNavigationInstruction(e="",t=null){let i=e,r="",n=e.indexOf("?");-1!==n&&(i=e.substr(0,n),r=e.substr(n+1));let s=this._recognizer.recognize(e);s&&s.length||(s=this._childRecognizer.recognize(e));let o={fragment:i,queryString:r,config:null,parentInstruction:t,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(s&&s.length){let e=s[0],t=new k(Object.assign({},o,{params:e.params,queryParams:e.queryParams||s.queryParams,config:e.config||e.handler}));return"function"==typeof e.handler?I(t,e.handler,e):e.handler&&"function"==typeof e.handler.navigationStrategy?I(t,e.handler.navigationStrategy,e.handler):Promise.resolve(t)}if(this.catchAllHandler){return I(new k(Object.assign({},o,{params:{path:i},queryParams:s&&s.queryParams,config:null})),this.catchAllHandler)}return Promise.reject(new Error(`Route not found: ${e}`))}_createRouteConfig(e,t){return Promise.resolve(e).then(e=>"string"==typeof e?{moduleId:e}:"function"==typeof e?e(t):e).then(e=>"string"==typeof e?{moduleId:e}:e).then(e=>(e.route=t.params.path,V(e,this.routes),e.navModel||(e.navModel=this.createNavModel(e)),e))}};function V(e,t){if("object"!=typeof e)throw new Error("Invalid Route Config");if("string"!=typeof e.route){let t=e.name||"(no name)";throw new Error('Invalid Route Config for "'+t+'": You must specify a "route:" pattern.')}if(!("redirect"in e||e.moduleId||e.navigationStrategy||e.viewPorts))throw new Error('Invalid Route Config for "'+e.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function I(e,t,i){return Promise.resolve(t.call(i,e)).then(()=>("viewPorts"in e.config||(e.config.viewPorts={default:{moduleId:e.config.moduleId}}),e))}function M(e,t,i,r){let n=function e(t,i,r=[]){for(let n in t){let s=t[n],o=s.prevComponent;if((s.strategy===A.invokeLifecycle||s.strategy===A.replace)&&o){let e=o.viewModel;i in e&&r.push(e)}s.childNavigationInstruction?e(s.childNavigationInstruction.plan,i,r):o&&N(o,i,r)}return r}(e,t),s=n.length;function o(e){return r||T(e)?a():i.cancel(e)}function a(){if(s--)try{return L(n[s][t](),o,i.cancel)}catch(e){return i.cancel(e)}return i()}return a()}function N(e,t,i){let r=e.childRouter;if(r&&r.currentInstruction){let e=r.currentInstruction.viewPortInstructions;for(let r in e){let n=e[r].component,s=n.viewModel;t in s&&i.push(s),N(n,t,i)}}}function j(e,t,i,r){let n=function e(t,i,r=[],n){let s=t.plan;Object.keys(s).filter(o=>{let a=s[o],l=t.viewPortInstructions[o],u=l.component.viewModel;(a.strategy===A.invokeLifecycle||a.strategy===A.replace)&&i in u&&r.push({viewModel:u,lifecycleArgs:l.lifecycleArgs,router:n}),a.childNavigationInstruction&&e(a.childNavigationInstruction,i,r,l.component.childRouter||n)});return r}(e,t),s=n.length,o=-1;function a(){if(++o<s)try{let e=n[o];return L(e.viewModel[t](...e.lifecycleArgs),t=>(t=t,l=e.router,r||T(t,l)?a():i.cancel(t)),i.cancel)}catch(e){return i.cancel(e)}var e,l;return i()}return a()}function T(e,t){return!(e instanceof Error)&&(S(e)?("function"==typeof e.setRouter&&e.setRouter(t),!!e.shouldContinueProcessing):void 0===e||e)}let R=class{constructor(e){this._subscribed=!0,this._subscription=e(this),this._subscribed||this.unsubscribe()}get subscribed(){return this._subscribed}unsubscribe(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1}};function L(e,t,i){if(e&&"function"==typeof e.then)return Promise.resolve(e).then(t).catch(i);if(e&&"function"==typeof e.subscribe){let r=e;return new R(n=>r.subscribe({next(){n.subscribed&&(n.unsubscribe(),t(e))},error(e){n.subscribed&&(n.unsubscribe(),i(e))},complete(){n.subscribed&&(n.unsubscribe(),t(e))}}))}try{return t(e)}catch(e){return i(e)}}let B=class{loadRoute(e,t,i){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')}};function F(e,t){let i=function e(t,i=[]){let r=t.plan;for(let n in r){let s=r[n];if(s.strategy===A.replace)i.push({viewPortPlan:s,navigationInstruction:t}),s.childNavigationInstruction&&e(s.childNavigationInstruction,i);else{let r=t.addViewPortInstruction(n,s.strategy,s.prevModuleId,s.prevComponent);s.childNavigationInstruction&&(r.childNavigationInstruction=s.childNavigationInstruction,e(s.childNavigationInstruction,i))}}return i}(t).map(t=>(function(e,t,i){let r=i.config.moduleId;return function(e,t,i){let r=t.router,n=t.lifecycleArgs;return e.loadRoute(r,i,t).then(e=>{let{viewModel:t,childContainer:s}=e;if(e.router=r,e.config=i,"configureRouter"in t){let i=s.getChildRouter();return e.childRouter=i,i.configure(e=>t.configureRouter(e,i,...n)).then(()=>e)}return e})}(e,t,i.config).then(n=>{let s=t.addViewPortInstruction(i.name,i.strategy,r,n),o=n.childRouter;if(o){let r=t.getWildcardPath();return o._createNavigationInstruction(r,t).then(t=>(i.childNavigationInstruction=t,E(t).then(i=>(t.plan=i,s.childNavigationInstruction=t,F(e,t)))))}})})(e,t.navigationInstruction,t.viewPortPlan));return Promise.all(i)}const z=r.getLogger("app-router");let $=class extends P{static inject(){return[f.a,g.a,class{static inject(){return[f.a]}constructor(e){this.container=e,this.steps=[class{run(e,t){return E(e).then(i=>(e.plan=i,t())).catch(t.cancel)}},class{run(e,t){return M(e.plan,"canDeactivate",t)}},class{static inject(){return[B]}constructor(e){this.routeLoader=e}run(e,t){return F(this.routeLoader,e).then(t).catch(t.cancel)}},this._createPipelineSlot("authorize"),class{run(e,t){return j(e,"canActivate",t)}},this._createPipelineSlot("preActivate","modelbind"),class{run(e,t){return M(e.plan,"deactivate",t,!0)}},class{run(e,t){return j(e,"activate",t,!0)}},this._createPipelineSlot("preRender","precommit"),class{run(e,t){return e._commitChanges(!0).then(()=>(e._updateTitle(),t()))}},this._createPipelineSlot("postRender","postcomplete")]}createPipeline(){let e=new class{constructor(){this.steps=[]}addStep(e){let t;if("function"==typeof e)t=e;else{if("function"==typeof e.getSteps){let t=e.getSteps();for(let e=0,i=t.length;e<i;e++)this.addStep(t[e]);return this}t=e.run.bind(e)}return this.steps.push(t),this}run(e){let t=-1,i=this.steps;function r(){if(!(++t<i.length))return r.complete();{let n=i[t];try{return n(e,r)}catch(e){return r.reject(e)}}}return r.complete=x(0,_.completed),r.cancel=x(0,_.canceled),r.reject=x(0,_.rejected),r()}};return this.steps.forEach(t=>e.addStep(this.container.get(t))),e}_findStep(e){return this.steps.find(t=>t.slotName===e||t.slotAlias===e)}addStep(e,t){let i=this._findStep(e);if(!i)throw new Error(`Invalid pipeline slot name: ${e}.`);i.steps.includes(t)||i.steps.push(t)}removeStep(e,t){let i=this._findStep(e);i&&i.steps.splice(i.steps.indexOf(t),1)}_clearSteps(e=""){let t=this._findStep(e);t&&(t.steps=[])}reset(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")}_createPipelineSlot(e,t){return new class{constructor(e,t,i){this.steps=[],this.container=e,this.slotName=t,this.slotAlias=i}getSteps(){return this.steps.map(e=>this.container.get(e))}}(this.container,e,t)}},m.a]}constructor(e,t,i,r){super(e,t),this.pipelineProvider=i,this.events=r}reset(){super.reset(),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]}loadUrl(e){return this._createNavigationInstruction(e).then(e=>this._queueInstruction(e)).catch(e=>{z.error(e),q(this)})}registerViewPort(e,t){if(super.registerViewPort(e,t),this.isActive)this._dequeueInstruction();else{let t=this._findViewModel(e);if("configureRouter"in t){if(!this.isConfigured){let e=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=(()=>{}),this.configure(e=>t.configureRouter(e,this)).then(()=>{this.activate(),e()})}}else this.activate()}return Promise.resolve()}activate(e){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,e),this.history.activate(this.options),this._dequeueInstruction())}deactivate(){this.isActive=!1,this.history.deactivate()}_queueInstruction(e){return new Promise(t=>{e.resolve=t,this._queue.unshift(e),this._dequeueInstruction()})}_dequeueInstruction(e=0){return Promise.resolve().then(()=>{if(this.isNavigating&&!e)return;let t=this._queue.shift();if(this._queue.length=0,t){if(this.isNavigating=!0,t.previousInstruction=this.currentInstruction,e){if(e===this.maxInstructionCount-1)return z.error(`${e+1} navigation instructions have been attempted without success. Restoring last known good location.`),q(this),this._dequeueInstruction(e+1);if(e>this.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else this.events.publish("router:navigation:processing",{instruction:t});return this.pipelineProvider.createPipeline().run(t).then(t=>(function(e,t,i,r){t&&"completed"in t&&"output"in t||((t=t||{}).output=new Error(`Expected router pipeline to return a navigation result, but got [${JSON.stringify(t)}] instead.`));let n=null;S(t.output)?t.output.navigate(r):(n=t,t.completed||(t.output instanceof Error&&z.error(t.output),q(r)));return r._dequeueInstruction(i+1).then(e=>n||e||t)})(0,t,e,this)).catch(e=>({output:e instanceof Error?e:new Error(e)})).then(i=>(function(e,t,i,r){e.resolve(t);let n={instruction:e,result:t};if(i)r.events.publish("router:navigation:child:complete",n);else{let i;if(r.isNavigating=!1,r.isExplicitNavigation=!1,r.isExplicitNavigationBack=!1,t.output instanceof Error)i="error";else if(t.completed){let t=e.queryString?"?"+e.queryString:"";r.history.previousLocation=e.fragment+t,i="success"}else i="canceled";r.events.publish(`router:navigation:${i}`,n),r.events.publish("router:navigation:complete",n)}return t})(t,i,!!e,this))}})}_findViewModel(e){if(this.container.viewModel)return this.container.viewModel;if(e.container){let t=e.container;for(;t;){if(t.viewModel)return this.container.viewModel=t.viewModel,t.viewModel;t=t.parent}}}};function q(e){e.history.previousLocation?e.navigate(e.history.previousLocation,{trigger:!1,replace:!0}):e.fallbackRoute?e.navigate(e.fallbackRoute,{trigger:!0,replace:!0}):z.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}},app:function(e,t,i){"use strict";i.r(t),i.d(t,"AppViewModel",function(){return r});class r{constructor(){this.name=""}}},"app.html":function(e,t,i){e.exports='<template>\r\n  <require from="style.less"></require>\r\n  <require from="customElements/hello-tag"></require>\r\n\r\n  <h2>Aurelia + Webpack</h2>\r\n  <div>\r\n    What\'s your name? <br>\r\n    <input value.bind="name" />\r\n  </div>\r\n\r\n  <hello-tag name.bind="name | upper" if.bind="name"></hello-tag>\r\n</template>'},"aurelia-event-aggregator":function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"configure",function(){return a});const r=i(6).getLogger("event-aggregator");function n(e,t,i){try{e(t,i)}catch(e){r.error(e)}}function s(e,t){try{e.handle(t)}catch(e){r.error(e)}}let o=class{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(e,t){let i,r;if(!e)throw new Error("Event was invalid.");if("string"==typeof e){if(i=this.eventLookup[e])for(r=(i=i.slice()).length;r--;)n(i[r],t,e)}else for(r=(i=this.messageHandlers.slice()).length;r--;)s(i[r],e)}subscribe(e,t){let i,r;if(!e)throw new Error("Event channel/type was invalid.");return"string"==typeof e?(i=t,r=this.eventLookup[e]||(this.eventLookup[e]=[])):(i=new class{constructor(e,t){this.messageType=e,this.callback=t}handle(e){e instanceof this.messageType&&this.callback.call(null,e)}}(e,t),r=this.messageHandlers),r.push(i),{dispose(){let e=r.indexOf(i);-1!==e&&r.splice(e,1)}}}subscribeOnce(e,t){let i=this.subscribe(e,(e,r)=>(i.dispose(),t(e,r)));return i}};function a(e){e.instance(o,function(e){let t=new o;return e.subscribeOnce=function(e,i){return t.subscribeOnce(e,i)},e.subscribe=function(e,i){return t.subscribe(e,i)},e.publish=function(e,i){t.publish(e,i)},t}(e.aurelia))}},"aurelia-framework":function(e,t,i){"use strict";i.d(t,"Aurelia",function(){return u});var r=i(6),n=i(4),s=i(8),o=i(2),a=i(0),l=i(7);i(3),i(1);i.d(t,"b",function(){return o.k}),i.d(t,"c",function(){return o.o});i(10);let u=class e{constructor(t,i,l){this.loader=t||new a.d.Loader,this.container=i||(new n.a).makeGlobal(),this.resources=l||new o.m,this.use=new m(this),this.logger=r.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(e,this),this.use.instance(s.a,this.loader),this.use.instance(o.m,this.resources)}start(){return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then(()=>{if(a.b.addEventListener("submit",e=>{const t=e.target,i=t.action;"form"!==t.tagName.toLowerCase()||i||e.preventDefault()}),!this.container.hasResolver(o.c)){let e="You must configure Aurelia with a BindingLanguage implementation.";throw this.logger.error(e),new Error(e)}this.logger.info("Aurelia Started");let e=a.b.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return a.b.dispatchEvent(e),this}))}enhance(e={},t=null){return this._configureHost(t||a.b.querySelectorAll("body")[0]),new Promise(t=>{let i=this.container.get(o.j);this.root=i.enhance({container:this.container,element:this.host,resources:this.resources,bindingContext:e}),this.root.attached(),this._onAureliaComposed(),t(this)})}setRoot(e=null,t=null){let i={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(t);let r=this.container.get(o.j);return delete this.container.get(o.f).initialComposition,e||(e=this.configModuleId?Object(l.d)("./app",this.configModuleId):"app"),i.viewModel=e,i.container=i.childContainer=this.container,i.viewSlot=this.hostSlot,i.host=this.host,r.compose(i).then(e=>(this.root=e,i.viewSlot.attached(),this._onAureliaComposed(),this))}_configureHost(e){if(!this.hostConfigured){if(e=e||this.host,this.host=e&&"string"!=typeof e?e:a.b.getElementById(e||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new o.n(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(a.b.boundary,this.host)}}_onAureliaComposed(){let e=a.b.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(()=>a.b.dispatchEvent(e),1)}};const c=r.getLogger("aurelia"),h=/\.[^/.]+$/;function d(e,t){let i,r=()=>(i=t.shift())?Promise.resolve(i(e)).then(r):Promise.resolve();return r()}function p(e,t,i){let r=e.container.get(o.k);return Promise.all(Object.keys(t).map(i=>(function(t){let i=t.moduleId,r=f(i);n(i)&&(i=s(i));return e.loader.normalize(i,t.relativeTo).then(e=>({name:t.moduleId,importId:n(t.moduleId)?function(e,t){return s(e)+"."+t}(e,r):e}))})(t[i]))).then(e=>{let t=[],n=[];return e.forEach(e=>{t.push(void 0),n.push(e.importId)}),r.importViewResources(n,t,i)});function n(e){let t=f(e);return!!t&&(""!==t&&(".js"!==t&&".ts"!==t))}function s(e){return e.replace(h,"")}}function f(e){let t=e.match(h);if(t&&t.length>0)return t[0].split(".")[1]}function g(e){if(e.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}let m=class{constructor(e){this.aurelia=e,this.container=e.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(()=>e.loader.normalize("aurelia-bootstrapper").then(e=>this.bootstrapperName=e)),this.postTask(()=>p(e,this.resourcesToLoad,e.resources))}instance(e,t){return this.container.registerInstance(e,t),this}singleton(e,t){return this.container.registerSingleton(e,t),this}transient(e,t){return this.container.registerTransient(e,t),this}preTask(e){return g(this),this.preTasks.push(e),this}postTask(e){return g(this),this.postTasks.push(e),this}feature(e,t={}){let i=/\/index$/i.test(e),r=i||f(e)?e:e+"/index",n=i?e.substr(0,e.length-6):e;return this.plugin({moduleId:r,resourcesRelativeTo:[n,""],config:t})}globalResources(e){g(this);let t,i=Array.isArray(e)?e:arguments,r=this.resourcesRelativeTo||["",""];for(let e=0,n=i.length;e<n;++e){if("string"!=typeof(t=i[e]))throw new Error(`Invalid resource path [${t}]. Resources must be specified as relative module IDs.`);let n=r[0],s=r[1],o=t;(t.startsWith("./")||t.startsWith("../"))&&""!==n&&(o=Object(l.b)(n,t)),this.resourcesToLoad[o]={moduleId:o,relativeTo:s}}return this}globalName(e,t){return g(this),this.resourcesToLoad[e]={moduleId:t,relativeTo:""},this}plugin(e,t){return g(this),"string"==typeof e?this.plugin({moduleId:e,resourcesRelativeTo:[e,""],config:t||{}}):(this.info.push(e),this)}_addNormalizedPlugin(e,t){let i={moduleId:e,resourcesRelativeTo:[e,""],config:t||{}};return this.plugin(i),this.preTask(()=>{let t=[e,this.bootstrapperName];return i.moduleId=e,i.resourcesRelativeTo=t,Promise.resolve()}),this}defaultBindingLanguage(){return this._addNormalizedPlugin("aurelia-templating-binding")}router(){return this._addNormalizedPlugin("aurelia-templating-router")}history(){return this._addNormalizedPlugin("aurelia-history-browser")}defaultResources(){return this._addNormalizedPlugin("aurelia-templating-resources")}eventAggregator(){return this._addNormalizedPlugin("aurelia-event-aggregator")}basicConfiguration(){return this.defaultBindingLanguage().defaultResources().eventAggregator()}standardConfiguration(){return this.basicConfiguration().history().router()}developmentLogging(){return this.preTask(()=>this.aurelia.loader.normalize("aurelia-logging-console",this.bootstrapperName).then(e=>this.aurelia.loader.loadModule(e).then(e=>{r.addAppender(new e.ConsoleAppender),r.setLevel(r.logLevel.debug)}))),this}apply(){return this.processed?Promise.resolve():d(this,this.preTasks).then(()=>{let e,t=this.aurelia.loader,i=this.info,r=()=>(e=i.shift())?function(e,t,i){c.debug(`Loading plugin ${i.moduleId}.`),e.resourcesRelativeTo=i.resourcesRelativeTo;let r=i.moduleId;return i.resourcesRelativeTo.length>1?t.normalize(i.moduleId,i.resourcesRelativeTo[1]).then(e=>n(e)):n(r);function n(r){return t.loadModule(r).then(t=>{if("configure"in t)return Promise.resolve(t.configure(e,i.config||{})).then(()=>{e.resourcesRelativeTo=null,c.debug(`Configured plugin ${i.moduleId}.`)});e.resourcesRelativeTo=null,c.debug(`Loaded plugin ${i.moduleId}.`)})}}(this,t,e).then(r):(this.processed=!0,Promise.resolve());return r().then(()=>d(this,this.postTasks))})}}},"aurelia-history-browser":function(e,t,i){"use strict";i.d(t,"configure",function(){return u});var r,n,s=i(0),o=i(13);let a=class{activate(e){}deactivate(){}},l=class e extends a{constructor(){super(),this.handler=(t=>{let{shouldHandleEvent:i,href:r}=e.getEventInfo(t);i&&(t.preventDefault(),this.history.navigate(r))})}activate(e){e._hasPushState&&(this.history=e,s.b.addEventListener("click",this.handler,!0))}deactivate(){s.b.removeEventListener("click",this.handler)}static getEventInfo(t){let i={shouldHandleEvent:!1,href:null,anchor:null},r=e.findClosestAnchor(t.target);if(!r||!e.targetIsThisWindow(r))return i;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return i;let n=r.getAttribute("href");i.anchor=r,i.href=n;let s=1===t.which,o=n&&!("#"===n.charAt(0)||/^[a-z]+:/i.test(n));return i.shouldHandleEvent=s&&o,i}static findClosestAnchor(e){for(;e;){if("A"===e.tagName)return e;e=e.parentNode}}static targetIsThisWindow(e){let t=e.getAttribute("target"),i=s.d.global;return!t||t===i.name||"_self"===t||"top"===t&&i===i.top}};function u(e){e.singleton(o.a,c),e.transient(a,l)}let c=(n=r=class extends o.a{constructor(e){super(),this._isActive=!1,this._checkUrlCallback=this._checkUrl.bind(this),this.location=s.d.location,this.history=s.d.history,this.linkHandler=e}activate(e){if(this._isActive)throw new Error("History has already been activated.");let t,i=!!e.pushState;if(this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,e),this.root=("/"+this.options.root+"/").replace(d,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this._hasPushState?t="popstate":this._wantsHashChange&&(t="hashchange"),s.d.addEventListener(t,this._checkUrlCallback),this._wantsHashChange&&i){let e=this.location,t=e.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!t)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&t&&e.hash&&(this.fragment=this._getHash().replace(h,""),this.history.replaceState({},s.b.title,this.root+this.fragment+e.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()}deactivate(){s.d.removeEventListener("popstate",this._checkUrlCallback),s.d.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()}getAbsoluteRoot(){var e,t,i;return`${e=this.location.protocol,t=this.location.hostname,i=this.location.port,`${e}//${t}${i?":"+i:""}`}${this.root}`}navigate(e,{trigger:t=!0,replace:i=!1}={}){if(e&&f.test(e))return this.location.href=e,!0;if(!this._isActive)return!1;if(e=this._getFragment(e||""),this.fragment===e&&!i)return!1;this.fragment=e;let r=this.root+e;if(""===e&&"/"!==r&&(r=r.slice(0,-1)),this._hasPushState)r=r.replace("//","/"),this.history[i?"replaceState":"pushState"]({},s.b.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);!function(e,t,i){if(i){let i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}(this.location,e,i)}return t?this._loadUrl(e):void 0}navigateBack(){this.history.back()}setTitle(e){s.b.title=e}setState(e,t){let i=Object.assign({},this.history.state),{pathname:r,search:n,hash:s}=this.location;i[e]=t,this.history.replaceState(i,null,`${r}${n}${s}`)}getState(e){return Object.assign({},this.history.state)[e]}_getHash(){return this.location.hash.substr(1)}_getFragment(e,t){let i;return e||(this._hasPushState||!this._wantsHashChange||t?(e=this.location.pathname+this.location.search,i=this.root.replace(p,""),e.indexOf(i)||(e=e.substr(i.length))):e=this._getHash()),"/"+e.replace(h,"")}_checkUrl(){this._getFragment()!==this.fragment&&this._loadUrl()}_loadUrl(e){let t=this.fragment=this._getFragment(e);return!!this.options.routeHandler&&this.options.routeHandler(t)}},r.inject=[a],n);const h=/^#?\/*|\s+$/g,d=/^\/+|\/+$/g,p=/\/$/,f=/^([a-z][a-z0-9+\-.]*:)?\/\//i},"aurelia-logging-console":function(e,t,i){"use strict";i.d(t,"ConsoleAppender",function(){return r});i(6);let r=class{debug(e,...t){console.debug(`DEBUG [${e.id}]`,...t)}info(e,...t){console.info(`INFO [${e.id}]`,...t)}warn(e,...t){console.warn(`WARN [${e.id}]`,...t)}error(e,...t){console.error(`ERROR [${e.id}]`,...t)}}},"aurelia-pal-browser":function(e,t,i){"use strict";i.r(t),i.d(t,"_PLATFORM",function(){return n}),i.d(t,"_ensureFunctionName",function(){return s}),i.d(t,"_ensureClassList",function(){return o}),i.d(t,"_ensurePerformance",function(){return a}),i.d(t,"_ensureCustomEvent",function(){return l}),i.d(t,"_ensureElementMatches",function(){return u}),i.d(t,"_FEATURE",function(){return c}),i.d(t,"_ensureHTMLTemplateElement",function(){return h}),i.d(t,"_DOM",function(){return p}),i.d(t,"initialize",function(){return f});var r=i(0);const n={location:window.location,history:window.history,addEventListener(e,t,i){this.global.addEventListener(e,t,i)},removeEventListener(e,t,i){this.global.removeEventListener(e,t,i)},performance:window.performance,requestAnimationFrame(e){return this.global.requestAnimationFrame(e)}};function s(){(function(){}).name||Object.defineProperty(Function.prototype,"name",{get:function(){let e=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:e}),e}})}function o(){if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){let e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){let e=function(e){let t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(let i=0,r=arguments.length;i<r;++i)e=arguments[i],t.call(this,e)}};e("add"),e("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){let e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,i){return 1 in arguments&&!this.contains(t)==!i?i:e.call(this,t)}}e=null}else{let e="prototype",t=String.prototype.trim,i=Array.prototype.indexOf,r=[],n=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new n("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new n("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},o=function(e){let i=t.call(e.getAttribute("class")||""),n=i?i.split(/\s+/):r;for(let e=0,t=n.length;e<t;++e)this.push(n[e]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},a=o[e]=[];n[e]=Error[e],a.item=function(e){return this[e]||null},a.contains=function(e){return-1!==s(this,e+="")},a.add=function(){let e,t=arguments,i=0,r=t.length,n=!1;do{e=t[i]+"",-1===s(this,e)&&(this.push(e),n=!0)}while(++i<r);n&&this._updateClassName()},a.remove=function(){let e,t,i=arguments,r=0,n=i.length,o=!1;do{for(e=i[r]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++r<n);o&&this._updateClassName()},a.toggle=function(e,t){e+="";let i=this.contains(e),r=i?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!i},a.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new o(this)},enumerable:!0,configurable:!0})}}function a(){if("performance"in window==!1&&(window.performance={}),"now"in window.performance==!1){let e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}n.performance=window.performance}function l(){if(!window.CustomEvent||"function"!=typeof window.CustomEvent){let e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};let i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i};e.prototype=window.Event.prototype,window.CustomEvent=e}}function u(){if(Element&&!Element.prototype.matches){let e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}}const c={};function h(){function e(e){let i,r=e.ownerDocument.createElement("template"),n=e.attributes,s=n.length;for(e.parentNode.insertBefore(r,e);s-- >0;)i=n[s],r.setAttribute(i.name,i.value),e.removeAttribute(i.name);return e.parentNode.removeChild(e),t(r)}function t(e){let t,i=e.content=document.createDocumentFragment();for(;t=e.firstChild;)i.appendChild(t);return e}c.htmlTemplateElement?c.ensureHTMLTemplateElement=function(e){return e}:c.ensureHTMLTemplateElement=function(i){let r=t(i).content.querySelectorAll("template");for(let i=0,s=r.length;i<s;++i){let s=r[i];"template"===(n=s).tagName&&"http://www.w3.org/2000/svg"===n.namespaceURI?e(s):t(s)}var n;return i}}c.shadowDOM=!!HTMLElement.prototype.attachShadow,c.scopedCSS="scoped"in document.createElement("style"),c.htmlTemplateElement="content"in document.createElement("template"),c.mutationObserver=!(!window.MutationObserver&&!window.WebKitMutationObserver);let d=window.ShadowDOMPolyfill||null;const p={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener(e,t,i){document.addEventListener(e,t,i)},removeEventListener(e,t,i){document.removeEventListener(e,t,i)},adoptNode:e=>document.adoptNode(e,!0),createElement:e=>document.createElement(e),createTextNode:e=>document.createTextNode(e),createComment:e=>document.createComment(e),createDocumentFragment:()=>document.createDocumentFragment(),createMutationObserver:e=>new(window.MutationObserver||window.WebKitMutationObserver)(e),createCustomEvent:(e,t)=>new window.CustomEvent(e,t),dispatchEvent(e){document.dispatchEvent(e)},getComputedStyle:e=>window.getComputedStyle(e),getElementById:e=>document.getElementById(e),querySelectorAll:e=>document.querySelectorAll(e),nextElementSibling(e){if(e.nextElementSibling)return e.nextElementSibling;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e},createTemplateFromMarkup(e){let t=document.createElement("div");t.innerHTML=e;let i=t.firstElementChild;if(!i||"TEMPLATE"!==i.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>");return c.ensureHTMLTemplateElement(i)},appendNode(e,t){(t||document.body).appendChild(e)},replaceNode(e,t,i){t.parentNode?t.parentNode.replaceChild(e,t):null!==d?d.unwrap(i).replaceChild(d.unwrap(e),d.unwrap(t)):i.replaceChild(e,t)},removeNode(e,t){e.parentNode?e.parentNode.removeChild(e):t&&(null!==d?d.unwrap(t).removeChild(d.unwrap(e)):t.removeChild(e))},injectStyles(e,t,i){let r=document.createElement("style");return r.innerHTML=e,r.type="text/css",t=t||document.head,i&&t.childNodes.length>0?t.insertBefore(r,t.childNodes[0]):t.appendChild(r),r}};function f(){r.f||(l(),s(),h(),u(),o(),a(),Object(r.e)((e,t,i)=>{Object.assign(e,n),Object.assign(t,c),Object.assign(i,p),function(e){e.console=e.console||{};let t,i,r=e.console,n={},s=function(){},o="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");for(;t=o.pop();)r[t]||(r[t]=n);for(;i=a.pop();)r[i]||(r[i]=s)}(e.global),e.global.console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.bind(console[e],console)},Function.prototype.call),Object.defineProperty(i,"title",{get:function(){return document.title},set:function(e){document.title=e}}),Object.defineProperty(i,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(e,"XMLHttpRequest",{get:function(){return e.global.XMLHttpRequest}})}))}},"aurelia-templating-binding":function(e,t,i){"use strict";i.d(t,"configure",function(){return C});var r,n,s,o,a,l,u,c=i(6),h=i(3),d=i(2);let p=(n=r=class{constructor(e){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=e,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}register(e,t,i){e=e.toLowerCase(),t=t.toLowerCase(),(this.elements[e]=this.elements[e]||Object.create(null))[t]=i}registerUniversal(e,t){e=e.toLowerCase(),this.allElements[e]=t}map(e,t){if(this.svg.isStandardSvgAttribute(e,t))return t;e=e.toLowerCase(),t=t.toLowerCase();const i=this.elements[e];return void 0!==i&&t in i?i[t]:t in this.allElements?this.allElements[t]:/(?:^data-)|(?:^aria-)|:/.test(t)?t:Object(h.o)(t)}},r.inject=[h.k],n),f=class{constructor(e,t,i,r,n,s){this.observerLocator=e,this.targetProperty=t,this.parts=i,this.mode=r,this.lookupFunctions=n,this.attribute=this.attrToRemove=s,this.discrete=!1}createBinding(e){return 3===this.parts.length?new v(e,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new m(this.observerLocator,this.parts,e,this.targetProperty,this.mode,this.lookupFunctions)}};function g(e,t){if("style"===t)c.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(e.parentElement&&"TEXTAREA"===e.parentElement.nodeName&&"textContent"===t)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}let m=class{constructor(e,t,i,r,n,s){g(i,r),this.observerLocator=e,this.parts=t,this.target=i,this.targetProperty=r,this.targetAccessor=e.getAccessor(i,r),this.mode=n,this.lookupFunctions=s}interpolate(){if(this.isBound){let e="",t=this.parts;for(let i=0,r=t.length;i<r;i++)e+=i%2==0?t[i]:this[`childBinding${i}`].value;this.targetAccessor.setValue(e,this.target,this.targetProperty)}}updateOneTimeBindings(){for(let e=1,t=this.parts.length;e<t;e+=2){let t=this[`childBinding${e}`];t.mode===h.n.oneTime&&t.call()}}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.source=e;let t=this.parts;for(let i=1,r=t.length;i<r;i+=2){let r=new v(this,this.observerLocator,t[i],this.mode,this.lookupFunctions);r.bind(e),this[`childBinding${i}`]=r}this.isBound=!0,this.interpolate()}unbind(){if(!this.isBound)return;this.isBound=!1,this.source=null;for(let e=1,t=this.parts.length;e<t;e+=2){this[`childBinding${e}`].unbind()}}},v=Object(h.p)()(s=class{constructor(e,t,i,r,n,s,o,a){e instanceof m?this.parent=e:(g(e,s),this.target=e,this.targetProperty=s,this.targetAccessor=t.getAccessor(e,s)),this.observerLocator=t,this.sourceExpression=i,this.mode=r,this.lookupFunctions=n,this.left=o,this.right=a}updateTarget(e){(e=null===e||void 0===e?"":e.toString())!==this.value&&(this.value=e,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+e+this.right,this.target,this.targetProperty))}call(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==h.n.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))}bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e;let t=this.sourceExpression;t.bind&&t.bind(this,e,this.lookupFunctions),this.rawValue=t.evaluate(e,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===h.n.oneWay&&Object(h.s)(this)}unbind(){if(!this.isBound)return;this.isBound=!1;let e=this.sourceExpression;e.unbind&&e.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}connect(e){this.isBound&&(e&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))}})||s,b=(a=o=class{constructor(e,t,i,r){this.parser=e,this.observerLocator=t,this.eventManager=i,this.attributeMap=r}interpret(e,t,i,r,n){return i.command in this?this[i.command](e,t,i,r,n):this.handleUnknownCommand(e,t,i,r,n)}handleUnknownCommand(e,t,i,r,n){return c.getLogger("templating-binding").warn("Unknown binding command.",i),r}determineDefaultBindingMode(e,t,i){let r=e.tagName.toLowerCase();return"input"===r&&("value"===t||"files"===t)&&"checkbox"!==e.type&&"radio"!==e.type||"input"===r&&"checked"===t&&("checkbox"===e.type||"radio"===e.type)||("textarea"===r||"select"===r)&&"value"===t||("textcontent"===t||"innerhtml"===t)&&"true"===e.contentEditable||"scrolltop"===t||"scrollleft"===t?h.n.twoWay:i&&t in i.attributes&&i.attributes[t]&&i.attributes[t].defaultBindingMode>=h.n.oneTime?i.attributes[t].defaultBindingMode:h.n.oneWay}bind(e,t,i,r,n){let s=r||d.b.attribute(i.attrName);return s.attributes[i.attrName]=new h.c(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),i.defaultBindingMode||this.determineDefaultBindingMode(t,i.attrName,n),e.lookupFunctions),s}trigger(e,t,i){return new h.g(this.eventManager,i.attrName,this.parser.parse(i.attrValue),h.r.none,!0,e.lookupFunctions)}capture(e,t,i){return new h.g(this.eventManager,i.attrName,this.parser.parse(i.attrValue),h.r.capturing,!0,e.lookupFunctions)}delegate(e,t,i){return new h.g(this.eventManager,i.attrName,this.parser.parse(i.attrValue),h.r.bubbling,!0,e.lookupFunctions)}call(e,t,i,r){let n=r||d.b.attribute(i.attrName);return n.attributes[i.attrName]=new h.d(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),e.lookupFunctions),n}options(e,t,i,r,n){let s,o,a,l=r||d.b.attribute(i.attrName),u=i.attrValue,c=this.language,h=null,p="",f=!1,g=!1,m=!1;for(o=0,a=u.length;o<a;++o){if(";"!==(s=u[o])||f)if(":"===s&&null===h)m=!0,h=p.trim(),p="";else{if("\\"===s){p+=s,g=!0;continue}p+=s,null!==h&&!1===g&&"'"===s&&(f=!f)}else m||(h=this._getPrimaryPropertyName(e,n)),i=c.inspectAttribute(e,"?",h,p.trim()),c.createAttributeInstruction(e,t,i,l,n),l.attributes[i.attrName]||(l.attributes[i.attrName]=i.attrValue),p="",h=null;g=!1}return m||(h=this._getPrimaryPropertyName(e,n)),null!==h&&(i=c.inspectAttribute(e,"?",h,p.trim()),c.createAttributeInstruction(e,t,i,l,n),l.attributes[i.attrName]||(l.attributes[i.attrName]=i.attrValue)),l}_getPrimaryPropertyName(e,t){let i=e.getAttribute(t.attributeName);return i&&i.primaryProperty?i.primaryProperty.name:null}for(e,t,i,r){let n,s,o,a,l;if(2!==(n=(l=(a=i.attrValue).match(/^ *[[].+[\]]/))?a.split("of "):a.split(" of ")).length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return o=r||d.b.attribute(i.attrName),l?(s=n[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),o.attributes.key=s[0],o.attributes.value=s[1]):o.attributes.local=n[0],o.attributes.items=new h.c(this.observerLocator,"items",this.parser.parse(n[1]),h.n.oneWay,e.lookupFunctions),o}"two-way"(e,t,i,r){let n=r||d.b.attribute(i.attrName);return n.attributes[i.attrName]=new h.c(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),h.n.twoWay,e.lookupFunctions),n}"one-way"(e,t,i,r){let n=r||d.b.attribute(i.attrName);return n.attributes[i.attrName]=new h.c(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),h.n.oneWay,e.lookupFunctions),n}"one-time"(e,t,i,r){let n=r||d.b.attribute(i.attrName);return n.attributes[i.attrName]=new h.c(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),h.n.oneTime,e.lookupFunctions),n}},o.inject=[h.j,h.i,h.f,p],a),w={},y=(u=l=class extends d.c{constructor(e,t,i,r){super(),this.parser=e,this.observerLocator=t,this.syntaxInterpreter=i,this.emptyStringExpression=this.parser.parse("''"),i.language=this,this.attributeMap=r}inspectAttribute(e,t,i,r){let n=i.split(".");if(w.defaultBindingMode=null,2===n.length)w.attrName=n[0].trim(),w.attrValue=r,w.command=n[1].trim(),"ref"===w.command?(w.expression=new h.h(this.parser.parse(r),w.attrName,e.lookupFunctions),w.command=null,w.attrName="ref"):w.expression=null;else if("ref"===i)w.attrName=i,w.attrValue=r,w.command=null,w.expression=new h.h(this.parser.parse(r),"element",e.lookupFunctions);else{w.attrName=i,w.attrValue=r,w.command=null;const n=this.parseInterpolation(e,r);w.expression=null===n?null:new f(this.observerLocator,this.attributeMap.map(t,i),n,h.n.oneWay,e.lookupFunctions,i)}return w}createAttributeInstruction(e,t,i,r,n){let s;if(i.expression){if("ref"===i.attrName)return i.expression;(s=r||d.b.attribute(i.attrName)).attributes[i.attrName]=i.expression}else i.command&&(s=this.syntaxInterpreter.interpret(e,t,i,r,n));return s}inspectTextContent(e,t){const i=this.parseInterpolation(e,t);return null===i?null:new f(this.observerLocator,"textContent",i,h.n.oneWay,e.lookupFunctions,"textContent")}parseInterpolation(e,t){let i,r,n,s=t.indexOf("${",0),o=t.length,a=0,l=0,u=null,c=0;for(;s>=0&&s<o-2;){l=1,r=s,s+=2;do{i=t[s],s++,"'"!==i&&'"'!==i?"\\"!==i?null===u&&("{"===i?l++:"}"===i&&l--):s++:null===u?u=i:u===i&&(u=null)}while(l>0&&s<o);if(0!==l)break;n=n||[],"\\"===t[r-1]&&"\\"!==t[r-2]?(n[c]=t.substring(a,r-1)+t.substring(r,s),n[++c]=this.emptyStringExpression,c++):(n[c]=t.substring(a,r),n[++c]=this.parser.parse(t.substring(r+2,s-1)),c++),a=s,s=t.indexOf("${",s)}return 0===c?null:(n[c]=t.substr(a),n)}},l.inject=[h.j,h.i,b,p],u);function C(e){e.container.registerSingleton(d.c,y),e.container.registerAlias(d.c,y)}},"aurelia-templating-resources":function(e,t,i){"use strict";var r=i(0),n=i("aurelia-templating-resources/compose"),s=i("aurelia-templating-resources/if"),o=i("aurelia-templating-resources/with"),a=i("aurelia-templating-resources/repeat"),l=i("aurelia-templating-resources/show"),u=i("aurelia-templating-resources/hide"),c=i("aurelia-templating-resources/sanitize-html"),h=i("aurelia-templating-resources/replaceable"),d=i("aurelia-templating-resources/focus"),p=i(2),f=i(8),g=(i(4),i(7));let m=/url\((?!['"]data)([^)]+)\)/gi;let v=class{constructor(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}initialize(e,t){this._scoped=new t(this)}register(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0}load(e){return e.get(f.a).loadText(this.address).catch(e=>null).then(e=>{e=function(e,t){if("string"!=typeof t)throw new Error(`Failed loading required CSS file: ${e}`);return t.replace(m,(t,i)=>{let r=i.charAt(0);return"'"!==r&&'"'!==r||(i=i.substr(1,i.length-2)),"url('"+Object(g.d)(i,e)+"')"})}(this.address,e),this._scoped.css=e,this._global&&(this._alreadyGloballyInjected=!0,r.b.injectStyles(e))})}},b=class{constructor(e){this.owner=e,this.css=null}beforeCompile(e,t,i){if(i.targetShadowDOM)r.b.injectStyles(this.css,e,!0);else if(r.c.scopedCSS){r.b.injectStyles(this.css,e,!0).setAttribute("scoped","scoped")}else this.owner._alreadyGloballyInjected||(r.b.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)}};var w=i(15),y=i("aurelia-templating-resources/attr-binding-behavior"),C=i("aurelia-templating-resources/binding-mode-behaviors"),_=i("aurelia-templating-resources/throttle-binding-behavior"),x=i("aurelia-templating-resources/debounce-binding-behavior"),k=i("aurelia-templating-resources/self-binding-behavior"),S=i("aurelia-templating-resources/signal-binding-behavior"),O=i(14),A=i("aurelia-templating-resources/update-trigger-binding-behavior"),E=i(16),P=i(22);function V(e){let t=e.container.get(p.k),i=e.aurelia.loader;t.addResourcePlugin(".html",{fetch:function(e){return i.loadTemplate(e).then(t=>{let i=t.template.getAttribute("bindable"),r=function(e){return/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase()}(e);return i?(i=i.split(",").map(e=>e.trim()),t.template.removeAttribute("bindable")):i=[],{[r]:function(e,t,i){var r;let n=Object(p.q)(e)(r=Object(p.u)(t)(r=class{bind(e){this.$parent=e}})||r)||r;for(let e=0,t=i.length;e<t;++e)Object(p.o)(i[e])(n);return n}(r,e,i)}})}})}var I=i(21),M=i(20),N=i(19),j=i(18),T=i(17),R=i(5),L=i(12),B=i(11);function F(e){Object(B.c)(),e.globalResources("./compose","./if","./with","./repeat","./show","./hide","./replaceable","./sanitize-html","./focus","./binding-mode-behaviors","./self-binding-behavior","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./update-trigger-binding-behavior","./attr-binding-behavior"),V(e),e.container.get(p.k).addResourcePlugin(".css",{fetch:function(e){return{[e]:function(e){var t;return Object(p.s)(new v(e))(t=class extends b{})||t}(e)}}})}i.d(t,"configure",function(){return F}),i.d(t,!1,function(){return n.Compose}),i.d(t,!1,function(){return s.If}),i.d(t,!1,function(){return o.With}),i.d(t,!1,function(){return a.Repeat}),i.d(t,!1,function(){return l.Show}),i.d(t,!1,function(){return u.Hide}),i.d(t,!1,function(){return w.a}),i.d(t,!1,function(){return c.SanitizeHTMLValueConverter}),i.d(t,!1,function(){return h.Replaceable}),i.d(t,!1,function(){return d.Focus}),i.d(t,!1,function(){return y.AttrBindingBehavior}),i.d(t,!1,function(){return C.OneTimeBindingBehavior}),i.d(t,!1,function(){return C.OneWayBindingBehavior}),i.d(t,!1,function(){return C.TwoWayBindingBehavior}),i.d(t,!1,function(){return _.ThrottleBindingBehavior}),i.d(t,!1,function(){return x.DebounceBindingBehavior}),i.d(t,!1,function(){return k.SelfBindingBehavior}),i.d(t,!1,function(){return S.SignalBindingBehavior}),i.d(t,!1,function(){return O.a}),i.d(t,!1,function(){return A.UpdateTriggerBindingBehavior}),i.d(t,!1,function(){return E.a}),i.d(t,!1,function(){return P.a}),i.d(t,!1,function(){return I.a}),i.d(t,!1,function(){return M.a}),i.d(t,!1,function(){return N.a}),i.d(t,!1,function(){return j.a}),i.d(t,!1,function(){return T.a}),i.d(t,!1,function(){return R.a}),i.d(t,!1,function(){return R.g}),i.d(t,!1,function(){return R.b}),i.d(t,!1,function(){return R.d}),i.d(t,!1,function(){return R.f}),i.d(t,!1,function(){return R.e}),i.d(t,!1,function(){return L.a})},"aurelia-templating-resources/attr-binding-behavior":function(e,t,i){"use strict";i.r(t),i.d(t,"AttrBindingBehavior",function(){return n});var r=i(3);let n=class{bind(e,t){e.targetObserver=new r.e(e.target,e.targetProperty)}unbind(e,t){}}},"aurelia-templating-resources/binding-mode-behaviors":function(e,t,i){"use strict";i.r(t),i.d(t,"OneTimeBindingBehavior",function(){return u}),i.d(t,"OneWayBindingBehavior",function(){return c}),i.d(t,"TwoWayBindingBehavior",function(){return h});var r,n,s,o=i(3),a=i(1);let l={bind(e,t,i){e.originalMode=e.mode,e.mode=this.mode},unbind(e,t){e.mode=e.originalMode,e.originalMode=null}},u=Object(a.c)(l)(r=class{constructor(){this.mode=o.n.oneTime}})||r,c=Object(a.c)(l)(n=class{constructor(){this.mode=o.n.oneWay}})||n,h=Object(a.c)(l)(s=class{constructor(){this.mode=o.n.twoWay}})||s},"aurelia-templating-resources/compose":function(e,t,i){"use strict";i.r(t),i.d(t,"Compose",function(){return v});var r,n,s,o,a,l,u,c,h=i(4),d=i(10),p=i(2),f=i(0);function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let v=(r=Object(p.q)("compose"),n=Object(h.c)(f.b.Element,h.a,p.e,p.n,p.m,d.a),r(s=Object(p.r)(s=n((a=m((o=class{constructor(e,t,i,r,n,s){g(this,"model",a,this),g(this,"view",l,this),g(this,"viewModel",u,this),g(this,"swapOrder",c,this),this.element=e,this.container=t,this.compositionEngine=i,this.viewSlot=r,this.viewResources=n,this.taskQueue=s,this.currentController=null,this.currentViewModel=null}created(e){this.owningView=e}bind(e,t){this.bindingContext=e,this.overrideContext=t,w(this,b(this,{view:this.view,viewModel:this.viewModel,model:this.model}))}unbind(e,t){this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)}modelChanged(e,t){this.currentInstruction?this.currentInstruction.model=e:this.taskQueue.queueMicroTask(()=>{if(this.currentInstruction)return void(this.currentInstruction.model=e);let t=this.currentViewModel;t&&"function"==typeof t.activate&&t.activate(e)})}viewChanged(e,t){let i=b(this,{view:e,viewModel:this.currentViewModel||this.viewModel,model:this.model});this.currentInstruction?this.currentInstruction=i:(this.currentInstruction=i,this.taskQueue.queueMicroTask(()=>w(this,this.currentInstruction)))}viewModelChanged(e,t){let i=b(this,{viewModel:e,view:this.view,model:this.model});this.currentInstruction?this.currentInstruction=i:(this.currentInstruction=i,this.taskQueue.queueMicroTask(()=>w(this,this.currentInstruction)))}}).prototype,"model",[p.o],{enumerable:!0,initializer:null}),l=m(o.prototype,"view",[p.o],{enumerable:!0,initializer:null}),u=m(o.prototype,"viewModel",[p.o],{enumerable:!0,initializer:null}),c=m(o.prototype,"swapOrder",[p.o],{enumerable:!0,initializer:null}),s=o))||s)||s)||s);function b(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element,swapOrder:e.swapOrder})}function w(e,t){e.currentInstruction=null,e.compositionEngine.compose(t).then(t=>{e.currentController=t,e.currentViewModel=t?t.viewModel:null})}},"aurelia-templating-resources/debounce-binding-behavior":function(e,t,i){"use strict";i.r(t),i.d(t,"DebounceBindingBehavior",function(){return s});var r=i(3);function n(e){let t=this.debounceState;if(t.immediate)return t.immediate=!1,void this.debouncedMethod(e);clearTimeout(t.timeoutId),t.timeoutId=setTimeout(()=>this.debouncedMethod(e),t.delay)}let s=class{bind(e,t,i=200){let s="updateTarget";e.callSource?s="callSource":e.updateSource&&e.mode===r.n.twoWay&&(s="updateSource"),e.debouncedMethod=e[s],e.debouncedMethod.originalName=s,e[s]=n,e.debounceState={delay:i,timeoutId:null,immediate:"updateTarget"===s}}unbind(e,t){e[e.debouncedMethod.originalName]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null}}},"aurelia-templating-resources/focus":function(e,t,i){"use strict";i.r(t),i.d(t,"Focus",function(){return u});var r,n=i(2),s=i(3),o=i(4),a=i(10),l=i(0);let u=Object(n.p)("focus",s.n.twoWay)(r=Object(o.c)(l.b.Element,a.a)(r=class{constructor(e,t){this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1,this.focusListener=(e=>{this.value=!0}),this.blurListener=(e=>{l.b.activeElement!==this.element&&(this.value=!1)})}valueChanged(e){this.isAttached?this._apply():this.needsApply=!0}_apply(){this.value?this.taskQueue.queueMicroTask(()=>{this.value&&this.element.focus()}):this.element.blur()}attached(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)}detached(){this.isAttached=!1,this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)}})||r)||r},"aurelia-templating-resources/hide":function(e,t,i){"use strict";i.r(t),i.d(t,"Hide",function(){return l});var r,n=i(4),s=i(2),o=i(0),a=i(11);let l=Object(s.p)("hide")(r=Object(n.c)(o.b.Element,s.a,n.b.of(o.b.boundary,!0))(r=class{constructor(e,t,i){this.element=e,this.animator=t,this.domBoundary=i}created(){Object(a.b)(this.domBoundary)}valueChanged(e){e?this.animator.addClass(this.element,a.a):this.animator.removeClass(this.element,a.a)}bind(e){this.valueChanged(this.value)}})||r)||r},"aurelia-templating-resources/if":function(e,t,i){"use strict";i.r(t),i.d(t,"If",function(){return l});var r,n,s,o=i(2),a=i(4);let l=(r=Object(o.p)("if"),n=Object(a.c)(o.d,o.n),r(s=Object(o.t)(s=n(s=class{constructor(e,t){this.viewFactory=e,this.viewSlot=t,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}bind(e,t){this.bindingContext=e,this.overrideContext=t,this.valueChanged(this.value)}valueChanged(e){if(this.__queuedChanges)return void this.__queuedChanges.push(e);let t=this._runValueChanged(e);if(t instanceof Promise){let e=this.__queuedChanges=[],i=()=>{if(!e.length)return void(this.__queuedChanges=void 0);(this._runValueChanged(e.shift())||Promise.resolve()).then(i)};t.then(i)}}_runValueChanged(e){if(!e){let e;return null!==this.view&&this.showing&&((e=this.viewSlot.remove(this.view))instanceof Promise?e.then(()=>this.view.unbind()):this.view.unbind()),this.showing=!1,e}if(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),!this.showing)return this.showing=!0,this.viewSlot.add(this.view)}unbind(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))}})||s)||s)||s)},"aurelia-templating-resources/repeat":function(e,t,i){"use strict";i.r(t),i.d(t,"Repeat",function(){return y});var r,n,s,o,a,l,u,c,h=i(4),d=i(3),p=i(2),f=i(22),g=i(5),m=i(12),v=i(16);function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i,r,n){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let y=(r=Object(p.p)("repeat"),n=Object(h.c)(p.d,p.i,p.n,p.m,d.i,f.a),r(s=Object(p.t)(s=n((a=w((o=class extends v.a{constructor(e,t,i,r,n,s){super({local:"item",viewsRequireLifecycle:Object(m.a)(e)}),b(this,"items",a,this),b(this,"local",l,this),b(this,"key",u,this),b(this,"value",c,this),this.viewFactory=e,this.instruction=t,this.viewSlot=i,this.lookupFunctions=r.lookupFunctions,this.observerLocator=n,this.key="key",this.value="value",this.strategyLocator=s,this.ignoreMutation=!1,this.sourceExpression=Object(g.b)(this.instruction,"repeat.for"),this.isOneTime=Object(g.d)(this.sourceExpression),this.viewsRequireLifecycle=Object(m.a)(e)}call(e,t){this[e](this.items,t)}bind(e,t){this.scope={bindingContext:e,overrideContext:t},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()}unbind(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()}_unsubscribeCollection(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)}itemsChanged(){if(this._unsubscribeCollection(),!this.scope)return;let e=this.items;if(this.strategy=this.strategyLocator.getStrategy(e),!this.strategy)throw new Error(`Value for '${this.sourceExpression}' is non-repeatable`);this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,e)}_getInnerCollection(){let e=Object(g.e)(this.sourceExpression);return e?e.evaluate(this.scope,null):null}handleCollectionMutated(e,t){this.collectionObserver&&this.strategy.instanceMutated(this,e,t)}handleInnerCollectionMutated(e,t){if(!this.collectionObserver)return;if(this.ignoreMutation)return;this.ignoreMutation=!0;let i=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(()=>this.ignoreMutation=!1),i===this.items?this.itemsChanged():this.items=i}_observeInnerCollection(){let e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))}_observeCollection(){let e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))}_captureAndRemoveMatcherBinding(){if(this.viewFactory.viewFactory){const e=this.viewFactory.viewFactory.instructions,t=Object.keys(e);for(let i=0;i<t.length;i++){const r=e[t[i]].expressions;if(r)for(let e=0;i<r.length;i++)if("matcher"===r[e].targetProperty){const t=r[e];return r.splice(e,1),t}}}}viewCount(){return this.viewSlot.children.length}views(){return this.viewSlot.children}view(e){return this.viewSlot.children[e]}matcher(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null}addView(e,t){let i=this.viewFactory.create();i.bind(e,t),this.viewSlot.add(i)}insertView(e,t,i){let r=this.viewFactory.create();r.bind(t,i),this.viewSlot.insert(e,r)}moveView(e,t){this.viewSlot.move(e,t)}removeAllViews(e,t){return this.viewSlot.removeAll(e,t)}removeViews(e,t,i){return this.viewSlot.removeMany(e,t,i)}removeView(e,t,i){return this.viewSlot.removeAt(e,t,i)}updateBindings(e){let t=e.bindings.length;for(;t--;)Object(g.f)(e.bindings[t]);for(t=e.controllers.length;t--;){let i=e.controllers[t].boundProperties.length;for(;i--;){let r=e.controllers[t].boundProperties[i].binding;Object(g.f)(r)}}}}).prototype,"items",[p.o],{enumerable:!0,initializer:null}),l=w(o.prototype,"local",[p.o],{enumerable:!0,initializer:null}),u=w(o.prototype,"key",[p.o],{enumerable:!0,initializer:null}),c=w(o.prototype,"value",[p.o],{enumerable:!0,initializer:null}),s=o))||s)||s)||s)},"aurelia-templating-resources/replaceable":function(e,t,i){"use strict";i.r(t),i.d(t,"Replaceable",function(){return l});var r,n,s,o=i(4),a=i(2);let l=(r=Object(a.p)("replaceable"),n=Object(o.c)(a.d,a.n),r(s=Object(a.t)(s=n(s=class{constructor(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}bind(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)}unbind(){this.view.unbind()}})||s)||s)||s)},"aurelia-templating-resources/sanitize-html":function(e,t,i){"use strict";i.r(t),i.d(t,"SanitizeHTMLValueConverter",function(){return a});var r,n=i(3),s=i(4),o=i(15);let a=Object(n.w)("sanitizeHTML")(r=Object(s.c)(o.a)(r=class{constructor(e){this.sanitizer=e}toView(e){return null===e||void 0===e?null:this.sanitizer.sanitize(e)}})||r)||r},"aurelia-templating-resources/self-binding-behavior":function(e,t,i){"use strict";function r(e){let t=function(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}(e);this.target===t&&this.selfEventCallSource(e)}i.r(t),i.d(t,"SelfBindingBehavior",function(){return n});let n=class{bind(e,t){if(!e.callSource||!e.targetEvent)throw new Error("Self binding behavior only supports event.");e.selfEventCallSource=e.callSource,e.callSource=r}unbind(e,t){e.callSource=e.selfEventCallSource,e.selfEventCallSource=null}}},"aurelia-templating-resources/show":function(e,t,i){"use strict";i.r(t),i.d(t,"Show",function(){return l});var r,n=i(4),s=i(2),o=i(0),a=i(11);let l=Object(s.p)("show")(r=Object(n.c)(o.b.Element,s.a,n.b.of(o.b.boundary,!0))(r=class{constructor(e,t,i){this.element=e,this.animator=t,this.domBoundary=i}created(){Object(a.b)(this.domBoundary)}valueChanged(e){e?this.animator.removeClass(this.element,a.a):this.animator.addClass(this.element,a.a)}bind(e){this.valueChanged(this.value)}})||r)||r},"aurelia-templating-resources/signal-binding-behavior":function(e,t,i){"use strict";i.r(t),i.d(t,"SignalBindingBehavior",function(){return n});var r=i(14);let n=class{static inject(){return[r.a]}constructor(e){this.signals=e.signals}bind(e,t){if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){let t=arguments[2];(this.signals[t]||(this.signals[t]=[])).push(e),e.signalName=t}else{if(!(arguments.length>3))throw new Error("Signal name is required.");{let t=Array.prototype.slice.call(arguments,2),i=t.length;for(;i--;){let r=t[i];(this.signals[r]||(this.signals[r]=[])).push(e)}e.signalName=t}}}unbind(e,t){let i=e.signalName;if(e.signalName=null,Array.isArray(i)){let t=i,r=t.length;for(;r--;){let i=t[r],n=this.signals[i];n.splice(n.indexOf(e),1)}}else{let t=this.signals[i];t.splice(t.indexOf(e),1)}}}},"aurelia-templating-resources/throttle-binding-behavior":function(e,t,i){"use strict";i.r(t),i.d(t,"ThrottleBindingBehavior",function(){return s});var r=i(3);function n(e){let t=this.throttleState,i=+new Date-t.last;if(i>=t.delay)return clearTimeout(t.timeoutId),t.timeoutId=null,t.last=+new Date,void this.throttledMethod(e);t.newValue=e,null===t.timeoutId&&(t.timeoutId=setTimeout(()=>{t.timeoutId=null,t.last=+new Date,this.throttledMethod(t.newValue)},t.delay-i))}let s=class{bind(e,t,i=200){let s="updateTarget";e.callSource?s="callSource":e.updateSource&&e.mode===r.n.twoWay&&(s="updateSource"),e.throttledMethod=e[s],e.throttledMethod.originalName=s,e[s]=n,e.throttleState={delay:i,last:0,timeoutId:null}}unbind(e,t){e[e.throttledMethod.originalName]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null}}},"aurelia-templating-resources/update-trigger-binding-behavior":function(e,t,i){"use strict";i.r(t),i.d(t,"UpdateTriggerBindingBehavior",function(){return a});var r,n,s=i(3);const o="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";let a=(n=r=class{constructor(e){this.eventManager=e}bind(e,t,...i){if(0===i.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(e.mode!==s.n.twoWay)throw new Error(o);let r=e.observerLocator.getObserver(e.target,e.targetProperty);if(!r.handler)throw new Error(o);e.targetObserver=r,r.originalHandler=e.targetObserver.handler;let n=this.eventManager.createElementHandler(i);r.handler=n}unbind(e,t){e.targetObserver.handler=e.targetObserver.originalHandler,e.targetObserver.originalHandler=null}},r.inject=[s.f],n)},"aurelia-templating-resources/with":function(e,t,i){"use strict";i.r(t),i.d(t,"With",function(){return u});var r,n,s,o=i(4),a=i(2),l=i(3);let u=(r=Object(a.p)("with"),n=Object(o.c)(a.d,a.n),r(s=Object(a.t)(s=n(s=class{constructor(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}bind(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)}valueChanged(e){let t=Object(l.q)(e,this.parentOverrideContext);this.view?this.view.bind(e,t):(this.view=this.viewFactory.create(),this.view.bind(e,t),this.viewSlot.add(this.view))}unbind(){this.parentOverrideContext=null,this.view&&this.view.unbind()}})||s)||s)||s)},"aurelia-templating-router":function(e,t,i){"use strict";i(0);var r,n=i(9),s=i(4),o=i(2),a=i(7),l=i(1),u=i("aurelia-templating-router/router-view");let c=Object(s.c)(o.e)(r=class extends n.b{constructor(e){super(),this.compositionEngine=e}loadRoute(e,t){let i=e.container.createChild(),r={viewModel:/\.html/.test(t.moduleId)?function(e){var t,i,r;let n=/([^\/^\?]+)\.html/i.exec(e)[1];return t=Object(o.q)(n),i=Object(o.u)(e),t(r=i(r=class{bind(e){this.$parent=e}})||r)||r}(t.moduleId):Object(a.d)(t.moduleId,l.a.get(e.container.viewModel.constructor).moduleId),childContainer:i,view:t.view||t.viewStrategy,router:e};return i.registerSingleton(u.RouterViewLocator),i.getChildRouter=function(){let t;return i.registerHandler(n.c,r=>t||(t=e.createChild(i))),i.get(n.c)},this.compositionEngine.ensureViewModel(r)}})||r;var h=i("aurelia-templating-router/route-href");function d(e){e.singleton(n.b,c).singleton(n.c,n.a).globalResources("./router-view","./route-href"),e.container.registerAlias(n.c,n.a)}i.d(t,"configure",function(){return d}),i.d(t,!1,function(){return c}),i.d(t,!1,function(){return u.RouterView}),i.d(t,!1,function(){return h.RouteHref})},"aurelia-templating-router/route-href":function(e,t,i){"use strict";i.r(t),i.d(t,"RouteHref",function(){return u});var r,n=i(2),s=i(4),o=i(9),a=i(0);const l=i(6).getLogger("route-href");let u=Object(n.p)("route-href")(r=Object(n.o)({name:"route",changeHandler:"processChange"})(r=Object(n.o)({name:"params",changeHandler:"processChange"})(r=Object(n.o)({name:"attribute",defaultValue:"href"})(r=Object(s.c)(o.c,a.b.Element)(r=class{constructor(e,t){this.router=e,this.element=t}bind(){this.isActive=!0,this.processChange()}unbind(){this.isActive=!1}attributeChanged(e,t){t&&this.element.removeAttribute(t),this.processChange()}processChange(){return this.router.ensureConfigured().then(()=>{if(!this.isActive)return null;let e=this.router.generate(this.route,this.params);return this.element.au.controller?this.element.au.controller.viewModel[this.attribute]=e:this.element.setAttribute(this.attribute,e),null}).catch(e=>{l.error(e)})}})||r)||r)||r)||r)||r},"aurelia-templating-router/router-view":function(e,t,i){"use strict";i.r(t),i.d(t,"RouterView",function(){return w}),i.d(t,"RouterViewLocator",function(){return y});var r,n,s,o,a,l,u,c,h=i(4),d=i(3),p=i(2),f=i(9),g=i(1),m=i(0);function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let w=(r=Object(p.q)("router-view"),n=Object(h.c)(m.b.Element,h.a,p.n,f.c,p.l,p.f,p.e),r(s=Object(p.r)(s=n((a=b((o=class{constructor(e,t,i,r,n,s,o){v(this,"swapOrder",a,this),v(this,"layoutView",l,this),v(this,"layoutViewModel",u,this),v(this,"layoutModel",c,this),this.element=e,this.container=t,this.viewSlot=i,this.router=r,this.viewLocator=n,this.compositionTransaction=s,this.compositionEngine=o,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in s||(s.initialComposition=!0,this.compositionTransactionNotifier=s.enlist())}created(e){this.owningView=e}bind(e,t){this.container.viewModel=e,this.overrideContext=t}process(e,t){let i=e.component,r=i.childContainer,n=i.viewModel,s=i.viewModelResource,o=s.metadata,a=i.router.currentInstruction.config,l=a.viewPorts?a.viewPorts[e.name]:{};r.get(y)._notify(this);let u={viewModel:l.layoutViewModel||a.layoutViewModel||this.layoutViewModel,view:l.layoutView||a.layoutView||this.layoutView,model:l.layoutModel||a.layoutModel||this.layoutModel,router:e.component.router,childContainer:r,viewSlot:this.viewSlot},c=this.viewLocator.getViewStrategy(i.view||n);return c&&i.view&&c.makeRelativeTo(g.a.get(i.router.container.viewModel.constructor).moduleId),o.load(r,s.value,null,c,!0).then(i=>{this.compositionTransactionNotifier||(this.compositionTransactionOwnershipToken=this.compositionTransaction.tryCapture()),(u.viewModel||u.view)&&(e.layoutInstruction=u),e.controller=o.create(r,p.b.dynamic(this.element,n,i)),t||this.swap(e)})}swap(e){let t=e.layoutInstruction,i=this.view,r=()=>{let e=p.h[this.swapOrder]||p.h.after,t=this.viewSlot;e(t,i,()=>Promise.resolve(t.add(this.view))).then(()=>{this._notify()})},n=t=>(e.controller.automate(this.overrideContext,t),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>(this.compositionTransactionOwnershipToken=null,r())):r());return t?(t.viewModel||(t.viewModel={}),this.compositionEngine.createController(t).then(i=>(p.g.distributeView(e.controller.view,i.slots||i.view.slots),i.automate(Object(d.q)(t.viewModel),this.owningView),i.view.children.push(e.controller.view),i.view||i)).then(e=>(this.view=e,n(e)))):(this.view=e.controller.view,n(this.owningView))}_notify(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)}}).prototype,"swapOrder",[p.o],{enumerable:!0,initializer:null}),l=b(o.prototype,"layoutView",[p.o],{enumerable:!0,initializer:null}),u=b(o.prototype,"layoutViewModel",[p.o],{enumerable:!0,initializer:null}),c=b(o.prototype,"layoutModel",[p.o],{enumerable:!0,initializer:null}),s=o))||s)||s)||s),y=class{constructor(){this.promise=new Promise(e=>this.resolve=e)}findNearest(){return this.promise}_notify(e){this.resolve(e)}}},"converters/upper":function(e,t,i){"use strict";i.r(t),i.d(t,"UpperValueConverter",function(){return r});class r{toView(e){return e&&e.toUpperCase()}}},"customElements/hello-tag":function(e,t,i){"use strict";i.r(t);Object.setPrototypeOf||Array;Object.assign;var r=i("aurelia-framework");i.d(t,"HelloTagCustomElement",function(){return n});class n{}!function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);s>3&&o&&Object.defineProperty(t,i,o)}([r.c],n.prototype,"name",void 0)},"customElements/hello-tag.html":function(e,t){e.exports='<template>\r\n  <div class="tag-header">\r\n    HELLO<br>\r\n    MY NAME IS\r\n  </div>\r\n  <div class="tag-body">${name}</div>\r\n</template>'},main:function(e,t,i){"use strict";i.d(t,"configure",function(){return n});var r=i("aurelia-framework");function n(e){e.use.standardConfiguration().developmentLogging().globalResources("converters/upper").postTask(e=>{let t=e.container.get(r.b);t._pluginMap[".less"]=t._pluginMap[".css"]}),e.start().then(()=>e.setRoot("app"))}},"style.less":function(e,t,i){(e.exports=i(30)(!1)).push([e.i,'body {\n  font-family: "Segoe UI", Arial, Sans;\n}\nhello-tag {\n  border: solid 1px #a00;\n  border-radius: 5px;\n  display: block;\n  width: 200px;\n  margin: 20px;\n  transform: rotate(-5deg);\n}\n.tag-header {\n  color: #fff;\n  background: #a00;\n  font-weight: bold;\n  text-align: center;\n  padding: 8px;\n}\n.tag-body {\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n  font-family: cursive;\n  font-size: 1.3em;\n}\n',""])}});