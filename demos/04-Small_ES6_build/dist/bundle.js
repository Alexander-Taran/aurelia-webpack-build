var _Mathpow=Math.pow,_StringfromCharCode=String.fromCharCode,_Mathmin=Math.min,_Stringprototype=String.prototype,_NumberisFinite=Number.isFinite,_NumberisNaN=Number.isNaN,_Mathfloor=Math.floor;(function(u){function h(A){if(w[A])return w[A].exports;var I=w[A]={i:A,l:!1,exports:{}};return u[A].call(I.exports,I,I.exports,h),I.l=!0,I.exports}var w={};return h.m=u,h.c=w,h.i=function(A){return A},h.d=function(A,I,N){h.o(A,I)||Object.defineProperty(A,I,{configurable:!1,enumerable:!0,get:N})},h.n=function(A){var I=A&&A.__esModule?function(){return A['default']}:function(){return A};return h.d(I,'a',I),I},h.o=function(A,I){return Object.prototype.hasOwnProperty.call(A,I)},h.p='/dist/',h(h.s=43)})({0:function(u,h,w){'use strict';(function(A){h.e=function(F,D,z){if(D){if(D.innerError&&z)return D;const U='\n------------------------------------------------\n';F+=`${U}Inner Error:\n`,'string'==typeof D?F+=`Message: ${D}`:(F+=D.message?`Message: ${D.message}`:`Unknown Inner Error Type. Displaying Inner Error as JSON:\n ${JSON.stringify(D,null,'  ')}`,D.stack&&(F+=`\nInner Error Stack:\n${D.stack}`,F+='\nEnd Inner Error Stack')),F+=U}let H=new Error(F);return D&&(H.innerError=D),H},w.d(h,'b',function(){return B}),h.f=function(F){B||(B=!0,'function'!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(D,z){let H=Object.getOwnPropertyDescriptor(D,z),U=Object.getPrototypeOf(D);for(;'undefined'==typeof H&&null!==U;)H=Object.getOwnPropertyDescriptor(U,z),U=Object.getPrototypeOf(U);return H}),F(T,M,V))};const M={};h.d=M;const T={noop(){},eachModule(){},moduleName(F){return F}};h.a=T,T.global=function(){return'undefined'==typeof self?'undefined'==typeof A?new Function('return this')():A:self}();const V={};h.c=V;let B=!1}).call(h,w(12))},1:function(u,h,w){'use strict';function A(kn){return'-'+kn.toLowerCase()}function I(kn){return(kn.charAt(0).toLowerCase()+kn.slice(1)).replace(Ct,A)}function N(kn){return!(kn.auInterpolationTarget||/[^\t\n\r ]/.test(kn.textContent))}function M(kn){throw new Error(`BindingLanguage must implement ${kn}().`)}function T(kn,_n,Cn,Sn){if(_n){let An=kn[_n];if(An){if(An!==Cn)throw new Error(`Attempted to register ${Sn} when one with the same name already exists. Name: ${_n}.`);return}kn[_n]=Cn}}function V(kn){if(kn.animatableElement!==void 0)return kn.animatableElement;let _n=kn.firstChild;for(;_n&&1!==_n.nodeType;)_n=_n.nextSibling;return _n&&1===_n.nodeType?kn.animatableElement=_n.classList.contains('au-animate')?_n:null:kn.animatableElement=null}function B(kn){if(kn===Oe.c.Element)return this.element;if(kn===Gt){if(this.boundViewFactory)return this.boundViewFactory;let _n=this.instruction.viewFactory,Cn=this.partReplacements;return Cn&&(_n=Cn[_n.part]||_n),this.boundViewFactory=new Gt(this,_n,Cn),this.boundViewFactory}return kn===Qt?(void 0===this.viewSlot&&(this.viewSlot=new Qt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):kn===At?this.elementEvents||(this.elementEvents=new At(this.element)):kn===_t?this.compositionTransaction||(this.compositionTransaction=this.parent.get(kn)):kn===Ut?this.viewResources:kn===Nt?this.instruction:this.superGet(kn)}function F(kn,_n,Cn,Sn,An,Pn){let In=kn.createChild(),En,Nn;for(In.element=_n,In.instruction=Cn,In.children=Sn,In.viewResources=Pn,In.partReplacements=An,En=Cn.providers,Nn=En.length;Nn--;)In._resolvers.set(En[Nn],Kt);return In.superGet=In.get,In.get=B,In}function D(kn){return this._element.hasAttribute(kn)}function z(kn){return this._element.getAttribute(kn)}function H(kn,_n){this._element.setAttribute(kn,_n)}function U(kn,_n){let Cn=Oe.c.createComment('anchor');if(_n){let Sn=kn.firstChild;Sn&&'AU-CONTENT'===Sn.tagName&&(Cn.contentElement=Sn),Cn._element=kn,Cn.hasAttribute=D,Cn.getAttribute=z,Cn.setAttribute=H}return Oe.c.replaceNode(Cn,kn),Cn}function W(kn,_n,Cn,Sn,An,Pn,In,En,Nn){let Rn=Cn.behaviorInstructions,Mn=Cn.expressions,On,Ln,Tn,Vn,Bn;if(Cn.contentExpression)return An.push(Cn.contentExpression.createBinding(_n.nextSibling)),_n.nextSibling.auInterpolationTarget=!0,void _n.parentNode.removeChild(_n);if(Cn.shadowSlot){let jn=Oe.c.createComment('slot'),Fn;return Fn=Cn.slotDestination?new Dt(jn,Cn.slotName,Cn.slotDestination,Cn.slotFallbackFactory):new zt(jn,Cn.slotName,Cn.slotFallbackFactory),Oe.c.replaceNode(jn,_n),In[Cn.slotName]=Fn,void Sn.push(Fn)}if(Rn.length)for(Cn.anchorIsContainer||(_n=U(_n,Cn.elementInstruction)),kn[Cn.injectorId]=On=F(kn[Cn.parentInjectorId],_n,Cn,Pn,En,Nn),(Ln=0,Tn=Rn.length);Ln<Tn;++Ln)Vn=Rn[Ln],Bn=Vn.type.create(On,Vn,_n,An),Sn.push(Bn);for(Ln=0,Tn=Mn.length;Ln<Tn;++Ln)An.push(Mn[Ln].createBinding(_n))}function Q(kn,_n){let Cn=kn.split(';'),Sn,An,Pn,In,En;for(_n=_n||{},An=0;An<Cn.length;An++)Pn=Cn[An],Sn=Pn.indexOf(':'),In=Pn.substring(0,Sn).trim(),En=Pn.substring(Sn+1).trim(),_n[In]=En;return _n}function Y(kn){let _n='';for(let Cn in kn)_n+=Cn+':'+kn[Cn]+';';return _n}function K(kn,_n,Cn,Sn,An,Pn){let In=Cn.behaviorInstructions,En=Cn.expressions,Nn=Cn.providers,Rn=Cn.values,Mn,On,Ln,Tn,Vn;for(Mn=Nn.length;Mn--;)kn._resolvers.set(Nn[Mn],Kt);for(let Bn in Rn)if(Vn=_n.getAttribute(Bn),!Vn)_n.setAttribute(Bn,Rn[Bn]);else if('class'==Bn)_n.setAttribute('class',Vn+' '+Rn[Bn]);else if('style'==Bn){let jn=Q(Rn[Bn]);Q(Vn,jn),_n.setAttribute('style',Y(jn))}if(In.length)for(Mn=0,On=In.length;Mn<On;++Mn)Ln=In[Mn],Tn=Ln.type.create(kn,Ln,_n,An),Tn.contentView&&Pn.push(Tn.contentView),Sn.push(Tn);for(Mn=0,On=En.length;Mn<On;++Mn)An.push(En[Mn].createBinding(_n))}function $(){return++Jt}function X(){return(++Zt).toString()}function J(kn){let _n=kn.getAttribute('class'),Cn=X();return kn.setAttribute('class',_n?_n+' au-target':'au-target'),kn.setAttribute('au-target-id',Cn),Cn}function Z(kn,_n,Cn,Sn,An){let Pn=Oe.c.createElement('au-shadow-slot');Oe.c.replaceNode(Pn,Cn);let In=J(Pn),En=Nt.shadowSlot(An);if(En.slotName=Cn.getAttribute('name')||Ht.defaultSlotKey,En.slotDestination=Cn.getAttribute('slot'),Cn.innerHTML.trim()){let Nn=Oe.c.createDocumentFragment(),Rn;for(;Rn=Cn.firstChild;)Nn.appendChild(Rn);En.slotFallbackFactory=kn.compile(Nn,_n)}return Sn[In]=En,Pn}function ee(kn,_n){return _n instanceof Te.b?Promise.resolve(_n):kn.loadTemplate(_n)}function te(kn,_n,Cn){let Sn=_n.__observers__;return void 0===Sn&&(!kn.isInitialized&&kn.initialize(Ve.a.instance||new Ve.a,_n.constructor),Sn=kn.observerLocator.getOrCreateObserversLookup(_n),kn._ensurePropertiesDefined(_n,Sn)),Sn[Cn]}function ne(){return++cn}function re(){return!0}function ie(){}function le(kn,_n,Cn){let Sn=kn.get(_n);Sn||(Sn=[],kn.set(_n,Sn)),Sn.push(Cn)}function de(kn,_n){let Cn=_n.binders,Sn=Cn.length,An=new Map;for(let Pn=0,In=kn.length;Pn<In;++Pn){let En=kn[Pn],Nn=En.addedNodes,Rn=En.removedNodes;for(let Mn=0,On=Rn.length,Ln;Mn<On;++Mn)if(Ln=Rn[Mn],1===Ln.nodeType)for(let Tn=0,Vn;Tn<Sn;++Tn)Vn=Cn[Tn],Vn.onRemove(Ln)&&le(An,Vn,En);for(let Mn=0,On=Nn.length,Ln;Mn<On;++Mn)if(Ln=Nn[Mn],1===Ln.nodeType)for(let Tn=0,Vn;Tn<Sn;++Tn)Vn=Cn[Tn],Vn.onAdd(Ln)&&le(An,Vn,En)}An.forEach((Pn,In)=>{null!==In.changeHandler&&In.viewModel[In.changeHandler](Pn)})}function ue(kn,_n){return Array.isArray(_n)?kn.removeMany(_n,!0):kn.remove(_n,!0)}function ce(kn){return kn.skipActivation||'function'!=typeof kn.viewModel.activate?Promise.resolve():kn.viewModel.activate(kn.model)||Promise.resolve()}function pe(kn,_n){if(/[A-Z]/.test(kn)){let Cn=I(kn);return Re.getLogger('templating').warn(`'${kn}' is not a valid ${_n} name and has been converted to '${Cn}'. Upper-case letters are not allowed because the DOM is not case-sensitive.`),Cn}return kn}function Se(kn){return function(_n){Me.a.define(Bt.viewStrategyMetadataKey,kn,_n)}}var Re=w(5),Me=w(4),Oe=w(0),Le=w(6),Te=w(8),Ve=w(2),Be=w(3),je=w(9);w.d(h,'o',function(){return xt}),w.d(h,'d',function(){return _t}),w.d(h,'s',function(){return Et}),w.d(h,'n',function(){return Nt}),w.d(h,'r',function(){return Bt}),w.d(h,'b',function(){return jt}),w.d(h,'u',function(){return Ht}),w.d(h,'a',function(){return Ut}),w.d(h,'e',function(){return Qt}),w.d(h,'l',function(){return Gt}),w.d(h,'f',function(){return sn}),w.d(h,'h',function(){return bn}),h.p=function(kn){return function(_n){Me.a.define(Me.a.resource,kn,_n)}},h.g=function(kn){return function(_n){let Cn=Me.a.getOrCreateOwn(Me.a.resource,pn,_n);Cn.elementName=pe(kn,'custom element')}},h.k=function(kn,_n){return function(Cn){let Sn=Me.a.getOrCreateOwn(Me.a.resource,pn,Cn);Sn.attributeName=pe(kn,'custom attribute'),Sn.attributeDefaultBindingMode=_n}},h.m=function(kn){let _n=function(Cn){let Sn=Me.a.getOrCreateOwn(Me.a.resource,pn,Cn);Sn.liftsContent=!0};return kn?_n(kn):_n},h.j=function(kn,_n,Cn){let Sn=function(An,Pn,In){let En=Pn?An.constructor:An,Nn=Me.a.getOrCreateOwn(Me.a.resource,pn,En),Rn;return Pn&&(kn=kn||{},kn.name=Pn),Rn=new un(kn),Rn.registerWith(En,Nn,In)};if(!kn)return Sn;if(_n){let An=kn;return kn=null,Sn(An,_n,Cn)}return Sn},h.q=function(kn){return Se(new Mt(kn))},h.i=function(kn,_n){let Cn,Sn;'function'==typeof kn?Cn=kn:(Sn=kn,Cn=void 0);let An=function(Pn){Me.a.define(Bt.viewStrategyMetadataKey,new Lt(Sn,_n),Pn)};return Cn?An(Cn):An},w.d(h,'c',function(){return wn});var Fe,qe,De,ze,He,Ue,We,Qe,Ye,Ke,Ge,Xe,Je,Ze,et,tt,nt,at,ot,st,lt,dt,ut,ct,pt,gt,mt,ht,ft,vt,bt;let xt=class{enter(){return Promise.resolve(!1)}leave(){return Promise.resolve(!1)}removeClass(_n,Cn){return _n.classList.remove(Cn),Promise.resolve(!1)}addClass(_n,Cn){return _n.classList.add(Cn),Promise.resolve(!1)}animate(){return Promise.resolve(!1)}runSequence(){}registerEffect(){}unregisterEffect(){}},wt=class{constructor(_n){this.owner=_n,this.owner._compositionCount++}done(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()}},kt=class{constructor(_n){this.owner=_n,this.owner._ownershipToken=this,this.thenable=this._createThenable()}waitForCompositionComplete(){return this.owner._tryCompleteTransaction(),this.thenable}resolve(){this._resolveCallback()}_createThenable(){return new Promise((_n)=>{this._resolveCallback=_n})}},_t=class{constructor(){this._ownershipToken=null,this._compositionCount=0}tryCapture(){return null===this._ownershipToken?new kt(this):null}enlist(){return new wt(this)}_tryCompleteTransaction(){if(0>=this._compositionCount&&(this._compositionCount=0,null!==this._ownershipToken)){let _n=this._ownershipToken;this._ownershipToken=null,_n.resolve()}}};const Ct=/([A-Z])/g;let St=class kn{constructor(){}initialize(_n,Cn){this.instance=_n.get(Cn)}register(_n){_n.registerViewEngineHooks(this.instance)}load(){}static convention(_n){if(_n.endsWith('ViewEngineHooks'))return new kn}},At=class{constructor(_n){this.element=_n,this.subscriptions={}}_enqueueHandler(_n){this.subscriptions[_n.eventName]=this.subscriptions[_n.eventName]||[],this.subscriptions[_n.eventName].push(_n)}_dequeueHandler(_n){let Sn=this.subscriptions[_n.eventName],Cn;return Sn&&(Cn=Sn.indexOf(_n),-1<Cn&&Sn.splice(Cn,1)),_n}publish(_n,Cn={},Sn=!0,An=!0){let Pn=Oe.c.createCustomEvent(_n,{cancelable:An,bubbles:Sn,detail:Cn});this.element.dispatchEvent(Pn)}subscribe(_n,Cn,Sn=!0){return Cn&&'function'==typeof Cn?(Cn.eventName=_n,Cn.handler=Cn,Cn.bubbles=Sn,Cn.dispose=()=>{this.element.removeEventListener(_n,Cn,Sn),this._dequeueHandler(Cn)},this.element.addEventListener(_n,Cn,Sn),this._enqueueHandler(Cn),Cn):void 0}subscribeOnce(_n,Cn,Sn=!0){if(Cn&&'function'==typeof Cn){let An=(Pn)=>{Cn(Pn),An.dispose()};return this.subscribe(_n,An,Sn)}}dispose(_n){if(_n&&'string'==typeof _n){let Cn=this.subscriptions[_n];if(Cn)for(;Cn.length;){let Sn=Cn.pop();Sn&&Sn.dispose()}}else this.disposeAll()}disposeAll(){for(let _n in this.subscriptions)this.dispose(_n)}},Pt=class{constructor(){this.dependencies={}}addDependency(_n){this.dependencies[_n]=!0}hasDependency(_n){return _n in this.dependencies}},It=class{constructor(_n=!1,Cn=!1){this.targetShadowDOM=_n,this.compileSurrogate=Cn,this.associatedModuleId=null}};It.normal=new It;let Et=class kn{static enhance(){let _n=new kn;return _n.enhance=!0,_n}static unitTest(_n,Cn){let Sn=new kn;return Sn.type=_n,Sn.attributes=Cn||{},Sn}static element(_n,Cn){let Sn=new kn;return Sn.type=Cn,Sn.attributes={},Sn.anchorIsContainer=!(_n.hasAttribute('containerless')||Cn.containerless),Sn.initiatedByBehavior=!0,Sn}static attribute(_n,Cn){let Sn=new kn;return Sn.attrName=_n,Sn.type=Cn||null,Sn.attributes={},Sn}static dynamic(_n,Cn,Sn){let An=new kn;return An.host=_n,An.viewModel=Cn,An.viewFactory=Sn,An.inheritBindingContext=!0,An}constructor(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}};Et.normal=new Et;let Nt=(qe=Fe=class kn{static shadowSlot(_n){let Cn=new kn;return Cn.parentInjectorId=_n,Cn.shadowSlot=!0,Cn}static contentExpression(_n){let Cn=new kn;return Cn.contentExpression=_n,Cn}static lifting(_n,Cn){let Sn=new kn;return Sn.parentInjectorId=_n,Sn.expressions=kn.noExpressions,Sn.behaviorInstructions=[Cn],Sn.viewFactory=Cn.viewFactory,Sn.providers=[Cn.type.target],Sn.lifting=!0,Sn}static normal(_n,Cn,Sn,An,Pn,In){let En=new kn;return En.injectorId=_n,En.parentInjectorId=Cn,En.providers=Sn,En.behaviorInstructions=An,En.expressions=Pn,En.anchorIsContainer=!In||In.anchorIsContainer,En.elementInstruction=In,En}static surrogate(_n,Cn,Sn,An){let Pn=new kn;return Pn.expressions=Sn,Pn.behaviorInstructions=Cn,Pn.providers=_n,Pn.values=An,Pn}constructor(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}},Fe.noExpressions=Object.freeze([]),qe);const Rt=Me.b.create('aurelia:view-strategy',{validate(kn){return!('function'!=typeof kn.loadViewFactory)||'View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>'},compose(kn){'function'==typeof kn.makeRelativeTo||(kn.makeRelativeTo=Oe.a.noop)}});let Mt=(De=Rt(),De(ze=class{constructor(_n){this.path=_n,this.absolutePath=null}loadViewFactory(_n,Cn,Sn,An){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=w.i(Le.a)(this.path,this.moduleId)),Cn.associatedModuleId=this.moduleId,_n.loadViewFactory(this.absolutePath||this.path,Cn,Sn,An)}makeRelativeTo(_n){null===this.absolutePath&&(this.absolutePath=w.i(Le.a)(this.path,_n))}})||ze),Ot=(He=Rt(),He(Ue=class{constructor(_n,Cn){this.moduleId=Cn.moduleId,this.viewUrl=_n.convertOriginToViewUrl(Cn)}loadViewFactory(_n,Cn,Sn,An){return Cn.associatedModuleId=this.moduleId,_n.loadViewFactory(this.viewUrl,Cn,Sn,An)}})||Ue),Lt=(We=Rt(),We(Qe=class{constructor(_n,Cn){this.dependencies=_n||null,this.dependencyBaseUrl=Cn||''}loadViewFactory(_n,Cn,Sn,An){let Pn=this.entry,In=this.dependencies;if(Pn&&Pn.factoryIsReady)return Promise.resolve(null);if(this.entry=Pn=new Te.b(this.moduleId||this.dependencyBaseUrl),Pn.dependencies=[],Pn.templateIsLoaded=!0,null!==In)for(let En=0,Nn=In.length,Rn;En<Nn;++En)Rn=In[En],'string'==typeof Rn||'function'==typeof Rn?Pn.addDependency(Rn):Pn.addDependency(Rn.from,Rn.as);return Cn.associatedModuleId=this.moduleId,_n.loadViewFactory(Pn,Cn,Sn,An)}})||Qe),Tt=(Ye=Rt(),Ye(Ke=class{constructor(_n,Cn){this.moduleId=_n,this.entry=Cn}loadViewFactory(_n,Cn,Sn,An){let Pn=this.entry;return Pn.factoryIsReady?Promise.resolve(Pn.factory):(Cn.associatedModuleId=this.moduleId,_n.loadViewFactory(Pn,Cn,Sn,An))}})||Ke),Vt=(Ge=Rt(),Ge(Xe=class{constructor(_n,Cn,Sn){this.markup=_n,this.dependencies=Cn||null,this.dependencyBaseUrl=Sn||''}loadViewFactory(_n,Cn,Sn,An){let Pn=this.entry,In=this.dependencies;if(Pn&&Pn.factoryIsReady)return Promise.resolve(Pn.factory);if(this.entry=Pn=new Te.b(this.moduleId||this.dependencyBaseUrl),Pn.template=Oe.c.createTemplateFromMarkup(this.markup),null!==In)for(let En=0,Nn=In.length,Rn;En<Nn;++En)Rn=In[En],'string'==typeof Rn||'function'==typeof Rn?Pn.addDependency(Rn):Pn.addDependency(Rn.from,Rn.as);return Cn.associatedModuleId=this.moduleId,_n.loadViewFactory(Pn,Cn,Sn,An)}})||Xe),Bt=(Ze=Je=class kn{getViewStrategy(_n){if(!_n)return null;if('object'==typeof _n&&'getViewStrategy'in _n){let An=Me.c.get(_n.constructor);return _n=_n.getViewStrategy(),'string'==typeof _n&&(_n=new Mt(_n)),Rt.assert(_n),An.moduleId&&_n.makeRelativeTo(An.moduleId),_n}if('string'==typeof _n&&(_n=new Mt(_n)),Rt.validate(_n))return _n;'function'!=typeof _n&&(_n=_n.constructor);let Cn=Me.c.get(_n),Sn=Me.a.get(kn.viewStrategyMetadataKey,_n);if(!Sn){if(!Cn.moduleId)throw new Error('Cannot determine default view strategy for object.',_n);Sn=this.createFallbackViewStrategy(Cn)}else Cn.moduleId&&(Sn.moduleId=Cn.moduleId);return Sn}createFallbackViewStrategy(_n){return new Ot(this,_n)}convertOriginToViewUrl(_n){let Cn=_n.moduleId,Sn=Cn.endsWith('.js')||Cn.endsWith('.ts')?Cn.substring(0,Cn.length-3):Cn;return Sn+'.html'}},Je.viewStrategyMetadataKey='aurelia:view-strategy',Ze),jt=class{inspectAttribute(){M('inspectAttribute')}createAttributeInstruction(){M('createAttributeInstruction')}inspectTextContent(){M('inspectTextContent')}},Ft=Object.freeze([]),qt=(et=w.i(Ve.b)(Oe.c.Element),et(tt=class{constructor(_n){this.element=_n,this.element.auSlotAttribute=this}valueChanged(){}})||tt),Dt=class kn{constructor(_n,Cn,Sn,An){this.anchor=_n,this.anchor.viewSlot=this,this.name=Cn,this.destinationName=Sn,this.fallbackFactory=An,this.destinationSlot=null,this.projections=0,this.contentView=null;let Pn=new qt(this.anchor);Pn.value=this.destinationName}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}renderFallbackContent(_n,Cn,Sn,An){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);let Pn=Object.create(null);Pn[this.destinationSlot.name]=this.destinationSlot,Ht.distributeView(this.contentView,Pn,Sn,An,this.destinationSlot.name)}}passThroughTo(_n){this.destinationSlot=_n}addNode(_n,Cn,Sn,An){return null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),Cn.viewSlot instanceof kn?void Cn.viewSlot.passThroughTo(this):void(this.projections++,this.destinationSlot.addNode(_n,Cn,Sn,An))}removeView(_n,Cn){this.projections--,this.destinationSlot.removeView(_n,Cn),this.needsFallbackRendering&&this.renderFallbackContent(null,Ft,Cn)}removeAll(_n){this.projections=0,this.destinationSlot.removeAll(_n),this.needsFallbackRendering&&this.renderFallbackContent(null,Ft,_n)}projectFrom(_n,Cn){this.destinationSlot.projectFrom(_n,Cn)}created(_n){this.ownerView=_n}bind(_n){this.contentView&&this.contentView.bind(_n.bindingContext,_n.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},zt=class{constructor(_n,Cn,Sn){this.anchor=_n,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=Cn,this.fallbackFactory=Sn,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}get needsFallbackRendering(){return this.fallbackFactory&&0===this.projections}addNode(_n,Cn,Sn,An){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),Cn.viewSlot instanceof Dt)return void Cn.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)Ht.distributeNodes(_n,[Cn],this.destinationSlots,this,An);else{Cn.auOwnerView=_n,Cn.auProjectionSource=Sn,Cn.auAssignedSlot=this;let In=this._findAnchor(_n,Cn,Sn,An),En=In.parentNode;En.insertBefore(Cn,In),this.children.push(Cn),this.projections++}}removeView(_n,Cn){if(null!==this.destinationSlots)Ht.undistributeView(_n,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)Ht.undistributeView(_n,this.contentView.slots,Cn);else{let Sn=this.children.find((An)=>An.auSlotProjectFrom===Cn);if(Sn){let An=Sn.auProjectionChildren;for(let Pn=0,In=An.length,En;Pn<In;++Pn)En=An[Pn],En.auOwnerView===_n&&(An.splice(Pn,1),_n.fragment.appendChild(En),Pn--,In--,this.projections--);this.needsFallbackRendering&&this.renderFallbackContent(_n,Ft,Cn)}}}removeAll(_n){if(null!==this.destinationSlots)Ht.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)Ht.undistributeAll(this.contentView.slots,_n);else{let Cn=this.children.find((Sn)=>Sn.auSlotProjectFrom===_n);if(Cn){let Sn=Cn.auProjectionChildren;for(let An=0,Pn=Sn.length,In;An<Pn;++An)In=Sn[An],In.auOwnerView.fragment.appendChild(In),this.projections--;Cn.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,Ft,_n)}}}_findAnchor(_n,Cn,Sn,An){if(Sn){let Pn=this.children.find((In)=>In.auSlotProjectFrom===Sn);if(Pn){if(void 0!==An){let In=Pn.auProjectionChildren,En=-1,Nn;for(let Rn=0,Mn=In.length,On;Rn<Mn;++Rn)if(On=In[Rn],On.auOwnerView!==Nn&&(En++,Nn=On.auOwnerView,En>=An&&Nn!==_n))return In.splice(Rn,0,Cn),On}return Pn.auProjectionChildren.push(Cn),Pn}}return this.anchor}projectTo(_n){this.destinationSlots=_n}projectFrom(_n,Cn){let Sn=Oe.c.createComment('anchor'),An=this.anchor.parentNode;Sn.auSlotProjectFrom=Cn,Sn.auOwnerView=_n,Sn.auProjectionChildren=[],An.insertBefore(Sn,this.anchor),this.children.push(Sn),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(Sn)}renderFallbackContent(_n,Cn,Sn,An){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){let Pn=this.contentView.slots,In=this.projectFromAnchors;if(null!==In)for(let En in Pn){let Nn=Pn[En];for(let Rn=0,Mn=In.length,On;Rn<Mn;++Rn)On=In[Rn],Nn.projectFrom(On.auOwnerView,On.auSlotProjectFrom)}this.fallbackSlots=Pn,Ht.distributeNodes(_n,Cn,Pn,Sn,An)}}created(_n){this.ownerView=_n}bind(_n){this.contentView&&this.contentView.bind(_n.bindingContext,_n.overrideContext)}attached(){this.contentView&&this.contentView.attached()}detached(){this.contentView&&this.contentView.detached()}unbind(){this.contentView&&this.contentView.unbind()}},Ht=(at=nt=class kn{static getSlotName(_n){return void 0===_n.auSlotAttribute?kn.defaultSlotKey:_n.auSlotAttribute.value}static distributeView(_n,Cn,Sn,An,Pn){let In;if(null===_n)In=Ft;else{let En=_n.fragment.childNodes,Nn=En.length;In=Array(Nn);for(let Rn=0;Rn<Nn;++Rn)In[Rn]=En[Rn]}kn.distributeNodes(_n,In,Cn,Sn,An,Pn)}static undistributeView(_n,Cn,Sn){for(let An in Cn)Cn[An].removeView(_n,Sn)}static undistributeAll(_n,Cn){for(let Sn in _n)_n[Sn].removeAll(Cn)}static distributeNodes(_n,Cn,Sn,An,Pn,In){for(let En=0,Nn=Cn.length;En<Nn;++En){let Rn=Cn[En],Mn=Rn.nodeType;if(Rn.isContentProjectionSource){for(let On in Rn.viewSlot.projectTo(Sn),Sn)Sn[On].projectFrom(_n,Rn.viewSlot);Cn.splice(En,1),Nn--,En--}else if(!(1===Mn||3===Mn||Rn.viewSlot instanceof Dt))Cn.splice(En,1),Nn--,En--;else if(3===Mn&&N(Rn))Cn.splice(En,1),Nn--,En--;else{let On=Sn[In||kn.getSlotName(Rn)];On&&(On.addNode(_n,Rn,An,Pn),Cn.splice(En,1),Nn--,En--)}}for(let En in Sn){let Nn=Sn[En];Nn.needsFallbackRendering&&Nn.renderFallbackContent(_n,Cn,An,Pn)}}},nt.defaultSlotKey='__au-default-slot-key__',at),Ut=class{constructor(_n,Cn){this.bindingLanguage=null,this.parent=_n||null,this.hasParent=null!==this.parent,this.viewUrl=Cn||'',this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}_tryAddHook(_n,Cn){if('function'==typeof _n[Cn]){let Sn=_n[Cn].bind(_n),An=1,Pn;for(;this[Pn=Cn+An.toString()]!==void 0;)An++;this[Cn]=!0,this[Pn]=Sn}}_invokeHook(_n,Cn,Sn,An,Pn){if(this.hasParent&&this.parent._invokeHook(_n,Cn,Sn,An,Pn),this[_n]){this[_n+'1'](Cn,Sn,An,Pn);let In=_n+'2';if(this[In]&&(this[In](Cn,Sn,An,Pn),In=_n+'3',this[In])){this[In](Cn,Sn,An,Pn);for(let En=4;void 0!==this[In=_n+En.toString()];)this[In](Cn,Sn,An,Pn),En++}}}registerViewEngineHooks(_n){this._tryAddHook(_n,'beforeCompile'),this._tryAddHook(_n,'afterCompile'),this._tryAddHook(_n,'beforeCreate'),this._tryAddHook(_n,'afterCreate'),this._tryAddHook(_n,'beforeBind'),this._tryAddHook(_n,'beforeUnbind')}getBindingLanguage(_n){return this.bindingLanguage||(this.bindingLanguage=_n)}patchInParent(_n){let Cn=this.parent;this.parent=_n||null,this.hasParent=null!==this.parent,null===_n.parent&&(_n.parent=Cn,_n.hasParent=null!==Cn)}relativeToView(_n){return w.i(Le.a)(_n,this.viewUrl)}registerElement(_n,Cn){T(this.elements,_n,Cn,'an Element')}getElement(_n){return this.elements[_n]||(this.hasParent?this.parent.getElement(_n):null)}mapAttribute(_n){return this.attributeMap[_n]||(this.hasParent?this.parent.mapAttribute(_n):null)}registerAttribute(_n,Cn,Sn){this.attributeMap[_n]=Sn,T(this.attributes,_n,Cn,'an Attribute')}getAttribute(_n){return this.attributes[_n]||(this.hasParent?this.parent.getAttribute(_n):null)}registerValueConverter(_n,Cn){T(this.valueConverters,_n,Cn,'a ValueConverter')}getValueConverter(_n){return this.valueConverters[_n]||(this.hasParent?this.parent.getValueConverter(_n):null)}registerBindingBehavior(_n,Cn){T(this.bindingBehaviors,_n,Cn,'a BindingBehavior')}getBindingBehavior(_n){return this.bindingBehaviors[_n]||(this.hasParent?this.parent.getBindingBehavior(_n):null)}registerValue(_n,Cn){T(this.values,_n,Cn,'a value')}getValue(_n){return this.values[_n]||(this.hasParent?this.parent.getValue(_n):null)}},Wt=class{constructor(_n,Cn,Sn,An,Pn,In,En){for(let Nn in this.container=_n,this.viewFactory=Cn,this.resources=Cn.resources,this.fragment=Sn,this.firstChild=Sn.firstChild,this.lastChild=Sn.lastChild,this.controllers=An,this.bindings=Pn,this.children=In,this.slots=En,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,En){this.hasSlots=!0;break}}returnToCache(){this.viewFactory.returnViewToCache(this)}created(){let _n,Cn,Sn=this.controllers;for(_n=0,Cn=Sn.length;_n<Cn;++_n)Sn[_n].created(this)}bind(_n,Cn,Sn){let An,Pn,In,En,Nn;if(!(Sn&&this._isUserControlled)){if(this.isBound){if(this.bindingContext===_n)return;this.unbind()}for(this.isBound=!0,this.bindingContext=_n,this.overrideContext=Cn||w.i(Be.a)(_n),this.resources._invokeHook('beforeBind',this),Pn=this.bindings,(En=0,Nn=Pn.length);En<Nn;++En)Pn[En].bind(this);for(null!==this.viewModelScope&&(_n.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),An=this.controllers,(En=0,Nn=An.length);En<Nn;++En)An[En].bind(this);for(In=this.children,En=0,Nn=In.length;En<Nn;++En)In[En].bind(_n,Cn,!0);this.hasSlots&&Ht.distributeView(this.contentView,this.slots)}}addBinding(_n){this.bindings.push(_n),this.isBound&&_n.bind(this)}unbind(){let _n,Cn,Sn,An,Pn;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook('beforeUnbind',this),null!==this.controller&&this.controller.unbind(),Cn=this.bindings,(An=0,Pn=Cn.length);An<Pn;++An)Cn[An].unbind();for(_n=this.controllers,An=0,Pn=_n.length;An<Pn;++An)_n[An].unbind();for(Sn=this.children,An=0,Pn=Sn.length;An<Pn;++An)Sn[An].unbind();this.bindingContext=null,this.overrideContext=null}}insertNodesBefore(_n){_n.parentNode.insertBefore(this.fragment,_n)}appendNodesTo(_n){_n.appendChild(this.fragment)}removeNodes(){for(let _n=this.fragment,Cn=this.firstChild,Sn=this.lastChild,An;Cn&&(An=Cn.nextSibling,_n.appendChild(Cn),Cn!==Sn);)Cn=An}attached(){let _n,Cn,Sn,An;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),_n=this.controllers,(Sn=0,An=_n.length);Sn<An;++Sn)_n[Sn].attached();for(Cn=this.children,Sn=0,An=Cn.length;Sn<An;++Sn)Cn[Sn].attached()}}detached(){let _n,Cn,Sn,An;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),_n=this.controllers,(Sn=0,An=_n.length);Sn<An;++Sn)_n[Sn].detached();for(Cn=this.children,Sn=0,An=Cn.length;Sn<An;++Sn)Cn[Sn].detached()}}},Qt=class{constructor(_n,Cn,Sn=xt.instance){this.anchor=_n,this.anchorIsContainer=Cn,this.bindingContext=null,this.overrideContext=null,this.animator=Sn,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,_n.viewSlot=this,_n.isContentProjectionSource=!1}animateView(_n,Cn='enter'){let Sn=V(_n);if(null!==Sn)switch(Cn){case'enter':return this.animator.enter(Sn);case'leave':return this.animator.leave(Sn);default:throw new Error('Invalid animation direction: '+Cn);}}transformChildNodesIntoView(){let _n=this.anchor;this.children.push({fragment:_n,firstChild:_n.firstChild,lastChild:_n.lastChild,returnToCache(){},removeNodes(){for(let Cn;Cn=_n.lastChild;)_n.removeChild(Cn)},created(){},bind(){},unbind(){},attached(){},detached(){}})}bind(_n,Cn){let Sn,An,Pn;if(this.isBound){if(this.bindingContext===_n)return;this.unbind()}for(this.isBound=!0,this.bindingContext=_n=_n||this.bindingContext,this.overrideContext=Cn=Cn||this.overrideContext,Pn=this.children,(Sn=0,An=Pn.length);Sn<An;++Sn)Pn[Sn].bind(_n,Cn,!0)}unbind(){if(this.isBound){let _n,Cn,Sn=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,(_n=0,Cn=Sn.length);_n<Cn;++_n)Sn[_n].unbind()}}add(_n){if(this.anchorIsContainer?_n.appendNodesTo(this.anchor):_n.insertNodesBefore(this.anchor),this.children.push(_n),this.isAttached)return _n.attached(),this.animateView(_n,'enter')}insert(_n,Cn){let Sn=this.children,An=Sn.length;return 0===_n&&0===An||_n>=An?this.add(Cn):(Cn.insertNodesBefore(Sn[_n].firstChild),Sn.splice(_n,0,Cn),this.isAttached)?(Cn.attached(),this.animateView(Cn,'enter')):void 0}move(_n,Cn){if(_n!==Cn){const Sn=this.children,An=Sn[_n];An.removeNodes(),An.insertNodesBefore(Sn[Cn].firstChild),Sn.splice(_n,1),Sn.splice(Cn,0,An)}}remove(_n,Cn,Sn){return this.removeAt(this.children.indexOf(_n),Cn,Sn)}removeMany(_n,Cn,Sn){const An=this.children;let Pn=_n.length,In,En=[];_n.forEach((Rn)=>{if(Sn)return void Rn.removeNodes();let Mn=this.animateView(Rn,'leave');Mn?En.push(Mn.then(()=>Rn.removeNodes())):Rn.removeNodes()});let Nn=()=>{if(this.isAttached)for(In=0;In<Pn;++In)_n[In].detached();if(Cn)for(In=0;In<Pn;++In)_n[In].returnToCache();for(In=0;In<Pn;++In){const Rn=An.indexOf(_n[In]);0<=Rn&&An.splice(Rn,1)}};return 0<En.length?Promise.all(En).then(()=>Nn()):Nn()}removeAt(_n,Cn,Sn){let An=this.children[_n],Pn=()=>{return _n=this.children.indexOf(An),An.removeNodes(),this.children.splice(_n,1),this.isAttached&&An.detached(),Cn&&An.returnToCache(),An};if(!Sn){let In=this.animateView(An,'leave');if(In)return In.then(()=>Pn())}return Pn()}removeAll(_n,Cn){let Sn=this.children,An=Sn.length,Pn,In=[];Sn.forEach((Nn)=>{if(Cn)return void Nn.removeNodes();let Rn=this.animateView(Nn,'leave');Rn?In.push(Rn.then(()=>Nn.removeNodes())):Nn.removeNodes()});let En=()=>{if(this.isAttached)for(Pn=0;Pn<An;++Pn)Sn[Pn].detached();if(_n)for(Pn=0;Pn<An;++Pn){const Nn=Sn[Pn];Nn&&Nn.returnToCache()}this.children=[]};return 0<In.length?Promise.all(In).then(()=>En()):En()}attached(){let _n,Cn,Sn,An;if(!this.isAttached)for(this.isAttached=!0,Sn=this.children,(_n=0,Cn=Sn.length);_n<Cn;++_n)An=Sn[_n],An.attached(),this.animateView(An,'enter')}detached(){let _n,Cn,Sn;if(this.isAttached)for(this.isAttached=!1,Sn=this.children,(_n=0,Cn=Sn.length);_n<Cn;++_n)Sn[_n].detached()}projectTo(_n){this.projectToSlots=_n,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach((Cn)=>Ht.distributeView(Cn,_n,this))}_projectionAdd(_n){Ht.distributeView(_n,this.projectToSlots,this),this.children.push(_n),this.isAttached&&_n.attached()}_projectionInsert(_n,Cn){0===_n&&!this.children.length||_n>=this.children.length?this.add(Cn):(Ht.distributeView(Cn,this.projectToSlots,this,_n),this.children.splice(_n,0,Cn),this.isAttached&&Cn.attached())}_projectionMove(_n,Cn){if(_n!==Cn){const Sn=this.children,An=Sn[_n];Ht.undistributeView(An,this.projectToSlots,this),Ht.distributeView(An,this.projectToSlots,this,Cn),Sn.splice(_n,1),Sn.splice(Cn,0,An)}}_projectionRemove(_n){Ht.undistributeView(_n,this.projectToSlots,this),this.children.splice(this.children.indexOf(_n),1),this.isAttached&&_n.detached()}_projectionRemoveAt(_n){let Sn=this.children[_n];Ht.undistributeView(Sn,this.projectToSlots,this),this.children.splice(_n,1),this.isAttached&&Sn.detached()}_projectionRemoveMany(_n,Cn){_n.forEach((Sn)=>this.remove(Sn,Cn))}_projectionRemoveAll(){Ht.undistributeAll(this.projectToSlots,this);let Cn=this.children;if(this.isAttached)for(let Sn=0,An=Cn.length;Sn<An;++Sn)Cn[Sn].detached();this.children=[]}},Yt=w.i(Ve.c)(ot=class{get(_n,Cn){let Sn=Cn.__providerId__;return Sn in _n?_n[Sn]:_n[Sn]=_n.invoke(Cn)}})||ot,Kt=new Yt,Gt=class{constructor(_n,Cn,Sn){this.parentContainer=_n,this.viewFactory=Cn,this.factoryCreateInstruction={partReplacements:Sn}}create(){let _n=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return _n._isUserControlled=!0,_n}get isCaching(){return this.viewFactory.isCaching}setCacheSize(_n,Cn){this.viewFactory.setCacheSize(_n,Cn)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(_n){this.viewFactory.returnViewToCache(_n)}},Xt=class{constructor(_n,Cn,Sn){this.isCaching=!1,this.template=_n,this.instructions=Cn,this.resources=Sn,this.cacheSize=-1,this.cache=null}setCacheSize(_n,Cn){_n&&('*'===_n?_n=Number.MAX_VALUE:'string'==typeof _n&&(_n=parseInt(_n,10))),-1!==this.cacheSize&&Cn||(this.cacheSize=_n),this.cache=0<this.cacheSize?[]:null,this.isCaching=0<this.cacheSize}getCachedView(){return null===this.cache?null:this.cache.pop()||null}returnViewToCache(_n){_n.isAttached&&_n.detached(),_n.isBound&&_n.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(_n.fromCache=!0,this.cache.push(_n))}create(_n,Cn,Sn){Cn=Cn||Et.normal;let An=this.getCachedView();if(null!==An)return An;let Pn=Cn.enhance?this.template:this.template.cloneNode(!0),In=Pn.querySelectorAll('.au-target'),En=this.instructions,Nn=this.resources,Rn=[],Mn=[],On=[],Ln=Object.create(null),Tn={root:_n},Vn=Cn.partReplacements,Bn,jn,Fn,qn,Dn;for(this.resources._invokeHook('beforeCreate',this,_n,Pn,Cn),Sn&&null!==this.surrogateInstruction&&K(_n,Sn,this.surrogateInstruction,Rn,Mn,On),Cn.enhance&&Pn.hasAttribute('au-target-id')&&(qn=Pn,Dn=En[qn.getAttribute('au-target-id')],W(Tn,qn,Dn,Rn,Mn,On,Ln,Vn,Nn)),(Bn=0,jn=In.length);Bn<jn;++Bn)qn=In[Bn],Dn=En[qn.getAttribute('au-target-id')],W(Tn,qn,Dn,Rn,Mn,On,Ln,Vn,Nn);return Fn=new Wt(_n,this,Pn,Rn,Mn,On,Ln),Cn.initiatedByBehavior||Fn.created(),this.resources._invokeHook('afterCreate',Fn),Fn}},Jt=0,Zt=0,en=(st=w.i(Ve.b)(jt,Ut),st(lt=class{constructor(_n,Cn){this.bindingLanguage=_n,this.resources=Cn}compile(_n,Cn,Sn){Cn=Cn||this.resources,Sn=Sn||It.normal,_n='string'==typeof _n?Oe.c.createTemplateFromMarkup(_n):_n;let An,Pn,In;_n.content?(Pn=_n.getAttribute('part'),In=_n.getAttribute('view-cache'),An=Oe.c.adoptNode(_n.content)):An=_n,Sn.targetShadowDOM=Sn.targetShadowDOM&&Oe.d.shadowDOM,Cn._invokeHook('beforeCompile',An,Cn,Sn);let En={};this._compileNode(An,Cn,En,_n,'root',!Sn.targetShadowDOM);let Nn=An.firstChild;if(Nn&&1===Nn.nodeType){let Mn=Nn.getAttribute('au-target-id');if(Mn){let On=En[Mn];(On.shadowSlot||On.lifting||On.elementInstruction&&!On.elementInstruction.anchorIsContainer)&&An.insertBefore(Oe.c.createComment('view'),Nn)}}let Rn=new Xt(An,En,Cn);return Rn.surrogateInstruction=Sn.compileSurrogate?this._compileSurrogate(_n,Cn):null,Rn.part=Pn,In&&Rn.setCacheSize(In),Cn._invokeHook('afterCompile',Rn),Rn}_compileNode(_n,Cn,Sn,An,Pn,In){switch(_n.nodeType){case 1:return this._compileElement(_n,Cn,Sn,An,Pn,In);case 3:let En=Cn.getBindingLanguage(this.bindingLanguage).inspectTextContent(Cn,_n.wholeText);if(En){let Rn=Oe.c.createElement('au-marker'),Mn=J(Rn);for((_n.parentNode||An).insertBefore(Rn,_n),_n.textContent=' ',Sn[Mn]=Nt.contentExpression(En);_n.nextSibling&&3===_n.nextSibling.nodeType;)(_n.parentNode||An).removeChild(_n.nextSibling)}else for(;_n.nextSibling&&3===_n.nextSibling.nodeType;)_n=_n.nextSibling;return _n.nextSibling;case 11:for(let Nn=_n.firstChild;Nn;)Nn=this._compileNode(Nn,Cn,Sn,_n,Pn,In);break;default:}return _n.nextSibling}_compileSurrogate(_n,Cn){let Sn=_n.tagName.toLowerCase(),An=_n.attributes,Pn=Cn.getBindingLanguage(this.bindingLanguage),In,En,Nn,Rn,Mn,On,Ln,Tn,Vn,Bn,jn=[],Fn,qn=[],Dn={},zn=!1,Hn=[];for(Rn=0,Mn=An.length;Rn<Mn;++Rn){if(On=An[Rn],Ln=On.name,Tn=On.value,Vn=Pn.inspectAttribute(Cn,Sn,Ln,Tn),Bn=Cn.getAttribute(Vn.attrName),Bn&&(In=Cn.mapAttribute(Vn.attrName),In&&(En=Bn.attributes[In],En&&(Vn.defaultBindingMode=En.defaultBindingMode,Vn.command||Vn.expression||(Vn.command=En.hasOptions?'options':null),Vn.command&&'options'!==Vn.command&&Bn.primaryProperty)))){const Un=Bn.primaryProperty;Ln=Vn.attrName=Un.name,Vn.defaultBindingMode=Un.defaultBindingMode}if(Nn=Pn.createAttributeInstruction(Cn,_n,Vn,void 0,Bn),Nn){if(Nn.alteredAttr&&(Bn=Cn.getAttribute(Nn.attrName)),Nn.discrete)jn.push(Nn);else if(!Bn)jn.push(Nn.attributes[Nn.attrName]);else if(Nn.type=Bn,this._configureProperties(Nn,Cn),Bn.liftsContent)throw new Error('You cannot place a template controller on a surrogate element.');else qn.push(Nn);}else if(!Bn)'id'!==Ln&&'part'!==Ln&&'replace-part'!==Ln&&(zn=!0,Dn[Ln]=Tn);else if(Nn=Et.attribute(Ln,Bn),Nn.attributes[Cn.mapAttribute(Ln)]=Tn,Bn.liftsContent)throw new Error('You cannot place a template controller on a surrogate element.');else qn.push(Nn)}if(jn.length||qn.length||zn){for(Rn=0,Mn=qn.length;Rn<Mn;++Rn)Nn=qn[Rn],Nn.type.compile(this,Cn,_n,Nn),Hn.push(Nn.type.target);for(Rn=0,Mn=jn.length;Rn<Mn;++Rn)Fn=jn[Rn],void 0!==Fn.attrToRemove&&_n.removeAttribute(Fn.attrToRemove);return Nt.surrogate(Hn,qn,jn,Dn)}return null}_compileElement(_n,Cn,Sn,An,Pn,In){let En=_n.tagName.toLowerCase(),Nn=_n.attributes,Rn=[],Mn,On=[],Ln=[],Tn=Cn.getBindingLanguage(this.bindingLanguage),Vn,Bn,jn,Fn,qn,Dn,zn,Hn,Un,Wn,Qn,Yn,Kn,Gn,Xn,Jn;if('slot'===En)return In&&(_n=Z(this,Cn,_n,Sn,Pn)),_n.nextSibling;for('template'===En?(Bn=this.compile(_n,Cn),Bn.part=_n.getAttribute('part')):(jn=Cn.getElement(_n.getAttribute('as-element')||En),jn&&(Fn=Et.element(_n,jn),jn.processAttributes(this,Cn,_n,Nn,Fn),On.push(Fn))),Dn=0,zn=Nn.length;Dn<zn;++Dn){if(Hn=Nn[Dn],Un=Hn.name,Wn=Hn.value,Yn=Tn.inspectAttribute(Cn,En,Un,Wn),In&&'slot'===Yn.attrName&&(Yn.attrName=Un='au-slot'),jn=Cn.getAttribute(Yn.attrName),qn=null,!jn)Fn&&(qn=Fn.type.attributes[Yn.attrName],qn&&(Yn.defaultBindingMode=qn.defaultBindingMode));else if(Gn=Cn.mapAttribute(Yn.attrName),Gn&&(Kn=jn.attributes[Gn],Kn&&(Yn.defaultBindingMode=Kn.defaultBindingMode,Yn.command||Yn.expression||(Yn.command=Kn.hasOptions?'options':null),Yn.command&&'options'!==Yn.command&&jn.primaryProperty))){const Zn=jn.primaryProperty;Un=Yn.attrName=Zn.name,Yn.defaultBindingMode=Zn.defaultBindingMode}if(Qn=qn?Tn.createAttributeInstruction(Cn,_n,Yn,Fn):Tn.createAttributeInstruction(Cn,_n,Yn,void 0,jn),Qn){if(Qn.alteredAttr&&(jn=Cn.getAttribute(Qn.attrName)),Qn.discrete)Rn.push(Qn);else if(!jn)qn?Fn.attributes[Yn.attrName].targetProperty=qn.name:Rn.push(Qn.attributes[Qn.attrName]);else if(Qn.type=jn,this._configureProperties(Qn,Cn),jn.liftsContent){Qn.originalAttrName=Un,Vn=Qn;break}else On.push(Qn);}else if(!jn)qn&&(Fn.attributes[Un]=Wn);else if(Qn=Et.attribute(Un,jn),Qn.attributes[Cn.mapAttribute(Un)]=Wn,jn.liftsContent){Qn.originalAttrName=Un,Vn=Qn;break}else On.push(Qn)}if(Vn)Vn.viewFactory=Bn,_n=Vn.type.compile(this,Cn,_n,Vn,An),Xn=J(_n),Sn[Xn]=Nt.lifting(Pn,Vn);else{if(Rn.length||On.length){for(Jn=!!On.length&&$(),Dn=0,zn=On.length;Dn<zn;++Dn)Qn=On[Dn],Qn.type.compile(this,Cn,_n,Qn,An),Ln.push(Qn.type.target);for(Dn=0,zn=Rn.length;Dn<zn;++Dn)Mn=Rn[Dn],void 0!==Mn.attrToRemove&&_n.removeAttribute(Mn.attrToRemove);Xn=J(_n),Sn[Xn]=Nt.normal(Jn,Pn,Ln,On,Rn,Fn)}if(Fn&&Fn.skipContentProcessing)return _n.nextSibling;for(let Zn=_n.firstChild;Zn;)Zn=this._compileNode(Zn,Cn,Sn,_n,Jn||Pn,In)}return _n.nextSibling}_configureProperties(_n,Cn){let Sn=_n.type,An=_n.attrName,Pn=_n.attributes,Rn=Cn.mapAttribute(An),In,En,Nn;for(En in Rn&&An in Pn&&Rn!==An&&(Pn[Rn]=Pn[An],delete Pn[An]),Pn)Nn=Pn[En],null!==Nn&&'object'==typeof Nn&&(In=Sn.attributes[En],Nn.targetProperty=void 0===In?En:In.name)}})||lt),tn=class{constructor(_n){this.id=_n,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}initialize(_n){let Cn=this.mainResource,Sn=this.resources,An=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==Cn&&(Cn.metadata.viewStrategy=An,Cn.initialize(_n));for(let Pn=0,In=Sn.length;Pn<In;++Pn)Cn=Sn[Pn],Cn.metadata.viewStrategy=An,Cn.initialize(_n)}}register(_n,Cn){let Sn=this.mainResource,An=this.resources;Sn!==void 0&&(Sn.register(_n,Cn),Cn=null);for(let Pn=0,In=An.length;Pn<In;++Pn)An[Pn].register(_n,Cn),Cn=null}load(_n,Cn){if(null!==this.onLoaded)return this.loadContext===Cn?Promise.resolve():this.onLoaded;let Sn=this.mainResource,An=this.resources,Pn;if(void 0!==Sn){Pn=Array(An.length+1),Pn[0]=Sn.load(_n,Cn);for(let In=0,En=An.length;In<En;++In)Pn[In+1]=An[In].load(_n,Cn)}else{Pn=Array(An.length);for(let In=0,En=An.length;In<En;++In)Pn[In]=An[In].load(_n,Cn)}return this.loadContext=Cn,this.onLoaded=Promise.all(Pn),this.onLoaded}},nn=class{constructor(_n,Cn,Sn){Sn||(Sn=Me.a.get(Me.a.resource,Cn),!Sn&&(Sn=new pn,Sn.elementName=I(_n),Me.a.define(Me.a.resource,Sn,Cn))),Sn instanceof pn?Sn.elementName===void 0?Sn.elementName=I(_n):Sn.attributeName===void 0?Sn.attributeName=I(_n):null===Sn.attributeName&&null===Sn.elementName&&pn.convention(_n,Sn):!Sn.name&&(Sn.name=I(_n)),this.metadata=Sn,this.value=Cn}initialize(_n){this.metadata.initialize(_n,this.value)}register(_n,Cn){this.metadata.register(_n,Cn)}load(_n,Cn){return this.metadata.load(_n,this.value,Cn)}},rn=class{constructor(){this.cache=Object.create(null)}getAnalysis(_n){return this.cache[_n]}analyze(_n,Cn,Sn){let Mn=[],An,Pn,In,En,Nn,Rn,On,Ln,Tn;if(Tn=this.cache[_n],Tn)return Tn;for(Nn in Tn=new tn(_n),this.cache[_n]=Tn,'function'==typeof Cn&&(Cn={'default':Cn}),Sn&&(An=new nn(Sn,Cn[Sn])),Cn)(Rn=Cn[Nn],Nn!==Sn&&'function'==typeof Rn)&&(En=Me.a.get(Me.a.resource,Rn),En?(null===En.attributeName&&null===En.elementName&&pn.convention(Nn,En),null===En.attributeName&&null===En.elementName&&(En.elementName=I(Nn)),!An&&En instanceof pn&&null!==En.elementName?An=new nn(Nn,Rn,En):Mn.push(new nn(Nn,Rn,En))):Rt.decorates(Rn)?Ln=Rn:Rn instanceof Te.b?Ln=new Tt(_n,Rn):(On=pn.convention(Nn))?(null===On.elementName||An?Mn.push(new nn(Nn,Rn,On)):An=new nn(Nn,Rn,On),Me.a.define(Me.a.resource,On,Rn)):(On=Be.b.convention(Nn)||Be.c.convention(Nn)||St.convention(Nn))?(Mn.push(new nn(Nn,Rn,On)),Me.a.define(Me.a.resource,On,Rn)):!Pn&&(Pn=Rn,In=Nn));return!An&&Pn&&(An=new nn(In,Pn)),Tn.moduleInstance=Cn,Tn.mainResource=An,Tn.resources=Mn,Tn.viewStrategy=Ln,Tn}},an=Re.getLogger('templating'),on=class{constructor(_n){_n.then((Cn)=>this.viewFactory=Cn)}create(_n,Cn,Sn,An){return this.viewFactory.create(_n,Cn,Sn,An)}get isCaching(){return this.viewFactory.isCaching}setCacheSize(_n,Cn){this.viewFactory.setCacheSize(_n,Cn)}getCachedView(){return this.viewFactory.getCachedView()}returnViewToCache(_n){this.viewFactory.returnViewToCache(_n)}},sn=(dt=w.i(Ve.b)(Te.a,Ve.a,en,rn,Ut),dt(ut=(pt=ct=class kn{constructor(_n,Cn,Sn,An,Pn){this.loader=_n,this.container=Cn,this.viewCompiler=Sn,this.moduleAnalyzer=An,this.appResources=Pn,this._pluginMap={};let In=new pn;In.attributeName='au-slot',In.initialize(Cn,qt),In.register(Pn)}addResourcePlugin(_n,Cn){let Sn=_n.replace('.','')+'-resource-plugin';this._pluginMap[_n]=Sn,this.loader.addPlugin(Sn,Cn)}loadViewFactory(_n,Cn,Sn,An){return Sn=Sn||new Pt,ee(this.loader,_n).then((Pn)=>{return Pn.onReady?Sn.hasDependency(_n)?null===Pn.template?Pn.onReady:Promise.resolve(new on(Pn.onReady)):(Sn.addDependency(_n),Pn.onReady):(Sn.addDependency(_n),Pn.onReady=this.loadTemplateResources(Pn,Cn,Sn,An).then((In)=>{if(Pn.resources=In,null===Pn.template)return Pn.factory=null;let En=this.viewCompiler.compile(Pn.template,In,Cn);return Pn.factory=En}),Pn.onReady)})}loadTemplateResources(_n,Cn,Sn,An){let Pn=new Ut(this.appResources,_n.address),In=_n.dependencies,En,Nn;if(Cn=Cn||It.normal,0===In.length&&!Cn.associatedModuleId)return Promise.resolve(Pn);if(En=In.map((Rn)=>Rn.src),Nn=In.map((Rn)=>Rn.name),an.debug(`importing resources for ${_n.address}`,En),An){let Rn=Me.a.get(kn.viewModelRequireMetadataKey,An);if(Rn){let Mn=En.length;for(let On=0,Ln=Rn.length;On<Ln;++On){let Tn=Rn[On],Vn='function'==typeof Tn?Me.c.get(Tn).moduleId:w.i(Le.a)(Tn.src||Tn,_n.address);-1===En.indexOf(Vn)&&(En.push(Vn),Nn.push(Tn.as))}an.debug(`importing ViewModel resources for ${Cn.associatedModuleId}`,En.slice(Mn))}}return this.importViewResources(En,Nn,Pn,Cn,Sn)}importViewModelResource(_n,Cn){return this.loader.loadModule(_n).then((Sn)=>{let An=Me.c.get(Sn).moduleId,Pn=this.moduleAnalyzer.analyze(An,Sn,Cn);if(!Pn.mainResource)throw new Error(`No view model found in module "${_n}".`);return Pn.initialize(this.container),Pn.mainResource})}importViewResources(_n,Cn,Sn,An,Pn){return Pn=Pn||new Pt,An=An||It.normal,_n=_n.map((In)=>this._applyLoaderPlugin(In)),this.loader.loadAllModules(_n).then((In)=>{let Tn=this.container,Vn=this.moduleAnalyzer,Bn=Array(In.length),En,Nn,Rn,Mn,On,Ln;for(En=0,Nn=In.length;En<Nn;++En)On=In[En],Mn=Me.c.get(On).moduleId,Rn=Vn.analyze(Mn,On),Rn.initialize(Tn),Rn.register(Sn,Cn[En]),Bn[En]=Rn;for(An.associatedModuleId&&(Ln=Vn.getAnalysis(An.associatedModuleId),Ln&&Ln.register(Sn)),En=0,Nn=Bn.length;En<Nn;++En)Bn[En]=Bn[En].load(Tn,Pn);return Promise.all(Bn).then(()=>Sn)})}_applyLoaderPlugin(_n){let Cn=_n.lastIndexOf('.');if(-1!==Cn){let Sn=_n.substring(Cn),An=this._pluginMap[Sn];return void 0===An?_n:this.loader.applyPluginToUrl(_n,An)}return _n}},ct.viewModelRequireMetadataKey='aurelia:view-model-require',pt))||ut),ln=class{constructor(_n,Cn,Sn,An){this.behavior=_n,this.instruction=Cn,this.viewModel=Sn,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=An,this.elementEvents=An.elementEvents||null;let Pn=_n.observerLocator.getOrCreateObserversLookup(Sn),In=_n.handlesBind,En=Cn.attributes,Nn=this.boundProperties=[],Rn=_n.properties,Mn,On;for(_n._ensurePropertiesDefined(Sn,Pn),Mn=0,On=Rn.length;Mn<On;++Mn)Rn[Mn]._initialize(Sn,Pn,En,In,Nn)}created(_n){this.behavior.handlesCreated&&this.viewModel.created(_n,this.view)}automate(_n,Cn){this.view.bindingContext=this.viewModel,this.view.overrideContext=_n||w.i(Be.a)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(Cn||null,this.view),this.bind(this.view)}bind(_n){let Cn=this.behavior.handlesBind,Sn=this.boundProperties,An,Pn,In,En,Nn;if(this.isBound){if(this.scope===_n)return;this.unbind()}for(this.isBound=!0,this.scope=_n,(An=0,Pn=Sn.length);An<Pn;++An)In=Sn[An],En=In.observer,Nn=En.selfSubscriber,En.publishing=!1,Cn&&(En.selfSubscriber=null),In.binding.bind(_n),En.call(),En.publishing=!0,En.selfSubscriber=Nn;let Rn;null===this.view?Cn&&(Rn=_n.overrideContext,_n.overrideContext.__parentOverrideContext!==void 0&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(Rn=Object.assign({},_n.overrideContext),Rn.parentOverrideContext=_n.overrideContext.__parentOverrideContext),this.viewModel.bind(_n.bindingContext,Rn)):(Cn&&(this.view.viewModelScope=_n),this.viewModel===_n.overrideContext.bindingContext?Rn=_n.overrideContext:this.instruction.inheritBindingContext?Rn=w.i(Be.a)(this.viewModel,_n.overrideContext):(Rn=w.i(Be.a)(this.viewModel),Rn.__parentOverrideContext=_n.overrideContext),this.view.bind(this.viewModel,Rn))}unbind(){if(this.isBound){let _n=this.boundProperties,Cn,Sn;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),(Cn=0,Sn=_n.length);Cn<Sn;++Cn)_n[Cn].binding.unbind()}}attached(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())}detached(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())}},dn=(gt=w.i(Be.d)(),gt(mt=class{constructor(_n,Cn,Sn,An,Pn){this.taskQueue=_n,this.obj=Cn,this.propertyName=Sn,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=An,this.currentValue=this.oldValue=Pn}getValue(){return this.currentValue}setValue(_n){let Cn=this.currentValue;Cn!==_n&&(this.oldValue=Cn,this.currentValue=_n,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))}call(){let _n=this.oldValue,Cn=this.currentValue;this.notqueued=!0;Cn===_n||(this.selfSubscriber&&this.selfSubscriber(Cn,_n),this.callSubscribers(Cn,_n),this.oldValue=Cn)}subscribe(_n,Cn){this.addSubscriber(_n,Cn)}unsubscribe(_n,Cn){this.removeSubscriber(_n,Cn)}})||mt),un=class{constructor(_n){'string'==typeof _n?this.name=_n:Object.assign(this,_n),this.attribute=this.attribute||I(this.name),(null===this.defaultBindingMode||this.defaultBindingMode===void 0)&&(this.defaultBindingMode=Be.e.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}registerWith(_n,Cn,Sn){return Cn.properties.push(this),Cn.attributes[this.attribute]=this,this.owner=Cn,Sn?(this.descriptor=Sn,this._configureDescriptor(Cn,Sn)):void 0}_configureDescriptor(_n,Cn){let Sn=this.name;return Cn.configurable=!0,Cn.enumerable=!0,'initializer'in Cn&&(this.defaultValue=Cn.initializer,delete Cn.initializer,delete Cn.writable),'value'in Cn&&(this.defaultValue=Cn.value,delete Cn.value,delete Cn.writable),Cn.get=function(){return te(_n,this,Sn).getValue()},Cn.set=function(An){te(_n,this,Sn).setValue(An)},Cn.get.getObserver=function(An){return te(_n,An,Sn)},Cn}defineOn(_n,Cn){let Sn=this.name,An;null===this.changeHandler&&(An=Sn+'Changed',An in _n.prototype&&(this.changeHandler=An)),null===this.descriptor&&Object.defineProperty(_n.prototype,Sn,this._configureDescriptor(Cn,{}))}createObserver(_n){let Cn=null,Sn=this.defaultValue,An=this.changeHandler,Pn=this.name,In;if(!this.hasOptions){if(An in _n)Cn='propertyChanged'in _n?(En,Nn)=>{_n[An](En,Nn),_n.propertyChanged(Pn,En,Nn)}:(En,Nn)=>_n[An](En,Nn);else if('propertyChanged'in _n)Cn=(En,Nn)=>_n.propertyChanged(Pn,En,Nn);else if(null!==An)throw new Error(`Change handler ${An} was specified but not declared on the class.`);return void 0!==Sn&&(In='function'==typeof Sn?Sn.call(_n):Sn),new dn(this.owner.taskQueue,_n,this.name,Cn,In)}}_initialize(_n,Cn,Sn,An,Pn){let In,En,Nn,Rn=this.defaultValue;if(this.isDynamic)for(let Mn in Sn)this._createDynamicProperty(_n,Cn,An,Mn,Sn[Mn],Pn);else this.hasOptions||(En=Cn[this.name],null!==Sn&&(In=En.selfSubscriber,Nn=Sn[this.attribute],An&&(En.selfSubscriber=null),'string'==typeof Nn?(_n[this.name]=Nn,En.call()):Nn?Pn.push({observer:En,binding:Nn.createBinding(_n)}):void 0!==Rn&&En.call(),En.selfSubscriber=In),En.publishing=!0)}_createDynamicProperty(_n,Cn,Sn,An,Pn,In){let En=An+'Changed',Nn=null,Rn,Mn;En in _n?'propertyChanged'in _n?Nn=(On,Ln)=>{_n[En](On,Ln),_n.propertyChanged(An,On,Ln)}:Nn=(On,Ln)=>_n[En](On,Ln):'propertyChanged'in _n&&(Nn=(On,Ln)=>_n.propertyChanged(An,On,Ln)),Rn=Cn[An]=new dn(this.owner.taskQueue,_n,An,Nn),Object.defineProperty(_n,An,{configurable:!0,enumerable:!0,get:Rn.getValue.bind(Rn),set:Rn.setValue.bind(Rn)}),Sn&&(Rn.selfSubscriber=null),'string'==typeof Pn?(_n[An]=Pn,Rn.call()):Pn&&(Mn={observer:Rn,binding:Pn.createBinding(_n)},In.push(Mn)),Rn.publishing=!0,Rn.selfSubscriber=Nn}},cn=0,pn=class kn{constructor(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=ie,this.processContent=re,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}static convention(_n,Cn){let Sn;return _n.endsWith('CustomAttribute')&&(Sn=Cn||new kn,Sn.attributeName=I(_n.substring(0,_n.length-15))),_n.endsWith('CustomElement')&&(Sn=Cn||new kn,Sn.elementName=I(_n.substring(0,_n.length-13))),Sn}addChildBinding(_n){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(_n)}initialize(_n,Cn){let Sn=Cn.prototype,An=this.properties,Pn=this.attributeName,In=this.attributeDefaultBindingMode,En,Nn,Rn;if(!this.isInitialized)if(this.isInitialized=!0,Cn.__providerId__=ne(),this.observerLocator=_n.get(Be.f),this.taskQueue=_n.get(je.a),this.target=Cn,this.usesShadowDOM=this.targetShadowDOM&&Oe.d.shadowDOM,this.handlesCreated='created'in Sn,this.handlesBind='bind'in Sn,this.handlesUnbind='unbind'in Sn,this.handlesAttached='attached'in Sn,this.handlesDetached='detached'in Sn,this.htmlName=this.elementName||this.attributeName,null===Pn)for(En=0,Nn=An.length;En<Nn;++En)An[En].defineOn(Cn,this);else if(0===An.length&&new un({name:'value',changeHandler:'valueChanged'in Sn?'valueChanged':null,attribute:Pn,defaultBindingMode:In}).registerWith(Cn,this),Rn=An[0],1===An.length&&'value'===Rn.name)Rn.isDynamic=Rn.hasOptions=this.hasDynamicOptions,Rn.defineOn(Cn,this);else{for(En=0,Nn=An.length;En<Nn;++En)if(An[En].defineOn(Cn,this),An[En].primaryProperty){if(this.primaryProperty)throw new Error('Only one bindable property on a custom element can be defined as the default');this.primaryProperty=An[En]}Rn=new un({name:'value',changeHandler:'valueChanged'in Sn?'valueChanged':null,attribute:Pn,defaultBindingMode:In}),Rn.hasOptions=!0,Rn.registerWith(Cn,this)}}register(_n,Cn){null!==this.attributeName&&_n.registerAttribute(Cn||this.attributeName,this,this.attributeName),null!==this.elementName&&_n.registerElement(Cn||this.elementName,this)}load(_n,Cn,Sn,An,Pn){let In;return null===this.elementName?Promise.resolve(this):(An=_n.get(Bt).getViewStrategy(An||this.viewStrategy||Cn),In=new It(this.targetShadowDOM,!0),An.moduleId||(An.moduleId=Me.c.get(Cn).moduleId),An.loadViewFactory(_n.get(sn),In,Sn,Cn).then((En)=>{return Pn&&this.viewFactory||(this.viewFactory=En),En}))}compile(_n,Cn,Sn,An,Pn){if(this.liftsContent){if(!An.viewFactory){let In=Oe.c.createElement('template'),En=Oe.c.createDocumentFragment(),Nn=Sn.getAttribute('view-cache'),Rn=Sn.getAttribute('part');Sn.removeAttribute(An.originalAttrName),Oe.c.replaceNode(In,Sn,Pn),En.appendChild(Sn),An.viewFactory=_n.compile(En,Cn),Rn&&(An.viewFactory.part=Rn,Sn.removeAttribute('part')),Nn&&(An.viewFactory.setCacheSize(Nn),Sn.removeAttribute('view-cache')),Sn=In}}else if(null!==this.elementName){let In={};if(this.processContent(_n,Cn,Sn,An)&&Sn.hasChildNodes()){let En=Sn.firstChild,Nn=this.usesShadowDOM?null:Oe.c.createElement('au-content'),Rn,Mn;for(;En;)Rn=En.nextSibling,'TEMPLATE'===En.tagName&&(Mn=En.getAttribute('replace-part'))?(In[Mn]=_n.compile(En,Cn),Oe.c.removeNode(En,Pn),An.partReplacements=In):null!==Nn&&(3===En.nodeType&&N(En)?Oe.c.removeNode(En,Pn):Nn.appendChild(En)),En=Rn;null!==Nn&&Nn.hasChildNodes()&&Sn.appendChild(Nn),An.skipContentProcessing=!1}else An.skipContentProcessing=!0}return Sn}create(_n,Cn,Sn,An){let In=null,Pn;Cn=Cn||Et.normal,Sn=Sn||null,An=An||null,null!==this.elementName&&Sn&&(this.usesShadowDOM?(Pn=Sn.attachShadow(this.shadowDOMOptions),_n.registerInstance(Oe.c.boundary,Pn)):(Pn=Sn,this.targetShadowDOM&&_n.registerInstance(Oe.c.boundary,Pn))),null!==Sn&&(Sn.au=In=Sn.au||{});let En=Cn.viewModel||_n.get(this.target),Nn=new ln(this,Cn,En,_n),Rn=this.childBindings,Mn;if(this.liftsContent)In.controller=Nn;else if(null!==this.elementName){if(Mn=Cn.viewFactory||this.viewFactory,_n.viewModel=En,Mn&&(Nn.view=Mn.create(_n,Cn,Sn)),null!==Sn){if(In.controller=Nn,Nn.view){if(!this.usesShadowDOM&&(1===Sn.childNodes.length||Sn.contentElement)){let On=Sn.childNodes[0]||Sn.contentElement;Nn.view.contentView={fragment:On},On.parentNode&&Oe.c.removeNode(On)}if(Cn.anchorIsContainer){if(null!==Rn)for(let On=0,Ln=Rn.length;On<Ln;++On)Nn.view.addBinding(Rn[On].create(Sn,En,Nn));Nn.view.appendNodesTo(Pn)}else Nn.view.insertNodesBefore(Pn)}else if(null!==Rn)for(let On=0,Ln=Rn.length;On<Ln;++On)An.push(Rn[On].create(Sn,En,Nn));}else if(Nn.view){if(Nn.view.controller=Nn,null!==Rn)for(let On=0,Ln=Rn.length;On<Ln;++On)Nn.view.addBinding(Rn[On].create(Cn.host,En,Nn));}else if(null!==Rn)for(let On=0,Ln=Rn.length;On<Ln;++On)An.push(Rn[On].create(Cn.host,En,Nn));}else if(null!==Rn)for(let On=0,Ln=Rn.length;On<Ln;++On)An.push(Rn[On].create(Sn,En,Nn));return null!==In&&(In[this.htmlName]=Nn),Cn.initiatedByBehavior&&Mn&&Nn.view.created(),Nn}_ensurePropertiesDefined(_n,Cn){let Sn,An,Pn,In;if(!('__propertiesDefined__'in Cn))for(Cn.__propertiesDefined__=!0,Sn=this.properties,(An=0,Pn=Sn.length);An<Pn;++An)In=Sn[An].createObserver(_n),void 0!==In&&(Cn[In.propertyName]=In)}},gn=class{constructor(_n){this.name=_n.name,this.changeHandler=_n.changeHandler||this.name+'Changed',this.selector=_n.selector,this.all=_n.all}create(_n,Cn,Sn){return new hn(this.selector,_n,this.name,Cn,Sn,this.changeHandler,this.all)}};const mn=[];let hn=class{constructor(_n,Cn,Sn,An,Pn,In,En){this.selector=_n,this.viewHost=Cn,this.property=Sn,this.viewModel=An,this.controller=Pn,this.changeHandler=In in An?In:null,this.usesShadowDOM=Pn.behavior.usesShadowDOM,this.all=En,this.contentView=!this.usesShadowDOM&&Pn.view&&Pn.view.contentView?Pn.view.contentView:null}matches(_n){if(_n.matches(this.selector)){if(null===this.contentView)return!0;let Cn=this.contentView,Sn=_n.auAssignedSlot;if(Sn&&Sn.projectFromAnchors){let An=Sn.projectFromAnchors;for(let Pn=0,In=An.length;Pn<In;++Pn)if(An[Pn].auOwnerView===Cn)return!0;return!1}return _n.auOwnerView===Cn}return!1}bind(){let Cn=this.viewHost,Sn=this.viewModel,An=Cn.__childObserver__;if(!An){An=Cn.__childObserver__=Oe.c.createMutationObserver(de);let Pn={childList:!0,subtree:!this.usesShadowDOM};An.observe(Cn,Pn),An.binders=[]}if(An.binders.push(this),this.usesShadowDOM){let Pn=Cn.firstElementChild;if(this.all){let In=Sn[this.property];for(In?In.length=0:In=Sn[this.property]=[];Pn;)this.matches(Pn)&&In.push(Pn.au&&Pn.au.controller?Pn.au.controller.viewModel:Pn),Pn=Pn.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](mn)}else for(;Pn;){if(this.matches(Pn)){let In=Pn.au&&Pn.au.controller?Pn.au.controller.viewModel:Pn;this.viewModel[this.property]=In,null!==this.changeHandler&&this.viewModel[this.changeHandler](In);break}Pn=Pn.nextElementSibling}}}onRemove(_n){if(this.matches(_n)){let Cn=_n.au&&_n.au.controller?_n.au.controller.viewModel:_n;if(this.all){let Sn=this.viewModel[this.property]||(this.viewModel[this.property]=[]),An=Sn.indexOf(Cn);return-1!==An&&Sn.splice(An,1),!0}return!1}return!1}onAdd(_n){if(this.matches(_n)){let Cn=_n.au&&_n.au.controller?_n.au.controller.viewModel:_n;if(this.all){let Sn=this.viewModel[this.property]||(this.viewModel[this.property]=[]),An=0,Pn=_n.previousElementSibling;for(;Pn;)this.matches(Pn)&&An++,Pn=Pn.previousElementSibling;return Sn.splice(An,0,Cn),!0}this.viewModel[this.property]=Cn,null!==this.changeHandler&&this.viewModel[this.changeHandler](Cn)}return!1}unbind(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)}};const vn={before(kn,_n,Cn){return _n===void 0?Cn():Cn().then(()=>ue(kn,_n))},with(kn,_n,Cn){return _n===void 0?Cn():Promise.all([ue(kn,_n),Cn()])},after(kn,_n,Cn){return Promise.resolve(kn.removeAll(!0)).then(Cn)}};h.t=vn;let bn=(ht=w.i(Ve.b)(sn,Bt),ht(ft=class{constructor(_n,Cn){this.viewEngine=_n,this.viewLocator=Cn}_swap(_n,Cn){let Sn=vn[_n.swapOrder]||vn.after,An=_n.viewSlot.children.slice();return Sn(_n.viewSlot,An,()=>{return Promise.resolve(_n.viewSlot.add(Cn)).then(()=>{_n.currentController&&_n.currentController.unbind()})}).then(()=>{_n.compositionTransactionNotifier&&_n.compositionTransactionNotifier.done()})}_createControllerAndSwap(_n){return this.createController(_n).then((Cn)=>{return Cn.automate(_n.overrideContext,_n.owningView),_n.compositionTransactionOwnershipToken?_n.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>this._swap(_n,Cn.view)).then(()=>Cn):this._swap(_n,Cn.view).then(()=>Cn)})}createController(_n){let Cn,Sn,An,Pn;return this.ensureViewModel(_n).then(ce).then(()=>{Cn=_n.childContainer,Sn=_n.viewModel,An=_n.viewModelResource,Pn=An.metadata;let In=this.viewLocator.getViewStrategy(_n.view||Sn);return _n.viewResources&&In.makeRelativeTo(_n.viewResources.viewUrl),Pn.load(Cn,An.value,null,In,!0)}).then((In)=>Pn.create(Cn,Et.dynamic(_n.host,Sn,In)))}ensureViewModel(_n){let Cn=_n.childContainer=_n.childContainer||_n.container.createChild();if('string'==typeof _n.viewModel)return _n.viewModel=_n.viewResources?_n.viewResources.relativeToView(_n.viewModel):_n.viewModel,this.viewEngine.importViewModelResource(_n.viewModel).then((An)=>{return Cn.autoRegister(An.value),_n.host&&Cn.registerInstance(Oe.c.Element,_n.host),_n.viewModel=Cn.viewModel=Cn.get(An.value),_n.viewModelResource=An,_n});let Sn=Me.a.getOrCreateOwn(Me.a.resource,pn,_n.viewModel.constructor);return Sn.elementName=Sn.elementName||'dynamic-element',Sn.initialize(_n.container||Cn,_n.viewModel.constructor),_n.viewModelResource={metadata:Sn,value:_n.viewModel.constructor},Cn.viewModel=_n.viewModel,Promise.resolve(_n)}compose(_n){_n.childContainer=_n.childContainer||_n.container.createChild(),_n.view=this.viewLocator.getViewStrategy(_n.view);let Cn=_n.childContainer.get(_t),Sn=Cn.tryCapture();return(Sn?_n.compositionTransactionOwnershipToken=Sn:_n.compositionTransactionNotifier=Cn.enlist(),_n.viewModel)?this._createControllerAndSwap(_n):_n.view?(_n.viewResources&&_n.view.makeRelativeTo(_n.viewResources.viewUrl),_n.view.loadViewFactory(this.viewEngine,new It).then((An)=>{let Pn=An.create(_n.childContainer);return Pn.bind(_n.bindingContext,_n.overrideContext),_n.compositionTransactionOwnershipToken?_n.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>this._swap(_n,Pn)).then(()=>Pn):this._swap(_n,Pn).then(()=>Pn)})):_n.viewSlot?(_n.viewSlot.removeAll(),_n.compositionTransactionNotifier&&_n.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)}})||ft),yn=class{initialize(){}register(){}load(_n,Cn){let Sn=new Cn,An=_n.get(Be.g);An.registerElementConfig(Sn)}};let wn=(vt=w.i(Ve.b)(Ve.a,rn,en,bn),vt(bt=class{constructor(_n,Cn,Sn,An){this._container=_n,this._moduleAnalyzer=Cn,this._viewCompiler=Sn,this._compositionEngine=An,_n.registerInstance(xt,xt.instance=new xt)}configureAnimator(_n){this._container.unregister(xt),this._container.registerInstance(xt,xt.instance=_n)}compose(_n){return this._compositionEngine.compose(_n)}enhance(_n){_n instanceof Oe.c.Element&&(_n={element:_n});let Cn={},Sn=_n.resources||this._container.get(Ut);this._viewCompiler._compileNode(_n.element,Sn,Cn,_n.element.parentNode,'root',!0);let An=new Xt(_n.element,Cn,Sn),Pn=_n.container||this._container.createChild(),In=An.create(Pn,Et.enhance());return In.bind(_n.bindingContext||{},_n.overrideContext),In}})||bt)},10:function(u,h,w){'use strict';function A(Oe,Le,Te=!1){return Le||'#'===Oe[0]||(Oe='#'+Oe),Le&&Te&&(Oe=Oe.substring(1,Oe.length)),Oe}function I(Oe,Le,Te,Ve){if(ue.test(Oe))return Oe;let Be='';return Le.length&&'/'!==Le[0]&&(Be+='/'),Be+=Le,Be.length&&'/'===Be[Be.length-1]||'/'===Oe[0]||(Be+='/'),Be.length&&'/'===Be[Be.length-1]&&'/'===Oe[0]&&(Be=Be.substring(0,Be.length-1)),A(Be+Oe,Te,Ve)}function N(Oe,Le,Te){return de.test(Oe)?A(Oe,Te):I(Oe,Le,Te)}function R(Oe,Le){return(Te)=>{return Promise.resolve({status:Le,output:Te,completed:Le===ce.completed})}}function M(Oe){Oe.previousInstruction=null,Oe.plan=null}function T(Oe){return Oe&&'function'==typeof Oe.navigate}function V(Oe,Le){let Te=Oe.previousInstruction,Ve=Oe.config,Be={};if('redirect'in Ve){let je=N(Ve.redirect,F(Oe));return Oe.queryString&&(je+='?'+Oe.queryString),Promise.reject(new fe(je))}if(Te){let je=B(Te,Oe),Fe=[];for(let qe in Te.viewPortInstructions){let De=Te.viewPortInstructions[qe],ze=Ve.viewPorts[qe];if(!ze)throw new Error(`Invalid Route Config: Configuration for viewPort "${qe}" was not found for route: "${Oe.config.route}."`);let He=Be[qe]={name:qe,config:ze,prevComponent:De.component,prevModuleId:De.moduleId};if(He.strategy=De.moduleId===ze.moduleId?'determineActivationStrategy'in De.component.viewModel?De.component.viewModel.determineActivationStrategy(...Oe.lifecycleArgs):Ve.activationStrategy?Ve.activationStrategy:je||Le?ye.invokeLifecycle:ye.noChange:ye.replace,He.strategy!==ye.replace&&De.childRouter){let Ue=Oe.getWildcardPath(),We=De.childRouter._createNavigationInstruction(Ue,Oe).then((Qe)=>{return He.childNavigationInstruction=Qe,V(Qe,He.strategy===ye.invokeLifecycle).then((Ye)=>{Qe.plan=Ye})});Fe.push(We)}}return Promise.all(Fe).then(()=>Be)}for(let je in Ve.viewPorts)Be[je]={name:je,strategy:ye.replace,config:Oe.config.viewPorts[je]};return Promise.resolve(Be)}function B(Oe,Le){let Te=Oe.params,Ve=Le.params,Be=Le.config.hasChildRouter?Le.getWildCardName():null;for(let qe in Ve)if(qe!==Be&&Te[qe]!==Ve[qe])return!0;for(let qe in Te)if(qe!==Be&&Te[qe]!==Ve[qe])return!0;if(!Le.options.compareQueryParams)return!1;let je=Oe.queryParams,Fe=Le.queryParams;for(let qe in Fe)if(je[qe]!==Fe[qe])return!0;for(let qe in je)if(je[qe]!==Fe[qe])return!0;return!1}function F(Oe){let Le=[];for(Oe=Oe.parentInstruction;Oe;)Le.unshift(Oe.getBaseUrl()),Oe=Oe.parentInstruction;return Le.unshift('/'),Le.join('')}function D(Oe){if('object'!=typeof Oe)throw new Error('Invalid Route Config');if('string'!=typeof Oe.route){let Te=Oe.name||'(no name)';throw new Error('Invalid Route Config for "'+Te+'": You must specify a "route:" pattern.')}if(!('redirect'in Oe||Oe.moduleId||Oe.navigationStrategy||Oe.viewPorts))throw new Error('Invalid Route Config for "'+Oe.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function z(Oe,Le,Te){return Promise.resolve(Le.call(Te,Oe)).then(()=>{return'viewPorts'in Oe.config||(Oe.config.viewPorts={'default':{moduleId:Oe.config.moduleId}}),Oe})}function H(Oe,Le,Te,Ve){function Be(De){return Ve||K(De)?je():Te.cancel(De)}function je(){if(qe--)try{let De=Fe[qe],ze=De[Le]();return $(ze,Be,Te.cancel)}catch(De){return Te.cancel(De)}return Te()}let Fe=U(Oe,Le),qe=Fe.length;return je()}function U(Oe,Le,Te=[]){for(let Ve in Oe){let Be=Oe[Ve],je=Be.prevComponent;if((Be.strategy===ye.invokeLifecycle||Be.strategy===ye.replace)&&je){let Fe=je.viewModel;Le in Fe&&Te.push(Fe)}Be.childNavigationInstruction?U(Be.childNavigationInstruction.plan,Le,Te):je&&W(je,Le,Te)}return Te}function W(Oe,Le,Te){let Ve=Oe.childRouter;if(Ve&&Ve.currentInstruction){let Be=Ve.currentInstruction.viewPortInstructions;for(let je in Be){let Fe=Be[je],qe=Fe.component,De=qe.viewModel;Le in De&&Te.push(De),W(qe,Le,Te)}}}function Q(Oe,Le,Te,Ve){function Be(ze,He){return Ve||K(ze,He)?je():Te.cancel(ze)}function je(){if(De++,De<qe)try{let ze=Fe[De],He=ze.viewModel[Le](...ze.lifecycleArgs);return $(He,(Ue)=>Be(Ue,ze.router),Te.cancel)}catch(ze){return Te.cancel(ze)}return Te()}let Fe=Y(Oe,Le),qe=Fe.length,De=-1;return je()}function Y(Oe,Le,Te=[],Ve){let Be=Oe.plan;return Object.keys(Be).filter((je)=>{let Fe=Be[je],qe=Oe.viewPortInstructions[je],De=qe.component.viewModel;(Fe.strategy===ye.invokeLifecycle||Fe.strategy===ye.replace)&&Le in De&&Te.push({viewModel:De,lifecycleArgs:qe.lifecycleArgs,router:Ve}),Fe.childNavigationInstruction&&Y(Fe.childNavigationInstruction,Le,Te,qe.component.childRouter||Ve)}),Te}function K(Oe,Le){return!(Oe instanceof Error)&&(T(Oe)?('function'==typeof Oe.setRouter&&Oe.setRouter(Le),!!Oe.shouldContinueProcessing):!(void 0!==Oe)||Oe)}function $(Oe,Le,Te){if(Oe&&'function'==typeof Oe.then)return Promise.resolve(Oe).then(Le).catch(Te);if(Oe&&'function'==typeof Oe.subscribe){return new Ae((Be)=>Oe.subscribe({next(){Be.subscribed&&(Be.unsubscribe(),Le(Oe))},error(je){Be.subscribed&&(Be.unsubscribe(),Te(je))},complete(){Be.subscribed&&(Be.unsubscribe(),Le(Oe))}}))}try{return Le(Oe)}catch(Ve){return Te(Ve)}}function X(Oe,Le){let Te=J(Le),Ve=Te.map((Be)=>Z(Oe,Be.navigationInstruction,Be.viewPortPlan));return Promise.all(Ve)}function J(Oe,Le=[]){let Te=Oe.plan;for(let Ve in Te){let Be=Te[Ve];if(Be.strategy===ye.replace)Le.push({viewPortPlan:Be,navigationInstruction:Oe}),Be.childNavigationInstruction&&J(Be.childNavigationInstruction,Le);else{let je=Oe.addViewPortInstruction(Ve,Be.strategy,Be.prevModuleId,Be.prevComponent);Be.childNavigationInstruction&&(je.childNavigationInstruction=Be.childNavigationInstruction,J(Be.childNavigationInstruction,Le))}}return Le}function Z(Oe,Le,Te){let Ve=Te.config.moduleId;return ee(Oe,Le,Te.config).then((Be)=>{let je=Le.addViewPortInstruction(Te.name,Te.strategy,Ve,Be),Fe=Be.childRouter;if(Fe){let qe=Le.getWildcardPath();return Fe._createNavigationInstruction(qe,Le).then((De)=>{return Te.childNavigationInstruction=De,V(De).then((ze)=>{return De.plan=ze,je.childNavigationInstruction=De,X(Oe,De)})})}})}function ee(Oe,Le,Te){let Ve=Le.router,Be=Le.lifecycleArgs;return Oe.loadRoute(Ve,Te,Le).then((je)=>{let{viewModel:Fe,childContainer:qe}=je;if(je.router=Ve,je.config=Te,'configureRouter'in Fe){let De=qe.getChildRouter();return je.childRouter=De,De.configure((ze)=>Fe.configureRouter(ze,De,...Be)).then(()=>je)}return je})}function te(Oe,Le,Te,Ve){Le&&'completed'in Le&&'output'in Le||(Le=Le||{},Le.output=new Error(`Expected router pipeline to return a navigation result, but got [${JSON.stringify(Le)}] instead.`));let Be=null;return T(Le.output)?Le.output.navigate(Ve):(Be=Le,!Le.completed&&(Le.output instanceof Error&&Re.error(Le.output),re(Ve))),Ve._dequeueInstruction(Te+1).then((je)=>Be||je||Le)}function ne(Oe,Le,Te,Ve){Oe.resolve(Le);let Be={instruction:Oe,result:Le};if(!Te){Ve.isNavigating=!1,Ve.isExplicitNavigation=!1,Ve.isExplicitNavigationBack=!1;let je;if(Le.output instanceof Error)je='error';else if(!Le.completed)je='canceled';else{let Fe=Oe.queryString?'?'+Oe.queryString:'';Ve.history.previousLocation=Oe.fragment+Fe,je='success'}Ve.events.publish(`router:navigation:${je}`,Be),Ve.events.publish('router:navigation:complete',Be)}else Ve.events.publish('router:navigation:child:complete',Be);return Le}function re(Oe){let Le=Oe.history.previousLocation;Le?Oe.navigate(Oe.history.previousLocation,{trigger:!1,replace:!0}):Oe.fallbackRoute?Oe.navigate(Oe.fallbackRoute,{trigger:!0,replace:!0}):Re.error('Router navigation failed, and no previous location or fallbackRoute could be restored.')}var ie=w(5),ae=w(29),oe=w(2),se=w(13),le=w('aurelia-event-aggregator');w.d(h,'b',function(){return we}),w.d(h,'a',function(){return Pe}),w.d(h,'c',function(){return Me});const de=/^#?\//,ue=/^([a-z][a-z0-9+\-.]*:)?\/\//i,ce={completed:'completed',canceled:'canceled',rejected:'rejected',running:'running'};let pe=class{constructor(){this.steps=[]}addStep(Le){let Te;if('function'==typeof Le)Te=Le;else{if('function'==typeof Le.getSteps){let Ve=Le.getSteps();for(let Be=0,je=Ve.length;Be<je;Be++)this.addStep(Ve[Be]);return this}Te=Le.run.bind(Le)}return this.steps.push(Te),this}run(Le){function Te(){if(Ve++,Ve<Be.length){let je=Be[Ve];try{return je(Le,Te)}catch(Fe){return Te.reject(Fe)}}else return Te.complete()}let Ve=-1,Be=this.steps;return Te.complete=R(Te,ce.completed),Te.cancel=R(Te,ce.canceled),Te.reject=R(Te,ce.rejected),Te()}},ge=class{run(Le,Te){return Le._commitChanges(!0).then(()=>{return Le._updateTitle(),Te()})}},me=class{constructor(Le){this.plan=null,this.options={},Object.assign(this,Le),this.params=this.params||{},this.viewPortInstructions={};let Te=[],Ve=this;do{let je=Object.assign({},Ve.params);Ve.config&&Ve.config.hasChildRouter&&delete je[Ve.getWildCardName()],Te.unshift(je),Ve=Ve.parentInstruction}while(Ve);let Be=Object.assign({},this.queryParams,...Te);this.lifecycleArgs=[Be,this.config,this]}getAllInstructions(){let Le=[this];for(let Te in this.viewPortInstructions){let Ve=this.viewPortInstructions[Te].childNavigationInstruction;Ve&&Le.push(...Ve.getAllInstructions())}return Le}getAllPreviousInstructions(){return this.getAllInstructions().map((Le)=>Le.previousInstruction).filter((Le)=>Le)}addViewPortInstruction(Le,Te,Ve,Be){let je=this.viewPortInstructions[Le]={name:Le,strategy:Te,moduleId:Ve,component:Be,childRouter:Be.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return je}getWildCardName(){let Le=this.config.route.lastIndexOf('*');return this.config.route.substr(Le+1)}getWildcardPath(){let Le=this.getWildCardName(),Te=this.params[Le]||'';return this.queryString&&(Te+='?'+this.queryString),Te}getBaseUrl(){let Le=this.fragment;if(''===Le){let Be=this.router.routes.find((je)=>{return je.name===this.config.name&&''!==je.route});Be&&(Le=Be.route)}if(!this.params)return Le;let Te=this.getWildCardName(),Ve=this.params[Te]||'';return Ve?(Ve=encodeURI(Ve),Le.substr(0,Le.lastIndexOf(Ve))):Le}_commitChanges(Le){let Te=this.router;Te.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,Te._refreshBaseUrl(),Te.refreshNavigation();let Ve=[],Be=[];for(let je in this.viewPortInstructions){let Fe=this.viewPortInstructions[je],qe=Te.viewPorts[je];if(!qe)throw new Error(`There was no router-view found in the view for ${Fe.moduleId}.`);Fe.strategy===ye.replace?(Le&&Be.push({viewPort:qe,viewPortInstruction:Fe}),Ve.push(qe.process(Fe,Le).then(()=>{return Fe.childNavigationInstruction?Fe.childNavigationInstruction._commitChanges():void 0}))):Fe.childNavigationInstruction&&Ve.push(Fe.childNavigationInstruction._commitChanges(Le))}return Promise.all(Ve).then(()=>{return Be.forEach((je)=>je.viewPort.swap(je.viewPortInstruction)),null}).then(()=>M(this))}_updateTitle(){let Le=this._buildTitle();Le&&this.router.history.setTitle(Le)}_buildTitle(Le=' | '){let Te='',Ve=[];for(let Be in this.config.navModel.title&&(Te=this.router.transformTitle(this.config.navModel.title)),this.viewPortInstructions){let je=this.viewPortInstructions[Be];if(je.childNavigationInstruction){let Fe=je.childNavigationInstruction._buildTitle(Le);Fe&&Ve.push(Fe)}}return Ve.length&&(Te=Ve.join(Le)+(Te?Le:'')+Te),this.router.title&&(Te+=(Te?Le:'')+this.router.transformTitle(this.router.title)),Te}},he=class{constructor(Le,Te){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=Le,this.relativeHref=Te}setTitle(Le){this.title=Le,this.isActive&&this.router.updateTitle()}},fe=class{constructor(Le,Te={}){this.url=Le,this.options=Object.assign({trigger:!0,replace:!0},Te),this.shouldContinueProcessing=!1}setRouter(Le){this.router=Le}navigate(Le){let Te=this.options.useAppRouter?Le:this.router||Le;Te.navigate(this.url,this.options)}},be=class{constructor(){this.instructions=[],this.options={},this.pipelineSteps=[]}addPipelineStep(Le,Te){return this.pipelineSteps.push({name:Le,step:Te}),this}addAuthorizeStep(Le){return this.addPipelineStep('authorize',Le)}addPreActivateStep(Le){return this.addPipelineStep('preActivate',Le)}addPreRenderStep(Le){return this.addPipelineStep('preRender',Le)}addPostRenderStep(Le){return this.addPipelineStep('postRender',Le)}fallbackRoute(Le){return this._fallbackRoute=Le,this}map(Le){return Array.isArray(Le)?(Le.forEach(this.map.bind(this)),this):this.mapRoute(Le)}mapRoute(Le){return this.instructions.push((Te)=>{let Ve=[];if(Array.isArray(Le.route))for(let je=0,Fe=Le.route.length,qe;je<Fe;++je)qe=Object.assign({},Le),qe.route=Le.route[je],Ve.push(qe);else Ve.push(Object.assign({},Le));let Be;for(let je=0,Fe=Ve.length,qe;je<Fe;++je)qe=Ve[je],qe.settings=qe.settings||{},Be||(Be=Te.createNavModel(qe)),Te.addRoute(qe,Be)}),this}mapUnknownRoutes(Le){return this.unknownRouteConfig=Le,this}exportToRouter(Le){let Te=this.instructions;for(let Be=0,je=Te.length;Be<je;++Be)Te[Be](Le);this.title&&(Le.title=this.title),this.unknownRouteConfig&&Le.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(Le.fallbackRoute=this._fallbackRoute),Le.options=this.options;let Ve=this.pipelineSteps;if(Ve.length){if(!Le.isRoot)throw new Error('Pipeline steps can only be added to the root router');let Be=Le.pipelineProvider;for(let je=0,Fe=Ve.length;je<Fe;++je){let{name:qe,step:De}=Ve[je];Be.addStep(qe,De)}}}};const ye={noChange:'no-change',invokeLifecycle:'invoke-lifecycle',replace:'replace'};let xe=class{run(Le,Te){return V(Le).then((Ve)=>{return Le.plan=Ve,Te()}).catch(Te.cancel)}},we=class Oe{constructor(Le,Te){this.parent=null,this.options={},this.transformTitle=(Ve)=>{return this.parent?this.parent.transformTitle(Ve):Ve},this.container=Le,this.history=Te,this.reset()}reset(){this.viewPorts={},this.routes=[],this.baseUrl='',this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new ae.a,this._childRecognizer=new ae.a,this._configuredPromise=new Promise((Le)=>{this._resolveConfiguredPromise=Le})}get isRoot(){return!this.parent}registerViewPort(Le,Te){Te=Te||'default',this.viewPorts[Te]=Le}ensureConfigured(){return this._configuredPromise}configure(Le){this.isConfigured=!0;let Te=Le,Ve;return'function'==typeof Le&&(Ve=new be,Te=Le(Ve)),Promise.resolve(Te).then((Be)=>{Be&&Be.exportToRouter&&(Ve=Be),Ve.exportToRouter(this),this.isConfigured=!0,this._resolveConfiguredPromise()})}navigate(Le,Te){return!this.isConfigured&&this.parent?this.parent.navigate(Le,Te):(this.isExplicitNavigation=!0,this.history.navigate(N(Le,this.baseUrl,this.history._hasPushState),Te))}navigateToRoute(Le,Te,Ve){let Be=this.generate(Le,Te);return this.navigate(Be,Ve)}navigateBack(){this.isExplicitNavigationBack=!0,this.history.navigateBack()}createChild(Le){let Te=new Oe(Le||this.container.createChild(),this.history);return Te.parent=this,Te}generate(Le,Te,Ve={}){let Be=this._recognizer.hasRoute(Le);if((!this.isConfigured||!Be)&&this.parent)return this.parent.generate(Le,Te);if(!Be)throw new Error(`A route with name '${Le}' could not be found. Check that \`name: '${Le}'\` was specified in the route's config.`);let je=this._recognizer.generate(Le,Te),Fe=I(je,this.baseUrl,this.history._hasPushState,Ve.absolute);return Ve.absolute?`${this.history.getAbsoluteRoot()}${Fe}`:Fe}createNavModel(Le){let Te=new he(this,'href'in Le?Le.href:Le.route);return Te.title=Le.title,Te.order=Le.nav,Te.href=Le.href,Te.settings=Le.settings,Te.config=Le,Te}addRoute(Le,Te){D(Le,this.routes),'viewPorts'in Le||Le.navigationStrategy||(Le.viewPorts={'default':{moduleId:Le.moduleId,view:Le.view}}),Te||(Te=this.createNavModel(Le)),this.routes.push(Le);let Ve=Le.route;'/'===Ve.charAt(0)&&(Ve=Ve.substr(1));let Be=!0===Le.caseSensitive,je=this._recognizer.add({path:Ve,handler:Le,caseSensitive:Be});if(Ve){let Fe=Le.settings;delete Le.settings;let qe=JSON.parse(JSON.stringify(Le));Le.settings=Fe,qe.route=`${Ve}/*childRoute`,qe.hasChildRouter=!0,this._childRecognizer.add({path:qe.route,handler:qe,caseSensitive:Be}),qe.navModel=Te,qe.settings=Le.settings,qe.navigationStrategy=Le.navigationStrategy}if(Le.navModel=Te,(Te.order||0===Te.order)&&-1===this.navigation.indexOf(Te)){if(!Te.href&&''!==Te.href&&(je.types.dynamics||je.types.stars))throw new Error('Invalid route config for "'+Le.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');'number'!=typeof Te.order&&(Te.order=++this._fallbackOrder),this.navigation.push(Te),this.navigation=this.navigation.sort((Fe,qe)=>Fe.order-qe.order)}}hasRoute(Le){return!!(this._recognizer.hasRoute(Le)||this.parent&&this.parent.hasRoute(Le))}hasOwnRoute(Le){return this._recognizer.hasRoute(Le)}handleUnknownRoutes(Le){if(!Le)throw new Error('Invalid unknown route handler');this.catchAllHandler=(Te)=>{return this._createRouteConfig(Le,Te).then((Ve)=>{return Te.config=Ve,Te})}}updateTitle(){return this.parent?this.parent.updateTitle():(this.currentInstruction&&this.currentInstruction._updateTitle(),void 0)}refreshNavigation(){let Le=this.navigation;for(let Te=0,Ve=Le.length,Be;Te<Ve;Te++)Be=Le[Te],Be.href=Be.config.href?A(Be.config.href,this.history._hasPushState):I(Be.relativeHref,this.baseUrl,this.history._hasPushState)}_refreshBaseUrl(){if(this.parent){let Le=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+Le}}_createNavigationInstruction(Le='',Te=null){let Ve=Le,Be='',je=Le.indexOf('?');-1!==je&&(Ve=Le.substr(0,je),Be=Le.substr(je+1));let Fe=this._recognizer.recognize(Le);Fe&&Fe.length||(Fe=this._childRecognizer.recognize(Le));let qe={fragment:Ve,queryString:Be,config:null,parentInstruction:Te,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(Fe&&Fe.length){let De=Fe[0],ze=new me(Object.assign({},qe,{params:De.params,queryParams:De.queryParams||Fe.queryParams,config:De.config||De.handler}));if('function'==typeof De.handler)return z(ze,De.handler,De);return De.handler&&'function'==typeof De.handler.navigationStrategy?z(ze,De.handler.navigationStrategy,De.handler):Promise.resolve(ze)}if(this.catchAllHandler){let De=new me(Object.assign({},qe,{params:{path:Ve},queryParams:Fe&&Fe.queryParams,config:null}));return z(De,this.catchAllHandler)}return Promise.reject(new Error(`Route not found: ${Le}`))}_createRouteConfig(Le,Te){return Promise.resolve(Le).then((Ve)=>{if('string'==typeof Ve)return{moduleId:Ve};return'function'==typeof Ve?Ve(Te):Ve}).then((Ve)=>'string'==typeof Ve?{moduleId:Ve}:Ve).then((Ve)=>{return Ve.route=Te.params.path,D(Ve,this.routes),Ve.navModel||(Ve.navModel=this.createNavModel(Ve)),Ve})}},ke=class{run(Le,Te){return H(Le.plan,'canDeactivate',Te)}},_e=class{run(Le,Te){return Q(Le,'canActivate',Te)}},Ce=class{run(Le,Te){return H(Le.plan,'deactivate',Te,!0)}},Se=class{run(Le,Te){return Q(Le,'activate',Te,!0)}},Ae=class{constructor(Le){this._subscribed=!0,this._subscription=Le(this),this._subscribed||this.unsubscribe()}get subscribed(){return this._subscribed}unsubscribe(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1}},Pe=class{loadRoute(){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')}},Ie=class{static inject(){return[Pe]}constructor(Le){this.routeLoader=Le}run(Le,Te){return X(this.routeLoader,Le).then(Te).catch(Te.cancel)}},Ee=class{constructor(Le,Te,Ve){this.steps=[],this.container=Le,this.slotName=Te,this.slotAlias=Ve}getSteps(){return this.steps.map((Le)=>this.container.get(Le))}},Ne=class{static inject(){return[oe.a]}constructor(Le){this.container=Le,this.steps=[xe,ke,Ie,this._createPipelineSlot('authorize'),_e,this._createPipelineSlot('preActivate','modelbind'),Ce,Se,this._createPipelineSlot('preRender','precommit'),ge,this._createPipelineSlot('postRender','postcomplete')]}createPipeline(){let Le=new pe;return this.steps.forEach((Te)=>Le.addStep(this.container.get(Te))),Le}_findStep(Le){return this.steps.find((Te)=>Te.slotName===Le||Te.slotAlias===Le)}addStep(Le,Te){let Ve=this._findStep(Le);if(Ve)Ve.steps.includes(Te)||Ve.steps.push(Te);else throw new Error(`Invalid pipeline slot name: ${Le}.`)}removeStep(Le,Te){let Ve=this._findStep(Le);Ve&&Ve.steps.splice(Ve.steps.indexOf(Te),1)}_clearSteps(Le=''){let Te=this._findStep(Le);Te&&(Te.steps=[])}reset(){this._clearSteps('authorize'),this._clearSteps('preActivate'),this._clearSteps('preRender'),this._clearSteps('postRender')}_createPipelineSlot(Le,Te){return new Ee(this.container,Le,Te)}};const Re=ie.getLogger('app-router');let Me=class extends we{static inject(){return[oe.a,se.a,Ne,le.b]}constructor(Le,Te,Ve,Be){super(Le,Te),this.pipelineProvider=Ve,this.events=Be}reset(){super.reset(),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]}loadUrl(Le){return this._createNavigationInstruction(Le).then((Te)=>this._queueInstruction(Te)).catch((Te)=>{Re.error(Te),re(this)})}registerViewPort(Le,Te){if(super.registerViewPort(Le,Te),!this.isActive){let Ve=this._findViewModel(Le);if(!('configureRouter'in Ve))this.activate();else if(!this.isConfigured){let Be=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=()=>{},this.configure((je)=>Ve.configureRouter(je,this)).then(()=>{this.activate(),Be()})}}else this._dequeueInstruction();return Promise.resolve()}activate(Le){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,Le),this.history.activate(this.options),this._dequeueInstruction())}deactivate(){this.isActive=!1,this.history.deactivate()}_queueInstruction(Le){return new Promise((Te)=>{Le.resolve=Te,this._queue.unshift(Le),this._dequeueInstruction()})}_dequeueInstruction(Le=0){return Promise.resolve().then(()=>{if(this.isNavigating&&!Le)return;let Te=this._queue.shift();if(this._queue.length=0,!!Te){if(this.isNavigating=!0,Te.previousInstruction=this.currentInstruction,!Le)this.events.publish('router:navigation:processing',{instruction:Te});else{if(Le===this.maxInstructionCount-1)return Re.error(`${Le+1} navigation instructions have been attempted without success. Restoring last known good location.`),re(this),this._dequeueInstruction(Le+1);if(Le>this.maxInstructionCount)throw new Error('Maximum navigation attempts exceeded. Giving up.')}let Ve=this.pipelineProvider.createPipeline();return Ve.run(Te).then((Be)=>te(Te,Be,Le,this)).catch((Be)=>{return{output:Be instanceof Error?Be:new Error(Be)}}).then((Be)=>ne(Te,Be,!!Le,this))}})}_findViewModel(Le){if(this.container.viewModel)return this.container.viewModel;if(Le.container)for(let Te=Le.container;Te;){if(Te.viewModel)return this.container.viewModel=Te.viewModel,Te.viewModel;Te=Te.parent}}}},11:function(u,h,w){'use strict';var N=w(0);h.a=function(){N.c.injectStyles(M)},h.b=function(T){N.d.shadowDOM&&T&&!T.hasAureliaHideStyle&&(T.hasAureliaHideStyle=!0,N.c.injectStyles(M,T))};const R='aurelia-hide';h.c=R;const M=`.${R} { display:none !important; }`},12:function(u){var w=function(){return this}();try{w=w||Function('return this')()||(1,eval)('this')}catch(A){'object'==typeof window&&(w=window)}u.exports=w},13:function(u,h,w){'use strict';function A(N){throw new Error(`History must implement ${N}().`)}w.d(h,'a',function(){return I});let I=class{activate(){A('activate')}deactivate(){A('deactivate')}getAbsoluteRoot(){A('getAbsoluteRoot')}navigate(){A('navigate')}navigateBack(){A('navigateBack')}setTitle(){A('setTitle')}}},14:function(u,h,w){'use strict';w.d(h,'a',function(){return A});let A=class{constructor(N){Object.assign(this,{local:'items',viewsRequireLifecycle:!0},N)}viewCount(){throw new Error('subclass must implement `viewCount`')}views(){throw new Error('subclass must implement `views`')}view(){throw new Error('subclass must implement `view`')}matcher(){throw new Error('subclass must implement `matcher`')}addView(){throw new Error('subclass must implement `addView`')}insertView(){throw new Error('subclass must implement `insertView`')}moveView(){throw new Error('subclass must implement `moveView`')}removeAllViews(){throw new Error('subclass must implement `removeAllViews`')}removeViews(){throw new Error('subclass must implement `removeView`')}removeView(){throw new Error('subclass must implement `removeView`')}updateBindings(){throw new Error('subclass must implement `updateBindings`')}}},15:function(u,h){'use strict';function A(M){let T=M.type,V=null===T.elementName?T.attributeName:T.elementName;return-1===R.indexOf(V)&&(T.handlesAttached||T.handlesBind||T.handlesCreated||T.handlesDetached||T.handlesUnbind)||T.viewFactory&&N(T.viewFactory)||M.viewFactory&&N(M.viewFactory)}function I(M){let T=M.behaviorInstructions;if(T)for(let V=T.length;V--;)if(A(T[V]))return!0;return M.viewFactory&&N(M.viewFactory)}function N(M){if('_viewsRequireLifecycle'in M)return M._viewsRequireLifecycle;if(M._viewsRequireLifecycle=!1,M.viewFactory)return M._viewsRequireLifecycle=N(M.viewFactory),M._viewsRequireLifecycle;if(M.template.querySelector('.au-animate'))return M._viewsRequireLifecycle=!0,!0;for(let T in M.instructions)if(I(M.instructions[T]))return M._viewsRequireLifecycle=!0,!0;return M._viewsRequireLifecycle=!1,!1}h.a=N;const R=['focus','if','repeat','show','with']},16:function(u,h,w){'use strict';var A=w(7),I=w(3);w.d(h,'a',function(){return N});let N=class{getCollectionObserver(M,T){return M.getArrayObserver(T)}instanceChanged(M,T){const V=T.length;if(!T||0===V)return void M.removeAllViews(!0,!M.viewsRequireLifecycle);const B=M.views(),F=B.length;if(0===F)return void this._standardProcessInstanceChanged(M,T);if(M.viewsRequireLifecycle){const D=B.slice(0),z=M.local,H=M.matcher();let U=[];const W=[];for(let K=0;K<F;K++){const $=D[K],X=$.bindingContext[z];-1===w.i(A.g)(T,X,H)?W.push($):U.push(X)}let Q,Y;0<U.length?(Y=M.removeViews(W,!0,!M.viewsRequireLifecycle),Q=()=>{for(let K=0;K<V;K++){const $=T[K],X=w.i(A.g)(U,$,H,K);let J;if(-1===X){const Z=w.i(A.e)(M,T[K],K,V);M.insertView(K,Z.bindingContext,Z),U.splice(K,0,void 0)}else X===K?(J=B[X],U[X]=void 0):(J=B[X],M.moveView(X,K),U.splice(X,1),U.splice(K,0,void 0));J&&w.i(A.h)(J.overrideContext,K,V)}this._inPlaceProcessItems(M,T)}):(Y=M.removeAllViews(!0,!M.viewsRequireLifecycle),Q=()=>this._standardProcessInstanceChanged(M,T)),Y instanceof Promise?Y.then(Q):Q()}else this._inPlaceProcessItems(M,T)}_standardProcessInstanceChanged(M,T){for(let V=0,B=T.length,F;V<B;V++)F=w.i(A.e)(M,T[V],V,B),M.addView(F.bindingContext,F)}_inPlaceProcessItems(M,T){let V=T.length,B=M.viewCount();for(;B>V;)B--,M.removeView(B,!0,!M.viewsRequireLifecycle);let F=M.local;for(let D=0;D<B;D++){let z=M.view(D),H=D===V-1,U=0!==D&&!H;(z.bindingContext[F]!==T[D]||z.overrideContext.$middle!==U||z.overrideContext.$last!==H)&&(z.bindingContext[F]=T[D],z.overrideContext.$middle=U,z.overrideContext.$last=H,M.updateBindings(z))}for(let D=B,z;D<V;D++)z=w.i(A.e)(M,T[D],D,V),M.addView(z.bindingContext,z)}instanceMutated(M,T,V){if(M.__queuedSplices){for(let F=0,D=V.length;F<D;++F){let{index:z,removed:H,addedCount:U}=V[F];w.i(I.l)(M.__queuedSplices,z,H,U)}return void(M.__array=T.slice(0))}let B=this._runSplices(M,T.slice(0),V);if(B instanceof Promise){let F=M.__queuedSplices=[],D=()=>{if(!F.length)return M.__queuedSplices=void 0,void(M.__array=void 0);let z=this._runSplices(M,M.__array,F)||Promise.resolve();F=M.__queuedSplices=[],z.then(D)};B.then(D)}}_runSplices(M,T,V){let B=0,F=[];for(let z=0,H=V.length;z<H;++z){let U=V[z],W=U.removed;for(let Q=0,Y=W.length,K;Q<Y;++Q)K=M.removeView(U.index+B+F.length,!0),K instanceof Promise&&F.push(K);B-=U.addedCount}if(0<F.length)return Promise.all(F).then(()=>{let z=this._handleAddedSplices(M,T,V);w.i(A.f)(M.views(),z)});let D=this._handleAddedSplices(M,T,V);return w.i(A.f)(M.views(),D),void 0}_handleAddedSplices(M,T,V){let B,F,D=T.length;for(let z=0,H=V.length;z<H;++z){let U=V[z],W=B=U.index,Q=U.index+U.addedCount;for(('undefined'==typeof F||null===F||F>U.index)&&(F=B);W<Q;++W){let Y=w.i(A.e)(M,T[W],W,D);M.insertView(W,Y.bindingContext,Y)}}return F}}},17:function(u,h,w){'use strict';var A=w(3);w.d(h,'a',function(){return I});let I=class{constructor(){this.signals={}}signal(R){let M=this.signals[R];if(M)for(let T=M.length;T--;)M[T].call(A.k)}}},18:function(u,h,w){'use strict';w.d(h,'a',function(){return I});const A=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let I=class{sanitize(R){return R.replace(A,'')}}},19:function(u,h,w){'use strict';var A=w(7);w.d(h,'a',function(){return I});let I=class{getCollectionObserver(R,M){return R.getMapObserver(M)}instanceChanged(R,M){let T=R.removeAllViews(!0,!R.viewsRequireLifecycle);return T instanceof Promise?void T.then(()=>this._standardProcessItems(R,M)):void this._standardProcessItems(R,M)}_standardProcessItems(R,M){let T=0,V;M.forEach((B,F)=>{V=w.i(A.e)(R,B,T,M.size,F),R.addView(V.bindingContext,V),++T})}instanceMutated(R,M,T){let V,B,F,D,z,H,U=[],W;for(B=0,F=T.length;B<F;++B)switch(H=T[B],V=H.key,H.type){case'update':z=this._getViewIndexByKey(R,V),W=R.removeView(z,!0,!R.viewsRequireLifecycle),W instanceof Promise&&U.push(W),D=w.i(A.e)(R,M.get(V),z,M.size,V),R.insertView(z,D.bindingContext,D);break;case'add':D=w.i(A.e)(R,M.get(V),M.size-1,M.size,V),R.insertView(M.size-1,D.bindingContext,D);break;case'delete':if(void 0===H.oldValue)return;z=this._getViewIndexByKey(R,V),W=R.removeView(z,!0,!R.viewsRequireLifecycle),W instanceof Promise&&U.push(W);break;case'clear':R.removeAllViews(!0,!R.viewsRequireLifecycle);break;default:continue;}0<U.length?Promise.all(U).then(()=>{w.i(A.f)(R.views(),0)}):w.i(A.f)(R.views(),0)}_getViewIndexByKey(R,M){let T,V,B;for(T=0,V=R.viewCount();T<V;++T)if(B=R.view(T),B.bindingContext[R.key]===M)return T}}},2:function(u,h,w){'use strict';function U(Ie){if(null===Ie||Ie===void 0)throw new Error('key/value cannot be null or undefined. Are you trying to inject/register something that doesn\'t exist with DI?')}function W(Ie,Ee,Ne,Re){let Me=Ne.length,Oe=Array(Me);for(;Me--;)Oe[Me]=Ie.get(Ne[Me]);return void 0!==Re&&(Oe=Oe.concat(Re)),Reflect.construct(Ee,Oe)}function Q(Ie){return Ie.hasOwnProperty('inject')?'function'==typeof Ie.inject?Ie.inject():Ie.inject:[]}var $=w(4),X=w(0);w.d(h,'d',function(){return he}),w.d(h,'a',function(){return Pe}),h.b=function(...Ie){return function(Ee,Ne,Re){if('number'==typeof Re&&1===Ie.length){let Me=Ee.inject;if('function'==typeof Me)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return Me||(Me=$.a.getOwn($.a.paramTypes,Ee).slice(),Ee.inject=Me),void(Me[Re]=Ie[0])}if(Re){const Me=Re.value;Me.inject=Ie}else Ee.inject=Ie}};var J,Z,ee,te,ne,re,ie,ae,oe,se,le,de,ue,ce;const pe=$.b.create('aurelia:resolver',function(Ie){return!('function'!=typeof Ie.get)||'Resolvers must implement: get(container: Container, key: any): any'});h.c=pe;let ge=(J=pe(),J(Z=class Ie{constructor(Ee){this._key=Ee}get(Ee){return()=>Ee.get(this._key)}static of(Ee){return new Ie(Ee)}})||Z),me=(ee=pe(),ee(te=class Ie{constructor(Ee){this._key=Ee}get(Ee){return Ee.getAll(this._key)}static of(Ee){return new Ie(Ee)}})||te),he=(ne=pe(),ne(re=class Ie{constructor(Ee,Ne=!0){this._key=Ee,this._checkParent=Ne}get(Ee){return Ee.hasResolver(this._key,this._checkParent)?Ee.get(this._key):null}static of(Ee,Ne=!0){return new Ie(Ee,Ne)}})||re),fe=(ie=pe(),ie(ae=class Ie{constructor(Ee){this._key=Ee}get(Ee){return Ee.parent?Ee.parent.get(this._key):null}static of(Ee){return new Ie(Ee)}})||ae),ve=(oe=pe(),oe(se=class{constructor(Ee,Ne){this.strategy=Ee,this.state=Ne}get(Ee,Ne){switch(this.strategy){case 0:return this.state;case 1:let Re=Ee.invoke(this.state);return this.state=Re,this.strategy=0,Re;case 2:return Ee.invoke(this.state);case 3:return this.state(Ee,Ne,this);case 4:return this.state[0].get(Ee,Ne);case 5:return Ee.get(this.state);default:throw new Error('Invalid strategy: '+this.strategy);}}})||se),be=(le=pe(),le(de=class Ie{constructor(Ee){this._key=Ee}get(Ee){return(...Ne)=>Ee.invoke(this._key,Ne)}static of(Ee){return new Ie(Ee)}})||de),ye=(ue=pe(),ue(ce=class Ie{constructor(Ee,...Ne){this.key=Ee,this.asKey=Ee,this.dynamicDependencies=Ne}get(Ee){let Ne=0<this.dynamicDependencies.length?this.dynamicDependencies.map((Me)=>Me['protocol:aurelia:resolver']?Me.get(Ee):Ee.get(Me)):void 0;const Re=Ee.invoke(this.key,Ne);return Ee.registerInstance(this.asKey,Re),Re}as(Ee){return this.asKey=Ee,this}static of(Ee,...Ne){return new Ie(Ee,...Ne)}})||ce),xe=class{invoke(Ee,Ne,Re){let Me=Re.length,Oe=Array(Me);for(;Me--;)Oe[Me]=Ee.get(Re[Me]);return Ne.apply(void 0,Oe)}invokeWithDynamicDependencies(Ee,Ne,Re,Me){let Oe=Re.length,Le=Array(Oe);for(;Oe--;)Le[Oe]=Ee.get(Re[Oe]);return void 0!==Me&&(Le=Le.concat(Me)),Ne.apply(void 0,Le)}};xe.instance=new xe;let we=class{constructor(Ee){this._key=Ee}registerResolver(Ee,Ne,Re){let Me=Ee.getResolver(this._key||Ne);return Me===void 0?Ee.registerTransient(this._key||Ne,Re):Me}},ke=class{constructor(Ee,Ne=!1){'boolean'==typeof Ee?this._registerInChild=Ee:(this._key=Ee,this._registerInChild=Ne)}registerResolver(Ee,Ne,Re){let Me=this._registerInChild?Ee:Ee.root,Oe=Me.getResolver(this._key||Ne);return Oe===void 0?Me.registerSingleton(this._key||Ne,Re):Oe}};const _e=Object.freeze([]);$.a.registration='aurelia:registration',$.a.invoker='aurelia:invoker';let Ce=pe.decorates,Se=class{constructor(Ee,Ne,Re){this.fn=Ee,this.invoker=Ne,this.dependencies=Re}invoke(Ee,Ne){return Ne===void 0?this.invoker.invoke(Ee,this.fn,this.dependencies):this.invoker.invokeWithDynamicDependencies(Ee,this.fn,this.dependencies,Ne)}},Ae={[0]:{invoke(Ie,Ee){return new Ee},invokeWithDynamicDependencies:W},[1]:{invoke(Ie,Ee,Ne){return new Ee(Ie.get(Ne[0]))},invokeWithDynamicDependencies:W},[2]:{invoke(Ie,Ee,Ne){return new Ee(Ie.get(Ne[0]),Ie.get(Ne[1]))},invokeWithDynamicDependencies:W},[3]:{invoke(Ie,Ee,Ne){return new Ee(Ie.get(Ne[0]),Ie.get(Ne[1]),Ie.get(Ne[2]))},invokeWithDynamicDependencies:W},[4]:{invoke(Ie,Ee,Ne){return new Ee(Ie.get(Ne[0]),Ie.get(Ne[1]),Ie.get(Ne[2]),Ie.get(Ne[3]))},invokeWithDynamicDependencies:W},[5]:{invoke(Ie,Ee,Ne){return new Ee(Ie.get(Ne[0]),Ie.get(Ne[1]),Ie.get(Ne[2]),Ie.get(Ne[3]),Ie.get(Ne[4]))},invokeWithDynamicDependencies:W},fallback:{invoke:W,invokeWithDynamicDependencies:W}},Pe=class Ie{constructor(Ee){Ee===void 0&&(Ee={}),this._configuration=Ee,this._onHandlerCreated=Ee.onHandlerCreated,this._handlers=Ee.handlers||(Ee.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}makeGlobal(){return Ie.instance=this,this}setHandlerCreatedCallback(Ee){this._onHandlerCreated=Ee,this._configuration.onHandlerCreated=Ee}registerInstance(Ee,Ne){return this.registerResolver(Ee,new ve(0,Ne===void 0?Ee:Ne))}registerSingleton(Ee,Ne){return this.registerResolver(Ee,new ve(1,Ne===void 0?Ee:Ne))}registerTransient(Ee,Ne){return this.registerResolver(Ee,new ve(2,Ne===void 0?Ee:Ne))}registerHandler(Ee,Ne){return this.registerResolver(Ee,new ve(3,Ne))}registerAlias(Ee,Ne){return this.registerResolver(Ne,new ve(5,Ee))}registerResolver(Ee,Ne){U(Ee);let Re=this._resolvers,Me=Re.get(Ee);return void 0===Me?Re.set(Ee,Ne):4===Me.strategy?Me.state.push(Ne):Re.set(Ee,new ve(4,[Me,Ne])),Ne}autoRegister(Ee,Ne){if(Ne=void 0===Ne?Ee:Ne,'function'==typeof Ne){let Re=$.a.get($.a.registration,Ne);return void 0===Re?this.registerResolver(Ee,new ve(1,Ne)):Re.registerResolver(this,Ee,Ne)}return this.registerResolver(Ee,new ve(0,Ne))}autoRegisterAll(Ee){for(let Ne=Ee.length;Ne--;)this.autoRegister(Ee[Ne])}unregister(Ee){this._resolvers.delete(Ee)}hasResolver(Ee,Ne=!1){return U(Ee),this._resolvers.has(Ee)||Ne&&null!==this.parent&&this.parent.hasResolver(Ee,Ne)}getResolver(Ee){return this._resolvers.get(Ee)}get(Ee){if(U(Ee),Ee===Ie)return this;if(Ce(Ee))return Ee.get(this,Ee);let Ne=this._resolvers.get(Ee);if(void 0===Ne){if(null===this.parent)return this.autoRegister(Ee).get(this,Ee);let Re=$.a.get($.a.registration,Ee);return void 0===Re?this.parent._get(Ee):Re.registerResolver(this,Ee,Ee).get(this,Ee)}return Ne.get(this,Ee)}_get(Ee){let Ne=this._resolvers.get(Ee);return void 0===Ne?null===this.parent?this.autoRegister(Ee).get(this,Ee):this.parent._get(Ee):Ne.get(this,Ee)}getAll(Ee){U(Ee);let Ne=this._resolvers.get(Ee);if(Ne===void 0)return null===this.parent?_e:this.parent.getAll(Ee);if(4===Ne.strategy){let Re=Ne.state,Me=Re.length,Oe=Array(Me);for(;Me--;)Oe[Me]=Re[Me].get(this,Ee);return Oe}return[Ne.get(this,Ee)]}createChild(){let Ee=new Ie(this._configuration);return Ee.root=this.root,Ee.parent=this,Ee}invoke(Ee,Ne){try{let Re=this._handlers.get(Ee);return void 0===Re&&(Re=this._createInvocationHandler(Ee),this._handlers.set(Ee,Re)),Re.invoke(this,Ne)}catch(Re){throw new X.e(`Error invoking ${Ee.name}. Check the inner error for details.`,Re,!0)}}_createInvocationHandler(Ee){let Ne;if(Ee.inject===void 0)Ne=$.a.getOwn($.a.paramTypes,Ee)||_e;else{Ne=[];for(let Oe=Ee;'function'==typeof Oe;)Ne.push(...Q(Oe)),Oe=Object.getPrototypeOf(Oe)}let Re=$.a.getOwn($.a.invoker,Ee)||Ae[Ne.length]||Ae.fallback,Me=new Se(Ee,Re,Ne);return this._onHandlerCreated===void 0?Me:this._onHandlerCreated(Me)}}},20:function(u,h,w){'use strict';w.d(h,'a',function(){return A});let A=class{instanceChanged(N){N.removeAllViews(!0)}getCollectionObserver(){}}},21:function(u,h,w){'use strict';var A=w(7);w.d(h,'a',function(){return I});let I=class{getCollectionObserver(){return null}instanceChanged(R,M){let T=R.removeAllViews(!0,!R.viewsRequireLifecycle);return T instanceof Promise?void T.then(()=>this._standardProcessItems(R,M)):void this._standardProcessItems(R,M)}_standardProcessItems(R,M){let T=R.viewCount(),V,B,F,D;if(M=_Mathfloor(M),D=T-M,0<D){for(D>T&&(D=T),V=0,B=D;V<B;++V)R.removeView(T-(V+1),!0,!R.viewsRequireLifecycle);return}for(V=T,B=M;V<B;++V)F=w.i(A.e)(R,V,V,B),R.addView(F.bindingContext,F);w.i(A.f)(R.views(),0)}}},22:function(u,h,w){'use strict';var A=w(20),I=w(16),N=w(19),R=w(23),M=w(21);w.d(h,'a',function(){return T});let T=class{constructor(){this.matchers=[],this.strategies=[],this.addStrategy((B)=>null===B||B===void 0,new A.a),this.addStrategy((B)=>B instanceof Array,new I.a),this.addStrategy((B)=>B instanceof Map,new N.a),this.addStrategy((B)=>B instanceof Set,new R.a),this.addStrategy((B)=>'number'==typeof B,new M.a)}addStrategy(B,F){this.matchers.push(B),this.strategies.push(F)}getStrategy(B){let F=this.matchers;for(let D=0,z=F.length;D<z;++D)if(F[D](B))return this.strategies[D];return null}}},23:function(u,h,w){'use strict';var A=w(7);w.d(h,'a',function(){return I});let I=class{getCollectionObserver(R,M){return R.getSetObserver(M)}instanceChanged(R,M){let T=R.removeAllViews(!0,!R.viewsRequireLifecycle);return T instanceof Promise?void T.then(()=>this._standardProcessItems(R,M)):void this._standardProcessItems(R,M)}_standardProcessItems(R,M){let T=0,V;M.forEach((B)=>{V=w.i(A.e)(R,B,T,M.size),R.addView(V.bindingContext,V),++T})}instanceMutated(R,M,T){let V,B,F,D,z,H,U=[],W;for(B=0,F=T.length;B<F;++B)switch(H=T[B],V=H.value,H.type){case'add':D=w.i(A.e)(R,V,M.size-1,M.size),R.insertView(M.size-1,D.bindingContext,D);break;case'delete':z=this._getViewIndexByValue(R,V),W=R.removeView(z,!0,!R.viewsRequireLifecycle),W instanceof Promise&&U.push(W);break;case'clear':R.removeAllViews(!0,!R.viewsRequireLifecycle);break;default:continue;}0<U.length?Promise.all(U).then(()=>{w.i(A.f)(R.views(),0)}):w.i(A.f)(R.views(),0)}_getViewIndexByValue(R,M){let T,V,B;for(T=0,V=R.viewCount();T<V;++T)if(B=R.view(T),B.bindingContext[R.local]===M)return T}}},24:function(u){function w(){throw new Error('setTimeout has not been defined')}function A(){throw new Error('clearTimeout has not been defined')}function I(Q){if(F===setTimeout)return setTimeout(Q,0);if((F===w||!F)&&setTimeout)return F=setTimeout,setTimeout(Q,0);try{return F(Q,0)}catch(Y){try{return F.call(null,Q,0)}catch(K){return F.call(this,Q,0)}}}function N(Q){if(D===clearTimeout)return clearTimeout(Q);if((D===A||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(Q);try{return D(Q)}catch(Y){try{return D.call(null,Q)}catch(K){return D.call(this,Q)}}}function R(){H&&U&&(H=!1,U.length?z=U.concat(z):W=-1,z.length&&M())}function M(){if(!H){var Q=I(R);H=!0;for(var Y=z.length;Y;){for(U=z,z=[];++W<Y;)U&&U[W].run();W=-1,Y=z.length}U=null,H=!1,N(Q)}}function T(Q,Y){this.fun=Q,this.array=Y}function V(){}var B=u.exports={},F,D;(function(){try{F='function'==typeof setTimeout?setTimeout:w}catch(Q){F=w}try{D='function'==typeof clearTimeout?clearTimeout:A}catch(Q){D=A}})();var z=[],H=!1,U,W=-1;B.nextTick=function(Q){var Y=Array(arguments.length-1);if(1<arguments.length)for(var K=1;K<arguments.length;K++)Y[K-1]=arguments[K];z.push(new T(Q,Y)),1!==z.length||H||I(M)},T.prototype.run=function(){this.fun.apply(null,this.array)},B.title='browser',B.browser=!0,B.env={},B.argv=[],B.version='',B.versions={},B.on=V,B.addListener=V,B.once=V,B.off=V,B.removeListener=V,B.removeAllListeners=V,B.emit=V,B.binding=function(){throw new Error('process.binding is not supported')},B.cwd=function(){return'/'},B.chdir=function(){throw new Error('process.chdir is not supported')},B.umask=function(){return 0}},25:function(u,h,w){'use strict';(function(A){function I(){return W.document&&'complete'!==W.document.readyState?new Promise((K)=>{function $(){W.document.removeEventListener('DOMContentLoaded',$),W.removeEventListener('load',$),K()}W.document.addEventListener('DOMContentLoaded',$),W.addEventListener('load',$)}):Promise.resolve()}function N(){return D.a.Loader?Promise.resolve(new D.a.Loader):Promise.reject('No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.')}function R(K){let $;const X=Q&&('renderer'===A.type||A.versions['node-webkit']);if(Q&&!X)$='nodejs';else if('undefined'!=typeof window)$='browser';else if('undefined'!=typeof self)$='worker';else throw new Error('Could not determine platform implementation to load.');return K.loadModule('aurelia-pal-'+$).then((J)=>'nodejs'===$&&!D.b&&J.globalize()||J.initialize())}function M(K){const $=(X,J)=>K.normalize(X,J).then((Z)=>{return K.map(X,Z),Z});return R(K).then(()=>K.normalize('aurelia-bootstrapper')).then((X)=>{const J=$('aurelia-framework',X);return Promise.all([J,J.then((Z)=>$('aurelia-dependency-injection',Z)),$('aurelia-router',X),$('aurelia-logging-console',X)])}).then(([X])=>K.loadModule(X)).then((X)=>H(()=>new X.Aurelia(K)))}function T(K,$,X){return(X.host=K,X.configModuleId=$||null,$)?X.loader.loadModule($).then((J)=>{if(!J.configure)throw new Error(`Cannot initialize module '${$}' without a configure function.`);return J.configure(X)}):(X.use.standardConfiguration().developmentLogging(),X.start().then(()=>X.setRoot()))}function B(K){const $=U.then((X)=>K(X()));return z&&z.push($),$}var F=w(28),D=w(0);Object.defineProperty(h,'__esModule',{value:!0}),h.bootstrap=B;let z=[],H;const U=new Promise((K)=>H=K),W=D.a.global,Q='undefined'!=typeof A&&!A.browser,Y=function(){return I().then(N).then(M).then(()=>{const K=W.document.querySelectorAll('[aurelia-app],[data-aurelia-app]');for(let J=0,Z=K.length;J<Z;++J){const ee=K[J],te=ee.getAttribute('aurelia-app')||ee.getAttribute('data-aurelia-app');B(T.bind(null,ee,te))}const $=console.error.bind(console),X=z.map((J)=>J.catch($));return z=null,Promise.all(X)})}();h.starting=Y}).call(h,w(24))},26:function(u,h,w){'use strict';(function(A){function I(F,D){let z=F,H,U;if(z.__useDefault&&(z=z.default),N.c.set(z,new N.c(D,'default')),'object'==typeof z)for(H in z)U=z[H],'function'==typeof U&&N.c.set(U,new N.c(D,H));return F}Object.defineProperty(h,'__esModule',{value:!0});var N=w(4),R=w(8),M=w(0);h.ensureOriginOnExports=I;var T=this&&this.__awaiter||function(F,D,z,H){return new(z||(z=Promise))(function(U,W){function Q($){try{K(H.next($))}catch(X){W(X)}}function Y($){try{K(H['throw']($))}catch(X){W(X)}}function K($){$.done?U($.value):new z(function(X){X($.value)}).then(Q,Y)}K((H=H.apply(F,D||[])).next())})};class V{loadTemplate(F,D){return T(this,void 0,void 0,function*(){const z=yield F.loadText(D.address);D.template=M.c.createTemplateFromMarkup(z)})}}h.TextTemplateLoader=V;class B extends R.a{constructor(){super(),this.moduleRegistry=Object.create(null),this.loaderPlugins=Object.create(null),this.modulesBeingLoaded=new Map,this.useTemplateLoader(new V),this.addPlugin('template-registry-entry',{fetch:(F)=>T(this,void 0,void 0,function*(){const D=this.getOrCreateTemplateRegistryEntry(F);return D.templateIsLoaded||(yield this.templateLoader.loadTemplate(this,D)),D})}),M.a.eachModule=(F)=>{const D=w.c,z=Object.getOwnPropertyNames(D);z.forEach((H)=>{const U=D[H].exports;'object'==typeof U&&F(H,U)})}}_import(F,D=!0){return T(this,void 0,void 0,function*(){const z=F.split('!'),H=z.splice(z.length-1,1)[0],U=1===z.length?z[0]:null;if(U){const Q=this.loaderPlugins[U];if(!Q)throw new Error(`Plugin ${U} is not registered in the loader.`);return!1,yield Q.fetch(H)}if(w.m[H])return D&&A.hot&&this.hmrContext&&A.hot.accept(H,()=>this.hmrContext.handleModuleChange(H,A.hot)),w(H);const W=`async!${H}`;if(w.m[W]){D&&A.hot&&this.hmrContext&&(A.hot.accept(H,()=>this.hmrContext.handleModuleChange(H,A.hot)),A.hot.accept(W,()=>{}));const Q=w(W);return yield new Promise(Q)}throw new Error(`Unable to find module with ID: ${H}`)})}map(){}normalizeSync(F){return F}normalize(F){return Promise.resolve(F)}useTemplateLoader(F){this.templateLoader=F}loadAllModules(F){return Promise.all(F.map((D)=>this.loadModule(D)))}loadModule(F,D=!0){return T(this,void 0,void 0,function*(){let z=this.moduleRegistry[F];if(z)return z;let H=this.modulesBeingLoaded.get(F);if(H)return H;H=this._import(F,D),this.modulesBeingLoaded.set(F,H);const U=yield H;return this.moduleRegistry[F]=I(U,F),this.modulesBeingLoaded.delete(F),U})}loadTemplate(F){return this.loadModule(this.applyPluginToUrl(F,'template-registry-entry'),!1)}loadText(F){return T(this,void 0,void 0,function*(){const D=yield this.loadModule(F,!1);return D instanceof Array&&D[0]instanceof Array&&D.hasOwnProperty('toString')?D.toString():D})}applyPluginToUrl(F,D){return`${D}!${F}`}addPlugin(F,D){this.loaderPlugins[F]=D}}h.WebpackLoader=B,M.a.Loader=B}).call(h,w(42)(u))},27:function(){},28:function(u,h,w){'use strict';w(0);if(!1,!1,(!_Stringprototype.endsWith||function(){try{return!'ab'.endsWith('a',1)}catch(I){return!0}}())&&(_Stringprototype.endsWith=function(I,N){let R=this.toString();('number'!=typeof N||!isFinite(N)||_Mathfloor(N)!==N||N>R.length)&&(N=R.length),N-=I.length;let M=R.indexOf(I,N);return-1!==M&&M===N}),(!_Stringprototype.startsWith||function(){try{return!'ab'.startsWith('b',1)}catch(I){return!0}}())&&(_Stringprototype.startsWith=function(I,N){return N=N||0,this.substr(N,I.length)===I}),!1,!1,!1,!1,'undefined'==typeof FEATURE_NO_ESNEXT){const I=Object.freeze({}),N='__metadata__';'function'!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(R,M,T){if(M.hasOwnProperty(N))return(M[N][T]||I)[R]}),'function'!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(R,M,T,V){let B=T.hasOwnProperty(N)?T[N]:T[N]={},F=B[V]||(B[V]={});F[R]=M}),'function'!=typeof Reflect.metadata&&(Reflect.metadata=function(R,M){return function(T,V){Reflect.defineMetadata(R,M,T,V)}})}},29:function(u,h,w){'use strict';function A(Y,K,$,X){let J=Y;'/'===Y.charAt(0)&&(J=Y.substr(1));let Z=[],ee=J.split('/');for(let te=0,ne=ee.length;te<ne;++te){let re=ee[te],ie=re.match(/^:([^?]+)(\?)?$/);if(ie){let[,ae,oe]=ie;if(-1!==ae.indexOf('='))throw new Error(`Parameter ${ae} in route ${Y} has a default value, which is not supported.`);Z.push(new z(ae,!!oe)),K.push(ae),$.dynamics++;continue}ie=re.match(/^\*(.+)$/),ie?(Z.push(new H(ie[1])),K.push(ie[1]),$.stars++):''===re?Z.push(new U):(Z.push(new D(re,X)),$.statics++)}return Z}function I(Y){return Y.sort((K,$)=>{if(K.types.stars!==$.types.stars)return K.types.stars-$.types.stars;if(K.types.stars){if(K.types.statics!==$.types.statics)return $.types.statics-K.types.statics;if(K.types.dynamics!==$.types.dynamics)return $.types.dynamics-K.types.dynamics}return K.types.dynamics===$.types.dynamics?K.types.statics===$.types.statics?0:$.types.statics-K.types.statics:K.types.dynamics-$.types.dynamics})}function N(Y,K){let $=[];for(let J=0,Z=Y.length,ee;J<Z;J++)ee=Y[J],$.push(...ee.match(K));for(let X=$.filter((J)=>J.epsilon),J;0<X.length;)J=[],X.forEach((Z)=>{$.push(...Z.epsilon),J.push(...Z.epsilon)}),X=J.filter((Z)=>Z.epsilon);return $}function R(Y,K,$){let X=Y.handlers,J=Y.regex,Z=K.match(J),ee=1,te=new Q($);for(let ne=0,re=X.length;ne<re;ne++){let ie=X[ne],ae=ie.names,oe={};for(let se=0,le=ae.length;se<le;se++)oe[ae[se]]=Z[ee++];te.push({handler:ie.handler,params:oe,isDynamic:!!ae.length})}return te}function M(Y,K){let $=Y.put({validChars:'/'});return K.eachChar((X)=>{$=$.put(X)}),K.optional&&(Y.epsilon=Y.epsilon||[],Y.epsilon.push($)),$}var T=w(6);w.d(h,'a',function(){return W});let V=class Y{constructor(K){this.charSpec=K,this.nextStates=[]}get(K){for(let $ of this.nextStates){let X=$.charSpec.validChars===K.validChars&&$.charSpec.invalidChars===K.invalidChars;if(X)return $}}put(K){let $=this.get(K);return $?$:($=new Y(K),this.nextStates.push($),K.repeat&&$.nextStates.push($),$)}match(K){let $=this.nextStates,X=[];for(let J=0,Z=$.length;J<Z;J++){let ee=$[J],te=ee.charSpec;te.validChars===void 0?te.invalidChars!==void 0&&-1===te.invalidChars.indexOf(K)&&X.push(ee):-1!==te.validChars.indexOf(K)&&X.push(ee)}return X}};const F=new RegExp('(\\'+['/','.','*','+','?','|','(',')','[',']','{','}','\\'].join('|\\')+')','g');let D=class{constructor(K,$){this.string=K,this.caseSensitive=$}eachChar(K){let $=this.string;for(let X=0,J=$.length,Z;X<J;++X)Z=$[X],K({validChars:this.caseSensitive?Z:Z.toUpperCase()+Z.toLowerCase()})}regex(){return this.string.replace(F,'\\$1')}generate(){return this.string}},z=class{constructor(K,$){this.name=K,this.optional=$}eachChar(K){K({invalidChars:'/',repeat:!0})}regex(){return this.optional?'([^/]+)?':'([^/]+)'}generate(K,$){return $[this.name]=!0,K[this.name]}},H=class{constructor(K){this.name=K}eachChar(K){K({invalidChars:'',repeat:!0})}regex(){return'(.+)'}generate(K,$){return $[this.name]=!0,K[this.name]}},U=class{eachChar(){}regex(){return''}generate(){return''}},W=class{constructor(){this.rootState=new V,this.names={}}add(K){if(Array.isArray(K))return K.forEach((ae)=>this.add(ae)),void 0;let $=this.rootState,X='^',J={statics:0,dynamics:0,stars:0},Z=[],ee=K.handler.name,te=!0,ne=!0,re=A(K.path,Z,J,K.caseSensitive);for(let ae=0,oe=re.length,se;ae<oe;ae++)(se=re[ae],!(se instanceof U))&&(te=!1,ne=ne&&se.optional,$=M($,se),X+=se.optional?'/?':'/',X+=se.regex());if(ne)if(te)$=$.put({validChars:'/'}),X+='/';else{let ae=this.rootState.put({validChars:'/'});$.epsilon=[ae],$=ae}let ie=[{handler:K.handler,names:Z}];if(ee){let ae=Array.isArray(ee)?ee:[ee];for(let oe=0;oe<ae.length;oe++)this.names[ae[oe]]={segments:re,handlers:ie}}return $.handlers=ie,$.regex=new RegExp(X+'$',K.caseSensitive?'':'i'),$.types=J,$}handlersFor(K){let $=this.names[K];if(!$)throw new Error(`There is no route named ${K}`);return[...$.handlers]}hasRoute(K){return!!this.names[K]}generate(K,$){let X=this.names[K];if(!X)throw new Error(`There is no route named ${K}`);let J=X.handlers[0].handler;if(J.generationUsesHref)return J.href;let Z=Object.assign({},$),ee=X.segments,te={},ne='';for(let ie=0,ae=ee.length,oe;ie<ae;ie++){if(oe=ee[ie],oe instanceof U)continue;let se=oe.generate(Z,te);if(null!==se&&void 0!==se)ne+='/',ne+=se;else if(!oe.optional)throw new Error(`A value is required for route parameter '${oe.name}' in route '${K}'.`)}for(let ie in'/'!==ne.charAt(0)&&(ne='/'+ne),te)delete Z[ie];let re=w.i(T.c)(Z);return ne+=re?`?${re}`:'',ne}recognize(K){let $=[this.rootState],X={},J=!1,Z=K,ee=Z.indexOf('?');if(-1!==ee){let ie=Z.substr(ee+1,Z.length);Z=Z.substr(0,ee),X=w.i(T.d)(ie)}Z=decodeURI(Z),'/'!==Z.charAt(0)&&(Z='/'+Z);let te=Z.length;1<te&&'/'===Z.charAt(te-1)&&(Z=Z.substr(0,te-1),J=!0);for(let ie=0,ae=Z.length;ie<ae&&($=N($,Z.charAt(ie)),!!$.length);ie++);let ne=[];for(let ie=0,ae=$.length;ie<ae;ie++)$[ie].handlers&&ne.push($[ie]);$=I(ne);let re=ne[0];return re&&re.handlers?(J&&'(.+)$'===re.regex.source.slice(-5)&&(Z+='/'),R(re,Z,X)):void 0}},Q=class{constructor(K){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=K||{}}}},3:function(u,h,w){'use strict';function A(xi){if(xi in gt)return gt[xi];const wi=xi.charAt(0).toLowerCase()+xi.slice(1).replace(/[_.-](\w|$)/g,(ki,_i)=>_i.toUpperCase());return gt[xi]=wi,wi}function I(xi,wi){return{bindingContext:xi,parentOverrideContext:wi||null}}function N(xi,wi,ki){let _i=wi.overrideContext;if(ki){for(;ki&&_i;)ki--,_i=_i.parentOverrideContext;return ki||!_i?void 0:xi in _i?_i:_i.bindingContext}for(;_i&&!(xi in _i)&&!(_i.bindingContext&&xi in _i.bindingContext);)_i=_i.parentOverrideContext;return _i?xi in _i?_i:_i.bindingContext:wi.bindingContext||wi.overrideContext}function M(xi){let wi=this._observerSlots===void 0?0:this._observerSlots,ki=wi;for(;ki--&&this[ht[ki]]!==xi;);if(-1===ki){for(ki=0;this[ht[ki]];)ki++;this[ht[ki]]=xi,xi.subscribe(mt,this),ki===wi&&(this._observerSlots=ki+1)}this._version===void 0&&(this._version=0),this[ft[ki]]=this._version}function T(xi,wi){let ki=this.observerLocator.getObserver(xi,wi);M.call(this,ki)}function V(xi){let wi=this.observerLocator.getArrayObserver(xi);M.call(this,wi)}function B(xi){for(let wi=this._observerSlots;wi--;)if(xi||this[ft[wi]]!==this._version){let ki=this[ht[wi]];this[ht[wi]]=null,ki&&ki.unsubscribe(mt,this)}}function F(){return function(xi){xi.prototype.observeProperty=T,xi.prototype.observeArray=V,xi.prototype.unobserve=B,xi.prototype.addObserver=M}}function D(xi){const wi=vt.length;let ki=0;for(;ki<wi;){const _i=vt[ki];if(bt[_i.__connectQueueId]=!1,_i.connect(!0),ki++,0==ki%100&&je.a.performance.now()-xi>wt)break}vt.splice(0,ki),vt.length?je.a.requestAnimationFrame(D):(kt=!1,_t=0)}function z(xi){if(_t<xt)_t++,xi.connect(!1);else{let wi=xi.__connectQueueId;wi===void 0&&(wi=yt,yt++,xi.__connectQueueId=wi),bt[wi]||(vt.push(xi),bt[wi]=!0)}kt||(kt=!0,je.a.requestAnimationFrame(D))}function H(xi,wi){return!this.hasSubscriber(xi,wi)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(xi),this._callablesRest.push(wi),!0):(this._contextsRest=[xi],this._callablesRest=[wi],!0):(this._context2=xi,this._callable2=wi,!0):(this._context1=xi,this._callable1=wi,!0):(this._context0=xi,this._callable0=wi,!0))}function U(xi,wi){if(this._context0===xi&&this._callable0===wi)return this._context0=null,this._callable0=null,!0;if(this._context1===xi&&this._callable1===wi)return this._context1=null,this._callable1=null,!0;if(this._context2===xi&&this._callable2===wi)return this._context2=null,this._callable2=null,!0;let ki=this._contextsRest,_i;return ki&&ki.length&&-1!==(_i=ki.indexOf(xi))&&this._callablesRest[_i]===wi&&(ki.splice(_i,1),this._callablesRest.splice(_i,1),!0)}function W(xi,wi){let ki=this._context0,_i=this._callable0,Ci=this._context1,Ai=this._callable1,Pi=this._context2,Ii=this._callable2,Ei=this._contextsRest?this._contextsRest.length:0,Ni,Ri,Mi,Oi;if(Ei){for(Mi=At.length;Mi--&&At[Mi];);for(0>Mi?(Mi=At.length,Ni=[],Ri=[],At.push(!0),Ct.push(Ni),St.push(Ri)):(At[Mi]=!0,Ni=Ct[Mi],Ri=St[Mi]),Oi=Ei;Oi--;)Ni[Oi]=this._contextsRest[Oi],Ri[Oi]=this._callablesRest[Oi]}if(ki&&(_i?_i.call(ki,xi,wi):ki(xi,wi)),Ci&&(Ai?Ai.call(Ci,xi,wi):Ci(xi,wi)),Pi&&(Ii?Ii.call(Pi,xi,wi):Pi(xi,wi)),Ei){for(Oi=0;Oi<Ei;Oi++){let Li=Ri[Oi],Ti=Ni[Oi];Li?Li.call(Ti,xi,wi):Ti(xi,wi),Ni[Oi]=null,Ri[Oi]=null}At[Mi]=!1}}function Q(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function Y(xi,wi){let ki=this._context0===xi&&this._callable0===wi||this._context1===xi&&this._callable1===wi||this._context2===xi&&this._callable2===wi;if(ki)return!0;let _i,Ci=this._contextsRest;if(!Ci||0===(_i=Ci.length))return!1;for(let Ai=this._callablesRest;_i--;)if(Ci[_i]===xi&&Ai[_i]===wi)return!0;return!1}function K(){return function(xi){xi.prototype.addSubscriber=H,xi.prototype.removeSubscriber=U,xi.prototype.callSubscribers=W,xi.prototype.hasSubscribers=Q,xi.prototype.hasSubscriber=Y}}function $(xi){return+xi==xi>>>0}function X(xi){return+xi}function J(xi,wi,ki){return{index:xi,removed:wi,addedCount:ki}}function Z(){}function ee(xi,wi,ki,_i,Ci,Ai){return Mt.calcSplices(xi,wi,ki,_i,Ci,Ai)}function te(xi,wi,ki,_i){return wi<ki||_i<xi?-1:wi===ki||_i===xi?0:xi<ki?wi<_i?wi-ki:_i-ki:_i<wi?_i-xi:wi-xi}function ne(xi,wi,ki,_i){let Ci=J(wi,ki,_i),Ai=!1,Pi=0;for(let Ii=0,Ei;Ii<xi.length;Ii++){if(Ei=xi[Ii],Ei.index+=Pi,Ai)continue;let Ni=te(Ci.index,Ci.index+Ci.removed.length,Ei.index,Ei.index+Ei.addedCount);if(0<=Ni){xi.splice(Ii,1),Ii--,Pi-=Ei.addedCount-Ei.removed.length,Ci.addedCount+=Ei.addedCount-Ni;let Ri=Ci.removed.length+Ei.removed.length-Ni;if(!Ci.addedCount&&!Ri)Ai=!0;else{let Mi=Ei.removed;if(Ci.index<Ei.index){let Oi=Ci.removed.slice(0,Ei.index-Ci.index);Array.prototype.push.apply(Oi,Mi),Mi=Oi}if(Ci.index+Ci.removed.length>Ei.index+Ei.addedCount){let Oi=Ci.removed.slice(Ei.index+Ei.addedCount-Ci.index);Array.prototype.push.apply(Mi,Oi)}Ci.removed=Mi,Ei.index<Ci.index&&(Ci.index=Ei.index)}}else if(Ci.index<Ei.index){Ai=!0,xi.splice(Ii,0,Ci),Ii++;let Ri=Ci.addedCount-Ci.removed.length;Ei.index+=Ri,Pi+=Ri}}Ai||xi.push(Ci)}function re(xi,wi){let ki=[];for(let _i=0,Ci;_i<wi.length;_i++)switch(Ci=wi[_i],Ci.type){case'splice':ne(ki,Ci.index,Ci.removed.slice(),Ci.addedCount);break;case'add':case'update':case'delete':if(!$(Ci.name))continue;let Ai=X(Ci.name);if(0>Ai)continue;ne(ki,Ai,[Ci.oldValue],'delete'===Ci.type?0:1);break;default:console.error('Unexpected record type: '+JSON.stringify(Ci));}return ki}function ie(xi,wi){let ki=[];return re(xi,wi).forEach(function(_i){return 1===_i.addedCount&&1===_i.removed.length?void(_i.removed[0]!==xi[_i.index]&&ki.push(_i)):void(ki=ki.concat(ee(xi,_i.index,_i.index+_i.addedCount,_i.removed,0,_i.removed.length)))}),ki}function ae(xi,wi,ki,_i){return{type:xi,object:wi,key:ki,oldValue:_i}}function oe(xi){let wi=Array(xi.size),ki=xi.keys(),_i=0,Ci;for(;(Ci=ki.next())&&!Ci.done;)wi[_i]=ae('added',xi,Ci.value),_i++;return wi}function se(xi,wi){return zt.for(xi,wi)}function le(xi,wi,ki){const _i=wi.length,Ci=[];for(let Ai=0;Ai<_i;Ai++)Ci[Ai]=wi[Ai].evaluate(xi,ki);return Ci}function de(xi,wi){return null!==xi&&null!==wi?'string'==typeof xi&&'string'!=typeof wi?xi+wi.toString():'string'!=typeof xi&&'string'==typeof wi?xi.toString()+wi:xi+wi:null===xi?null===wi?0:wi:xi}function ue(xi,wi,ki){let _i=null===xi||xi===void 0?null:xi[wi];if('function'==typeof _i)return _i;if(!ki&&(null===_i||void 0===_i))return null;throw new Error(`${wi} is not a function`)}function ce(xi,wi){if(Array.isArray(xi))return xi[parseInt(wi,10)];return xi?xi[wi]:null===xi||void 0===xi?void 0:xi[wi]}function pe(xi,wi,ki){if(Array.isArray(xi)){let _i=parseInt(wi,10);xi.length<=_i&&(xi.length=_i+1),xi[_i]=ki}else xi[wi]=ki;return ki}function me(xi){return xi>=yn&&xi<=Cn||xi===hr}function he(xi){return nr<=xi&&xi<=cr||Yn<=xi&&xi<=Gn||xi===tr||xi===Pn}function fe(xi){return nr<=xi&&xi<=cr||Yn<=xi&&xi<=Gn||Wn<=xi&&xi<=Qn||xi===tr||xi===Pn}function ve(xi){return Wn<=xi&&xi<=Qn}function be(xi){return xi===rr||xi===Kn}function ye(xi){return xi===Vn||xi===Ln}function xe(xi){return xi===or?xn:xi===ir?kn:xi===sr?_n:xi===lr?yn:xi===ur?wn:xi}function we(xi,wi){if(!xi)throw wi||'Assertion failed'}function ke(xi,wi){return xr.for(xi,wi)}function _e(xi){return xi.path&&xi.path[0]||xi.deepPath&&xi.deepPath[0]||xi.target}function Ce(){this.standardStopPropagation(),this.propagationStopped=!0}function Se(xi){xi.standardStopPropagation=xi.stopPropagation,xi.stopPropagation=Ce}function Ae(xi){let wi=!1;xi.propagationStopped=!1;let ki=_e(xi),_i=[];for(;ki;){if(ki.capturedCallbacks){let Ci=ki.capturedCallbacks[xi.type];Ci&&(!wi&&(Se(xi),wi=!0),_i.push(Ci))}ki=ki.parentNode}for(let Ci=_i.length-1,Ai;0<=Ci&&(Ai=_i[Ci],Ai(xi),!xi.propagationStopped);Ci--);}function Pe(xi){let wi=!1;xi.propagationStopped=!1;for(let ki=_e(xi);ki&&!xi.propagationStopped;){if(ki.delegatedCallbacks){let _i=ki.delegatedCallbacks[xi.type];_i&&(!wi&&(Se(xi),wi=!0),_i(xi))}ki=ki.parentNode}}function Ie(xi){return!!(xi&&xi.get&&xi.get.dependencies)}function Re(xi,wi,ki,_i){let Ci=ki.get.dependencies;if(!(Ci instanceof Hr)){for(let Pi=Ci.length;Pi--;)Ci[Pi]=_i.parser.parse(Ci[Pi]);Ci=ki.get.dependencies=new Hr(wi,Ci)}let Ai={bindingContext:xi,overrideContext:I(xi)};return new Pt(Ai,Ci,_i)}function Le(xi){let wi=xi.au;if(wi===void 0)throw new Error(`No Aurelia APIs are defined for the element: "${xi.tagName}".`);return wi}function Te(xi,wi){return yi.for(xi,wi)}var Be=w(5),je=w(0),Fe=w(9),qe=w(4);h.n=A,h.a=I,h.p=F,h.q=z,h.d=K,h.l=ne,w.d(h,'i',function(){return Wt}),w.d(h,'j',function(){return Qt}),w.d(h,'v',function(){return vr}),w.d(h,'g',function(){return Sr}),w.d(h,'h',function(){return Lr}),w.d(h,'f',function(){return Zr}),w.d(h,'r',function(){return ti}),w.d(h,'u',function(){return ai}),w.d(h,'b',function(){return si}),h.m=function(xi){return void 0===xi||'string'==typeof xi?function(wi){qe.a.define(qe.a.resource,new si(xi),wi)}:void qe.a.define(qe.a.resource,new si,xi)},w.d(h,'c',function(){return li}),w.d(h,'s',function(){return di}),w.d(h,'w',function(){return ci});var De,ze,He,Ue,We,Qe,Ye,Ke,Ge,Xe,Je,Ze,et,tt,nt,at,ot,st,lt,dt,ut,ct,pt;const gt=Object.create(null),mt='Binding:source';h.k=mt;const ht=[],ft=[];for(let xi=0;100>xi;xi++)ht.push(`_observer${xi}`),ft.push(`_observerVersion${xi}`);const vt=[],bt={};let yt=0;const xt=100,wt=15;let kt=!1,_t=0,Ct=[],St=[],At=[],Pt=(De=F(),ze=K(),De(He=ze(He=class{constructor(wi,ki,_i,Ci){this.scope=wi,this.expression=ki,this.observerLocator=_i,this.lookupFunctions=Ci}getValue(){return this.expression.evaluate(this.scope,this.lookupFunctions)}setValue(wi){this.expression.assign(this.scope,wi)}subscribe(wi,ki){if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(wi,ki),1===arguments.length&&wi instanceof Function)return{dispose:()=>{this.unsubscribe(wi,ki)}}}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)}call(){let wi=this.expression.evaluate(this.scope,this.lookupFunctions),ki=this.oldValue;wi!==ki&&(this.oldValue=wi,this.callSubscribers(wi,ki)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)}})||He)||He);const It=0,Et=1,Nt=2,Rt=3;Z.prototype={calcEditDistances:function(xi,wi,ki,_i,Ci,Ai){let Pi=Ai-Ci+1,Ii=ki-wi+1,Ei=Array(Pi),Ni,Ri;for(let Mi=0;Mi<Pi;++Mi)Ei[Mi]=Array(Ii),Ei[Mi][0]=Mi;for(let Mi=0;Mi<Ii;++Mi)Ei[0][Mi]=Mi;for(let Mi=1;Mi<Pi;++Mi)for(let Oi=1;Oi<Ii;++Oi)this.equals(xi[wi+Oi-1],_i[Ci+Mi-1])?Ei[Mi][Oi]=Ei[Mi-1][Oi-1]:(Ni=Ei[Mi-1][Oi]+1,Ri=Ei[Mi][Oi-1]+1,Ei[Mi][Oi]=Ni<Ri?Ni:Ri);return Ei},spliceOperationsFromEditDistances:function(xi){let wi=xi.length-1,ki=xi[0].length-1,_i=xi[wi][ki],Ci=[];for(;0<wi||0<ki;){if(0==wi){Ci.push(Nt),ki--;continue}if(0==ki){Ci.push(Rt),wi--;continue}let Ai=xi[wi-1][ki-1],Pi=xi[wi-1][ki],Ii=xi[wi][ki-1],Ei;Ei=Pi<Ii?Pi<Ai?Pi:Ai:Ii<Ai?Ii:Ai,Ei===Ai?(Ai===_i?Ci.push(It):(Ci.push(Et),_i=Ai),wi--,ki--):Ei===Pi?(Ci.push(Rt),wi--,_i=Pi):(Ci.push(Nt),ki--,_i=Ii)}return Ci.reverse(),Ci},calcSplices:function(xi,wi,ki,_i,Ci,Ai){let Pi=0,Ii=0,Ei=_Mathmin(ki-wi,Ai-Ci);if(0===wi&&0===Ci&&(Pi=this.sharedPrefix(xi,_i,Ei)),ki===xi.length&&Ai===_i.length&&(Ii=this.sharedSuffix(xi,_i,Ei-Pi)),wi+=Pi,Ci+=Pi,ki-=Ii,Ai-=Ii,0==ki-wi&&0==Ai-Ci)return[];if(wi===ki){let Ti=J(wi,[],0);for(;Ci<Ai;)Ti.removed.push(_i[Ci++]);return[Ti]}if(Ci===Ai)return[J(wi,[],ki-wi)];let Ni=this.spliceOperationsFromEditDistances(this.calcEditDistances(xi,wi,ki,_i,Ci,Ai)),Mi=[],Oi=wi,Li=Ci,Ri;for(let Ti=0;Ti<Ni.length;++Ti)switch(Ni[Ti]){case It:Ri&&(Mi.push(Ri),Ri=void 0),Oi++,Li++;break;case Et:Ri||(Ri=J(Oi,[],0)),Ri.addedCount++,Oi++,Ri.removed.push(_i[Li]),Li++;break;case Nt:Ri||(Ri=J(Oi,[],0)),Ri.addedCount++,Oi++;break;case Rt:Ri||(Ri=J(Oi,[],0)),Ri.removed.push(_i[Li]),Li++;}return Ri&&Mi.push(Ri),Mi},sharedPrefix:function(xi,wi,ki){for(let _i=0;_i<ki;++_i)if(!this.equals(xi[_i],wi[_i]))return _i;return ki},sharedSuffix:function(xi,wi,ki){let _i=xi.length,Ci=wi.length,Ai=0;for(;Ai<ki&&this.equals(xi[--_i],wi[--Ci]);)Ai++;return Ai},calculateSplices:function(xi,wi){return this.calcSplices(xi,0,xi.length,wi,0,wi.length)},equals:function(xi,wi){return xi===wi}};let Mt=new Z,Ot=(Ue=K(),Ue(We=class{constructor(wi,ki){this.taskQueue=wi,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=ki,this.lengthPropertyName=ki instanceof Map||ki instanceof Set?'size':'length'}subscribe(wi,ki){this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)}addChangeRecord(wi){if(this.hasSubscribers()||this.lengthObserver){if('splice'===wi.type){let ki=wi.index,_i=wi.object.length;ki>_i?ki=_i-wi.addedCount:0>ki&&(ki=_i+wi.removed.length+ki-wi.addedCount),0>ki&&(ki=0),wi.index=ki}null===this.changeRecords?this.changeRecords=[wi]:this.changeRecords.push(wi),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}}flushChangeRecords(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()}reset(wi){this.oldCollection=wi,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))}getLengthObserver(){return this.lengthObserver||(this.lengthObserver=new Lt(this.collection))}call(){let wi=this.changeRecords,ki=this.oldCollection,_i;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(_i=ki?this.collection instanceof Map||this.collection instanceof Set?oe(ki):ee(this.collection,0,this.collection.length,ki,0,ki.length):this.collection instanceof Map||this.collection instanceof Set?wi:ie(this.collection,wi),this.callSubscribers(_i)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])}})||We),Lt=(Qe=K(),Qe(Ye=class{constructor(wi){this.collection=wi,this.lengthPropertyName=wi instanceof Map||wi instanceof Set?'size':'length',this.currentValue=wi[this.lengthPropertyName]}getValue(){return this.collection[this.lengthPropertyName]}setValue(wi){this.collection[this.lengthPropertyName]=wi}subscribe(wi,ki){this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)}call(wi){let ki=this.currentValue;this.callSubscribers(wi,ki),this.currentValue=wi}})||Ye),Tt=Array.prototype.pop,Vt=Array.prototype.push,Bt=Array.prototype.reverse,jt=Array.prototype.shift,Ft=Array.prototype.sort,qt=Array.prototype.splice,Dt=Array.prototype.unshift;Array.prototype.pop=function(){let xi=0<this.length,wi=Tt.apply(this,arguments);return xi&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'delete',object:this,name:this.length,oldValue:wi}),wi},Array.prototype.push=function(){let xi=Vt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),xi},Array.prototype.reverse=function(){let xi;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),xi=this.slice());let wi=Bt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(xi),wi},Array.prototype.shift=function(){let xi=0<this.length,wi=jt.apply(this,arguments);return xi&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'delete',object:this,name:0,oldValue:wi}),wi},Array.prototype.sort=function(){let xi;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),xi=this.slice());let wi=Ft.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(xi),wi},Array.prototype.splice=function(){let xi=qt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:+arguments[0],removed:xi,addedCount:2<arguments.length?arguments.length-2:0}),xi},Array.prototype.unshift=function(){let xi=Dt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:'splice',object:this,index:0,removed:[],addedCount:arguments.length}),xi};let zt=class xi extends Ot{constructor(wi,ki){super(wi,ki)}static for(wi,ki){return'__array_observer__'in ki||Reflect.defineProperty(ki,'__array_observer__',{value:xi.create(wi,ki),enumerable:!1,configurable:!1}),ki.__array_observer__}static create(wi,ki){return new xi(wi,ki)}},Ht=class{constructor(){this.isChain=!1,this.isAssignable=!1}evaluate(){throw new Error(`Binding expression "${this}" cannot be evaluated.`)}assign(){throw new Error(`Binding expression "${this}" cannot be assigned to.`)}toString(){return super.toString()}},Ut=class extends Ht{constructor(wi){super(),this.expressions=wi,this.isChain=!0}evaluate(wi,ki){let _i,Ci=this.expressions,Ai;for(let Pi=0,Ii=Ci.length;Pi<Ii;++Pi)Ai=Ci[Pi].evaluate(wi,ki),null!==Ai&&(_i=Ai);return _i}accept(wi){return wi.visitChain(this)}},Wt=class extends Ht{constructor(wi,ki,_i){super(),this.expression=wi,this.name=ki,this.args=_i}evaluate(wi,ki){return this.expression.evaluate(wi,ki)}assign(wi,ki,_i){return this.expression.assign(wi,ki,_i)}accept(wi){return wi.visitBindingBehavior(this)}connect(wi,ki){this.expression.connect(wi,ki)}bind(wi,ki,_i){this.expression.expression&&this.expression.bind&&this.expression.bind(wi,ki,_i);let Ci=_i.bindingBehaviors(this.name);if(!Ci)throw new Error(`No BindingBehavior named "${this.name}" was found!`);let Ai=`behavior-${this.name}`;if(wi[Ai])throw new Error(`A binding behavior named "${this.name}" has already been applied to "${this.expression}"`);wi[Ai]=Ci,Ci.bind.apply(Ci,[wi,ki].concat(le(ki,this.args,wi.lookupFunctions)))}unbind(wi,ki){let _i=`behavior-${this.name}`;wi[_i].unbind(wi,ki),wi[_i]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(wi,ki)}},Qt=class extends Ht{constructor(wi,ki,_i,Ci){super(),this.expression=wi,this.name=ki,this.args=_i,this.allArgs=Ci}evaluate(wi,ki){let _i=ki.valueConverters(this.name);if(!_i)throw new Error(`No ValueConverter named "${this.name}" was found!`);return'toView'in _i?_i.toView.apply(_i,le(wi,this.allArgs,ki)):this.allArgs[0].evaluate(wi,ki)}assign(wi,ki,_i){let Ci=_i.valueConverters(this.name);if(!Ci)throw new Error(`No ValueConverter named "${this.name}" was found!`);return'fromView'in Ci&&(ki=Ci.fromView.apply(Ci,[ki].concat(le(wi,this.args,_i)))),this.allArgs[0].assign(wi,ki,_i)}accept(wi){return wi.visitValueConverter(this)}connect(wi,ki){let _i=this.allArgs,Ci=_i.length;for(;Ci--;)_i[Ci].connect(wi,ki)}},Yt=class extends Ht{constructor(wi,ki){super(),this.target=wi,this.value=ki,this.isAssignable=!0}evaluate(wi,ki){return this.target.assign(wi,this.value.evaluate(wi,ki))}accept(wi){wi.visitAssign(this)}connect(){}assign(wi,ki){this.value.assign(wi,ki),this.target.assign(wi,ki)}},Kt=class extends Ht{constructor(wi,ki,_i){super(),this.condition=wi,this.yes=ki,this.no=_i}evaluate(wi){return!this.condition.evaluate(wi)?this.no.evaluate(wi):this.yes.evaluate(wi)}accept(wi){return wi.visitConditional(this)}connect(wi,ki){this.condition.connect(wi,ki),this.condition.evaluate(ki)?this.yes.connect(wi,ki):this.no.connect(wi,ki)}},Gt=class extends Ht{constructor(wi){super(),this.ancestor=wi}evaluate(wi){let _i=wi.overrideContext,Ci=this.ancestor;for(;Ci--&&_i;)_i=_i.parentOverrideContext;return 1>Ci&&_i?_i.bindingContext:void 0}accept(wi){return wi.visitAccessThis(this)}connect(){}},Xt=class extends Ht{constructor(wi,ki){super(),this.name=wi,this.ancestor=ki,this.isAssignable=!0}evaluate(wi){let _i=N(this.name,wi,this.ancestor);return _i[this.name]}assign(wi,ki){let _i=N(this.name,wi,this.ancestor);return _i?_i[this.name]=ki:void 0}accept(wi){return wi.visitAccessScope(this)}connect(wi,ki){let _i=N(this.name,ki,this.ancestor);wi.observeProperty(_i,this.name)}},Jt=class extends Ht{constructor(wi,ki){super(),this.object=wi,this.name=ki,this.isAssignable=!0}evaluate(wi,ki){let _i=this.object.evaluate(wi,ki);return null===_i||_i===void 0?_i:_i[this.name]}assign(wi,ki){let _i=this.object.evaluate(wi);return(null===_i||void 0===_i)&&(_i={},this.object.assign(wi,_i)),_i[this.name]=ki,ki}accept(wi){return wi.visitAccessMember(this)}connect(wi,ki){this.object.connect(wi,ki);let _i=this.object.evaluate(ki);_i&&wi.observeProperty(_i,this.name)}},Zt=class extends Ht{constructor(wi,ki){super(),this.object=wi,this.key=ki,this.isAssignable=!0}evaluate(wi,ki){let _i=this.object.evaluate(wi,ki),Ci=this.key.evaluate(wi,ki);return ce(_i,Ci)}assign(wi,ki){let _i=this.object.evaluate(wi),Ci=this.key.evaluate(wi);return pe(_i,Ci,ki)}accept(wi){return wi.visitAccessKeyed(this)}connect(wi,ki){this.object.connect(wi,ki);let _i=this.object.evaluate(ki);if(_i instanceof Object){this.key.connect(wi,ki);let Ci=this.key.evaluate(ki);null===Ci||Ci===void 0||Array.isArray(_i)&&'number'==typeof Ci||wi.observeProperty(_i,Ci)}}},en=class extends Ht{constructor(wi,ki,_i){super(),this.name=wi,this.args=ki,this.ancestor=_i}evaluate(wi,ki,_i){let Ci=le(wi,this.args,ki),Ai=N(this.name,wi,this.ancestor),Pi=ue(Ai,this.name,_i);return Pi?Pi.apply(Ai,Ci):void 0}accept(wi){return wi.visitCallScope(this)}connect(wi,ki){let _i=this.args,Ci=_i.length;for(;Ci--;)_i[Ci].connect(wi,ki)}},tn=class extends Ht{constructor(wi,ki,_i){super(),this.object=wi,this.name=ki,this.args=_i}evaluate(wi,ki,_i){let Ci=this.object.evaluate(wi,ki),Ai=le(wi,this.args,ki),Pi=ue(Ci,this.name,_i);return Pi?Pi.apply(Ci,Ai):void 0}accept(wi){return wi.visitCallMember(this)}connect(wi,ki){this.object.connect(wi,ki);let _i=this.object.evaluate(ki);if(ue(_i,this.name,!1)){let Ci=this.args,Ai=Ci.length;for(;Ai--;)Ci[Ai].connect(wi,ki)}}},nn=class extends Ht{constructor(wi,ki){super(),this.func=wi,this.args=ki}evaluate(wi,ki,_i){let Ci=this.func.evaluate(wi,ki);if('function'==typeof Ci)return Ci.apply(null,le(wi,this.args,ki));if(_i||null!==Ci&&void 0!==Ci)throw new Error(`${this.func} is not a function`)}accept(wi){return wi.visitCallFunction(this)}connect(wi,ki){this.func.connect(wi,ki);let _i=this.func.evaluate(ki);if('function'==typeof _i){let Ci=this.args,Ai=Ci.length;for(;Ai--;)Ci[Ai].connect(wi,ki)}}},rn=class extends Ht{constructor(wi,ki,_i){super(),this.operation=wi,this.left=ki,this.right=_i}evaluate(wi){let _i=this.left.evaluate(wi);switch(this.operation){case'&&':return _i&&this.right.evaluate(wi);case'||':return _i||this.right.evaluate(wi);}let Ci=this.right.evaluate(wi);switch(this.operation){case'==':return _i==Ci;case'===':return _i===Ci;case'!=':return _i!=Ci;case'!==':return _i!==Ci;}if(null===_i||null===Ci||_i===void 0||Ci===void 0){switch(this.operation){case'+':return null!==_i&&void 0!==_i?_i:null!==Ci&&void 0!==Ci?Ci:0;case'-':return null!==_i&&void 0!==_i?_i:null!==Ci&&void 0!==Ci?0-Ci:0;}return null}switch(this.operation){case'+':return de(_i,Ci);case'-':return _i-Ci;case'*':return _i*Ci;case'/':return _i/Ci;case'%':return _i%Ci;case'<':return _i<Ci;case'>':return _i>Ci;case'<=':return _i<=Ci;case'>=':return _i>=Ci;case'^':return _i^Ci;}throw new Error(`Internal error [${this.operation}] not handled`)}accept(wi){return wi.visitBinary(this)}connect(wi,ki){this.left.connect(wi,ki);let _i=this.left.evaluate(ki);'&&'===this.operation&&!_i||'||'===this.operation&&_i||this.right.connect(wi,ki)}},an=class extends Ht{constructor(wi,ki){super(),this.operation=wi,this.expression=ki}evaluate(wi){return!this.expression.evaluate(wi)}accept(wi){return wi.visitPrefix(this)}connect(wi,ki){this.expression.connect(wi,ki)}},on=class extends Ht{constructor(wi){super(),this.value=wi}evaluate(){return this.value}accept(wi){return wi.visitLiteralPrimitive(this)}connect(){}},sn=class extends Ht{constructor(wi){super(),this.value=wi}evaluate(){return this.value}accept(wi){return wi.visitLiteralString(this)}connect(){}},ln=class extends Ht{constructor(wi){super(),this.elements=wi}evaluate(wi,ki){let _i=this.elements,Ci=[];for(let Ai=0,Pi=_i.length;Ai<Pi;++Ai)Ci[Ai]=_i[Ai].evaluate(wi,ki);return Ci}accept(wi){return wi.visitLiteralArray(this)}connect(wi,ki){let _i=this.elements.length;for(let Ci=0;Ci<_i;Ci++)this.elements[Ci].connect(wi,ki)}},dn=class extends Ht{constructor(wi,ki){super(),this.keys=wi,this.values=ki}evaluate(wi,ki){let _i={},Ci=this.keys,Ai=this.values;for(let Pi=0,Ii=Ci.length;Pi<Ii;++Pi)_i[Ci[Pi]]=Ai[Pi].evaluate(wi,ki);return _i}accept(wi){return wi.visitLiteralObject(this)}connect(wi,ki){let _i=this.keys.length;for(let Ci=0;Ci<_i;Ci++)this.values[Ci].connect(wi,ki)}};let cn=class{cloneExpressionArray(wi){let ki=[],_i=wi.length;for(;_i--;)ki[_i]=wi[_i].accept(this);return ki}visitChain(wi){return new Ut(this.cloneExpressionArray(wi.expressions))}visitBindingBehavior(wi){return new Wt(wi.expression.accept(this),wi.name,this.cloneExpressionArray(wi.args))}visitValueConverter(wi){return new Qt(wi.expression.accept(this),wi.name,this.cloneExpressionArray(wi.args))}visitAssign(wi){return new Yt(wi.target.accept(this),wi.value.accept(this))}visitConditional(wi){return new Kt(wi.condition.accept(this),wi.yes.accept(this),wi.no.accept(this))}visitAccessThis(wi){return new Gt(wi.ancestor)}visitAccessScope(wi){return new Xt(wi.name,wi.ancestor)}visitAccessMember(wi){return new Jt(wi.object.accept(this),wi.name)}visitAccessKeyed(wi){return new Zt(wi.object.accept(this),wi.key.accept(this))}visitCallScope(wi){return new en(wi.name,this.cloneExpressionArray(wi.args),wi.ancestor)}visitCallFunction(wi){return new nn(wi.func.accept(this),this.cloneExpressionArray(wi.args))}visitCallMember(wi){return new tn(wi.object.accept(this),wi.name,this.cloneExpressionArray(wi.args))}visitPrefix(wi){return new an(wi.operation,wi.expression.accept(this))}visitBinary(wi){return new rn(wi.operation,wi.left.accept(this),wi.right.accept(this))}visitLiteralPrimitive(wi){return new on(wi)}visitLiteralArray(wi){return new ln(this.cloneExpressionArray(wi.elements))}visitLiteralObject(wi){return new dn(wi.keys,this.cloneExpressionArray(wi.values))}visitLiteralString(wi){return new sn(wi.value)}};const pn={oneTime:0,oneWay:1,twoWay:2};h.e=pn;let gn=class{constructor(wi,ki){this.index=wi,this.text=ki}withOp(wi){return this.opKey=wi,this}withGetterSetter(wi){return this.key=wi,this}withValue(wi){return this.value=wi,this}toString(){return`Token(${this.text})`}},mn=class{lex(wi){let ki=new hn(wi),_i=[],Ci=ki.scanToken();for(;Ci;)_i.push(Ci),Ci=ki.scanToken();return _i}},hn=class{constructor(wi){this.input=wi,this.length=wi.length,this.peek=0,this.index=-1,this.advance()}scanToken(){for(;this.peek<=Cn;){if(++this.index>=this.length)return this.peek=bn,null;this.peek=this.input.charCodeAt(this.index)}if(he(this.peek))return this.scanIdentifier();if(ve(this.peek))return this.scanNumber(this.index);let wi=this.index;switch(this.peek){case Bn:return this.advance(),ve(this.peek)?this.scanNumber(wi):new gn(wi,'.');case Rn:case Mn:case pr:case mr:case Xn:case Zn:case Tn:case Fn:case qn:return this.scanCharacter(wi,_StringfromCharCode(this.peek));case Nn:case An:return this.scanString();case Ln:case Vn:case On:case jn:case In:case er:case Un:return this.scanOperator(wi,_StringfromCharCode(this.peek));case Dn:case Hn:case Sn:case zn:return this.scanComplexOperator(wi,zn,_StringfromCharCode(this.peek),'=');case En:return this.scanComplexOperator(wi,En,'&','&');case gr:return this.scanComplexOperator(wi,gr,'|','|');case hr:for(;me(this.peek);)this.advance();return this.scanToken();}let ki=_StringfromCharCode(this.peek);return this.error(`Unexpected character [${ki}]`),null}scanCharacter(wi,ki){return we(this.peek===ki.charCodeAt(0)),this.advance(),new gn(wi,ki)}scanOperator(wi,ki){return we(this.peek===ki.charCodeAt(0)),we(-1!==vn.indexOf(ki)),this.advance(),new gn(wi,ki).withOp(ki)}scanComplexOperator(wi,ki,_i,Ci){we(this.peek===_i.charCodeAt(0)),this.advance();let Ai=_i;return this.peek===ki&&(this.advance(),Ai+=Ci),this.peek===ki&&(this.advance(),Ai+=Ci),we(-1!==vn.indexOf(Ai)),new gn(wi,Ai).withOp(Ai)}scanIdentifier(){we(he(this.peek));let wi=this.index;for(this.advance();fe(this.peek);)this.advance();let ki=this.input.substring(wi,this.index),_i=new gn(wi,ki);return-1===vn.indexOf(ki)?_i.withGetterSetter(ki):_i.withOp(ki),_i}scanNumber(wi){we(ve(this.peek));let ki=this.index===wi;for(this.advance();;){if(!ve(this.peek))if(this.peek===Bn)ki=!1;else if(be(this.peek))this.advance(),ye(this.peek)&&this.advance(),ve(this.peek)||this.error('Invalid exponent',-1),ki=!1;else break;this.advance()}let _i=this.input.substring(wi,this.index),Ci=ki?parseInt(_i,10):parseFloat(_i);return new gn(wi,_i).withValue(Ci)}scanString(){we(this.peek===Nn||this.peek===An);let wi=this.index,ki=this.peek;this.advance();let Ci=this.index,_i;for(;this.peek!==ki;)if(this.peek===Jn){_i||(_i=[]),_i.push(this.input.substring(Ci,this.index)),this.advance();let Ei;if(this.peek===dr){let Ni=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(Ni)||this.error(`Invalid unicode escape [\\u${Ni}]`),Ei=parseInt(Ni,16);for(let Ri=0;5>Ri;++Ri)this.advance()}else Ei=xe(this.peek),this.advance();_i.push(_StringfromCharCode(Ei)),Ci=this.index}else this.peek===bn?this.error('Unterminated quote'):this.advance();let Ai=this.input.substring(Ci,this.index);this.advance();let Pi=this.input.substring(wi,this.index),Ii=Ai;return null!==_i&&void 0!==_i&&(_i.push(Ai),Ii=_i.join('')),new gn(wi,Pi).withValue(Ii)}advance(){this.peek=++this.index>=this.length?bn:this.input.charCodeAt(this.index)}error(wi,ki=0){let _i=this.index+ki;throw new Error(`Lexer Error: ${wi} at column ${_i} in expression [${this.input}]`)}};const vn=['undefined','null','true','false','+','-','*','/','%','^','=','==','===','!=','!==','<','>','<=','>=','&&','||','&','|','!','?'],bn=0,yn=9,xn=10,wn=11,kn=12,_n=13,Cn=32,Sn=33,An=34,Pn=36,In=37,En=38,Nn=39,Rn=40,Mn=41,On=42,Ln=43,Tn=44,Vn=45,Bn=46,jn=47,Fn=58,qn=59,Dn=60,zn=61,Hn=62,Un=63,Wn=48,Qn=57,Yn=65,Kn=69,Gn=90,Xn=91,Jn=92,Zn=93,er=94,tr=95,nr=97,rr=101,ir=102,or=110,sr=114,lr=116,dr=117,ur=118,cr=122,pr=123,gr=124,mr=125,hr=160;let fr=new gn(-1,null),vr=class{constructor(){this.cache={},this.lexer=new mn}parse(wi){return wi=wi||'',this.cache[wi]||(this.cache[wi]=new br(this.lexer,wi).parseChain())}},br=class{constructor(wi,ki){this.index=0,this.input=ki,this.tokens=wi.lex(ki)}get peek(){return this.index<this.tokens.length?this.tokens[this.index]:fr}parseChain(){let wi=!1,ki=[];for(;this.optional(';');)wi=!0;for(;this.index<this.tokens.length;){(')'===this.peek.text||'}'===this.peek.text||']'===this.peek.text)&&this.error(`Unconsumed token ${this.peek.text}`);let _i=this.parseBindingBehavior();for(ki.push(_i);this.optional(';');)wi=!0;wi&&this.error('Multiple expressions are not allowed.')}return 1===ki.length?ki[0]:new Ut(ki)}parseBindingBehavior(){let wi=this.parseValueConverter();for(;this.optional('&');){let ki=this.peek.text,_i=[];for(this.advance();this.optional(':');)_i.push(this.parseExpression());wi=new Wt(wi,ki,_i)}return wi}parseValueConverter(){let wi=this.parseExpression();for(;this.optional('|');){let ki=this.peek.text,_i=[];for(this.advance();this.optional(':');)_i.push(this.parseExpression());wi=new Qt(wi,ki,_i,[wi].concat(_i))}return wi}parseExpression(){let wi=this.peek.index,ki=this.parseConditional();for(;'='===this.peek.text;){if(!ki.isAssignable){let _i=this.index<this.tokens.length?this.peek.index:this.input.length,Ci=this.input.substring(wi,_i);this.error(`Expression ${Ci} is not assignable`)}this.expect('='),ki=new Yt(ki,this.parseConditional())}return ki}parseConditional(){let wi=this.peek.index,ki=this.parseLogicalOr();if(this.optional('?')){let _i=this.parseExpression();if(!this.optional(':')){let Ai=this.index<this.tokens.length?this.peek.index:this.input.length,Pi=this.input.substring(wi,Ai);this.error(`Conditional expression ${Pi} requires all 3 expressions`)}let Ci=this.parseExpression();ki=new Kt(ki,_i,Ci)}return ki}parseLogicalOr(){let wi=this.parseLogicalAnd();for(;this.optional('||');)wi=new rn('||',wi,this.parseLogicalAnd());return wi}parseLogicalAnd(){let wi=this.parseEquality();for(;this.optional('&&');)wi=new rn('&&',wi,this.parseEquality());return wi}parseEquality(){for(let wi=this.parseRelational();;)if(this.optional('=='))wi=new rn('==',wi,this.parseRelational());else if(this.optional('!='))wi=new rn('!=',wi,this.parseRelational());else if(this.optional('==='))wi=new rn('===',wi,this.parseRelational());else if(this.optional('!=='))wi=new rn('!==',wi,this.parseRelational());else return wi}parseRelational(){for(let wi=this.parseAdditive();;)if(this.optional('<'))wi=new rn('<',wi,this.parseAdditive());else if(this.optional('>'))wi=new rn('>',wi,this.parseAdditive());else if(this.optional('<='))wi=new rn('<=',wi,this.parseAdditive());else if(this.optional('>='))wi=new rn('>=',wi,this.parseAdditive());else return wi}parseAdditive(){for(let wi=this.parseMultiplicative();;)if(this.optional('+'))wi=new rn('+',wi,this.parseMultiplicative());else if(this.optional('-'))wi=new rn('-',wi,this.parseMultiplicative());else return wi}parseMultiplicative(){for(let wi=this.parsePrefix();;)if(this.optional('*'))wi=new rn('*',wi,this.parsePrefix());else if(this.optional('%'))wi=new rn('%',wi,this.parsePrefix());else if(this.optional('/'))wi=new rn('/',wi,this.parsePrefix());else return wi}parsePrefix(){if(this.optional('+'))return this.parsePrefix();return this.optional('-')?new rn('-',new on(0),this.parsePrefix()):this.optional('!')?new an('!',this.parsePrefix()):this.parseAccessOrCallMember()}parseAccessOrCallMember(){for(let wi=this.parsePrimary();;)if(this.optional('.')){let ki=this.peek.text;if(this.advance(),this.optional('(')){let _i=this.parseExpressionList(')');this.expect(')'),wi=wi instanceof Gt?new en(ki,_i,wi.ancestor):new tn(wi,ki,_i)}else wi=wi instanceof Gt?new Xt(ki,wi.ancestor):new Jt(wi,ki)}else if(this.optional('[')){let ki=this.parseExpression();this.expect(']'),wi=new Zt(wi,ki)}else if(this.optional('(')){let ki=this.parseExpressionList(')');this.expect(')'),wi=new nn(wi,ki)}else return wi}parsePrimary(){if(this.optional('(')){let wi=this.parseExpression();return this.expect(')'),wi}if(this.optional('null'))return new on(null);if(this.optional('undefined'))return new on(void 0);if(this.optional('true'))return new on(!0);if(this.optional('false'))return new on(!1);if(this.optional('[')){let wi=this.parseExpressionList(']');return this.expect(']'),new ln(wi)}if('{'===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){let wi=this.peek.value;return this.advance(),wi instanceof String||'string'==typeof wi?new sn(wi):new on(wi)}if(this.index>=this.tokens.length)throw new Error(`Unexpected end of expression: ${this.input}`);else this.error(`Unexpected token ${this.peek.text}`)}parseAccessOrCallScope(){let wi=this.peek.key;if(this.advance(),'$this'===wi)return new Gt(0);let ki=0;for(;'$parent'===wi;)if(ki++,this.optional('.'))wi=this.peek.key,this.advance();else{if(this.peek===fr||'('===this.peek.text||')'===this.peek.text||'['===this.peek.text||'}'===this.peek.text||','===this.peek.text)return new Gt(ki);this.error(`Unexpected token ${this.peek.text}`)}if(this.optional('(')){let _i=this.parseExpressionList(')');return this.expect(')'),new en(wi,_i,ki)}return new Xt(wi,ki)}parseObject(){let wi=[],ki=[];if(this.expect('{'),'}'!==this.peek.text)do{let _i=this.peek,Ci=_i.value;wi.push('string'==typeof Ci?Ci:_i.text),this.advance(),_i.key&&(','===this.peek.text||'}'===this.peek.text)?(--this.index,ki.push(this.parseAccessOrCallScope())):(this.expect(':'),ki.push(this.parseExpression()))}while(this.optional(','));return this.expect('}'),new dn(wi,ki)}parseExpressionList(wi){let ki=[];if(this.peek.text!==wi)do ki.push(this.parseExpression());while(this.optional(','));return ki}optional(wi){return!(this.peek.text!==wi)&&(this.advance(),!0)}expect(wi){this.peek.text===wi?this.advance():this.error(`Missing expected ${wi}`)}advance(){this.index++}error(wi){let ki=this.index<this.tokens.length?`at column ${this.tokens[this.index].index+1} in`:'at the end of the expression';throw new Error(`Parser Error: ${wi} ${ki} [${this.input}]`)}},yr=Map.prototype,xr=class xi extends Ot{constructor(wi,ki){super(wi,ki)}static for(wi,ki){return'__map_observer__'in ki||Reflect.defineProperty(ki,'__map_observer__',{value:xi.create(wi,ki),enumerable:!1,configurable:!1}),ki.__map_observer__}static create(wi,ki){let _i=new xi(wi,ki),Ci=yr;return(Ci.set!==ki.set||Ci.delete!==ki.delete||Ci.clear!==ki.clear)&&(Ci={set:ki.set,delete:ki.delete,clear:ki.clear}),ki.set=function(){let Ai=ki.has(arguments[0]),Pi=Ai?'update':'add',Ii=ki.get(arguments[0]),Ei=Ci.set.apply(ki,arguments);return Ai&&Ii===ki.get(arguments[0])||_i.addChangeRecord({type:Pi,object:ki,key:arguments[0],oldValue:Ii}),Ei},ki.delete=function(){let Ai=ki.has(arguments[0]),Pi=ki.get(arguments[0]),Ii=Ci.delete.apply(ki,arguments);return Ai&&_i.addChangeRecord({type:'delete',object:ki,key:arguments[0],oldValue:Pi}),Ii},ki.clear=function(){let Ai=Ci.clear.apply(ki,arguments);return _i.addChangeRecord({type:'clear',object:ki}),Ai},_i}},wr=class{constructor(wi){this.eventName=wi,this.count=0}increment(){this.count++,1===this.count&&je.c.addEventListener(this.eventName,Ae,!0)}decrement(){this.count--,0===this.count&&je.c.removeEventListener(this.eventName,Ae,!0)}},kr=class{constructor(wi){this.eventName=wi,this.count=0}increment(){this.count++,1===this.count&&je.c.addEventListener(this.eventName,Pe,!1)}decrement(){this.count--,0===this.count&&je.c.removeEventListener(this.eventName,Pe)}},_r=class{constructor(){this.delegatedHandlers={},this.capturedHandlers={}}subscribe(wi,ki,_i,Ci){let Ai,Pi,Ii;if(Ci===Cr.bubbling){Ai=this.delegatedHandlers,Ii=Ai[ki]||(Ai[ki]=new kr(ki));let Ei=wi.delegatedCallbacks||(wi.delegatedCallbacks={});return Ii.increment(),Ei[ki]=_i,function(){Ii.decrement(),Ei[ki]=null}}if(Ci===Cr.capturing){Pi=this.capturedHandlers,Ii=Pi[ki]||(Pi[ki]=new wr(ki));let Ei=wi.capturedCallbacks||(wi.capturedCallbacks={});return Ii.increment(),Ei[ki]=_i,function(){Ii.decrement(),Ei[ki]=null}}return wi.addEventListener(ki,_i,!1),function(){wi.removeEventListener(ki,_i)}}};const Cr={none:0,capturing:1,bubbling:2};h.t=Cr;let Sr=class{constructor(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:'input',properties:{value:['change','input'],checked:['change','input'],files:['change','input']}}),this.registerElementConfig({tagName:'textarea',properties:{value:['change','input']}}),this.registerElementConfig({tagName:'select',properties:{value:['change']}}),this.registerElementConfig({tagName:'content editable',properties:{value:['change','input','blur','keyup','paste']}}),this.registerElementConfig({tagName:'scrollable element',properties:{scrollTop:['scroll'],scrollLeft:['scroll']}}),this.defaultEventStrategy=new _r}registerElementConfig(wi){let ki=wi.tagName.toLowerCase(),_i=wi.properties,Ci;for(Ci in this.elementHandlerLookup[ki]={},_i)_i.hasOwnProperty(Ci)&&this.registerElementPropertyConfig(ki,Ci,_i[Ci])}registerElementPropertyConfig(wi,ki,_i){this.elementHandlerLookup[wi][ki]=this.createElementHandler(_i)}createElementHandler(wi){return{subscribe(ki,_i){return wi.forEach((Ci)=>{ki.addEventListener(Ci,_i,!1)}),function(){wi.forEach((Ci)=>{ki.removeEventListener(Ci,_i)})}}}}registerElementHandler(wi,ki){this.elementHandlerLookup[wi.toLowerCase()]=ki}registerEventStrategy(wi,ki){this.eventStrategyLookup[wi]=ki}getElementHandler(wi,ki){let _i,Ci=this.elementHandlerLookup;if(wi.tagName){if(_i=wi.tagName.toLowerCase(),Ci[_i]&&Ci[_i][ki])return Ci[_i][ki];if('textContent'===ki||'innerHTML'===ki)return Ci['content editable'].value;if('scrollTop'===ki||'scrollLeft'===ki)return Ci['scrollable element'][ki]}return null}addEventListener(wi,ki,_i,Ci){return(this.eventStrategyLookup[ki]||this.defaultEventStrategy).subscribe(wi,ki,_i,Ci)}},Pr=(Ke=K(),Ke(Ge=class{constructor(wi,ki,_i){this.dirtyChecker=wi,this.obj=ki,this.propertyName=_i}getValue(){return this.obj[this.propertyName]}setValue(wi){this.obj[this.propertyName]=wi}call(){let wi=this.oldValue,ki=this.getValue();this.callSubscribers(ki,wi),this.oldValue=ki}isDirty(){return this.oldValue!==this.obj[this.propertyName]}subscribe(wi,ki){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)}})||Ge);const Ir=Be.getLogger('property-observation'),Er={getValue:(xi,wi)=>xi[wi],setValue:(xi,wi,ki)=>{wi[ki]=xi}};let Nr=class{constructor(wi,ki){this.doNotCache=!0,this.primitive=wi,this.propertyName=ki}getValue(){return this.primitive[this.propertyName]}setValue(){let wi=typeof this.primitive;throw new Error(`The ${this.propertyName} property of a ${wi} (${this.primitive}) cannot be assigned.`)}subscribe(){}unsubscribe(){}},Rr=(Xe=K(),Xe(Je=class{constructor(wi,ki,_i){this.taskQueue=wi,this.obj=ki,this.propertyName=_i,this.queued=!1,this.observing=!1}getValue(){return this.obj[this.propertyName]}setValue(wi){this.obj[this.propertyName]=wi}getterValue(){return this.currentValue}setterValue(wi){let ki=this.currentValue;ki!==wi&&(!this.queued&&(this.oldValue=ki,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=wi)}call(){let wi=this.oldValue,ki=this.currentValue;this.queued=!1,this.callSubscribers(ki,wi)}subscribe(wi,ki){this.observing||this.convertProperty(),this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)}convertProperty(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Ir.warn(`Cannot observe property '${this.propertyName}' of object`,this.obj)}})||Je),Mr=class{constructor(wi,ki,_i){this.element=wi,this.propertyName=ki,this.attributeName=_i}getValue(){return this.element.getAttributeNS('http://www.w3.org/1999/xlink',this.attributeName)}setValue(wi){return this.element.setAttributeNS('http://www.w3.org/1999/xlink',this.attributeName,wi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}};const Or={getValue:(xi,wi)=>xi.getAttribute(wi),setValue:(xi,wi,ki)=>wi.setAttribute(ki,xi)};let Lr=class{constructor(wi,ki){this.element=wi,this.propertyName=ki}getValue(){return this.element.getAttribute(this.propertyName)}setValue(wi){return this.element.setAttribute(this.propertyName,wi)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}},Tr=class{constructor(wi,ki){this.element=wi,this.propertyName=ki,this.styles=null,this.version=0}getValue(){return this.element.style.cssText}_setProperty(wi,ki){let _i='';null!==ki&&ki!==void 0&&'function'==typeof ki.indexOf&&-1!==ki.indexOf('!important')&&(_i='important',ki=ki.replace('!important','')),this.element.style.setProperty(wi,ki,_i)}setValue(wi){let ki=this.styles||{},Ci=this.version,_i;if(null!==wi&&void 0!==wi)if(wi instanceof Object){let Ai;for(_i in wi)wi.hasOwnProperty(_i)&&(Ai=wi[_i],_i=_i.replace(/([A-Z])/g,(Pi)=>'-'+Pi.toLowerCase()),ki[_i]=Ci,this._setProperty(_i,Ai))}else if(wi.length)for(let Ai=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,Pi;null!==(Pi=Ai.exec(wi));)(_i=Pi[1],!!_i)&&(ki[_i]=Ci,this._setProperty(_i,Pi[2]));if(this.styles=ki,this.version+=1,0!==Ci)for(_i in Ci-=1,ki)ki.hasOwnProperty(_i)&&ki[_i]===Ci&&this.element.style.removeProperty(_i)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "${this.propertyName}" property is not supported.`)}},Vr=(Ze=K(),Ze(et=class{constructor(wi,ki,_i){this.element=wi,this.propertyName=ki,this.handler=_i,'files'===ki&&(this.setValue=()=>{})}getValue(){return this.element[this.propertyName]}setValue(wi){wi=wi===void 0||null===wi?'':wi,this.element[this.propertyName]!==wi&&(this.element[this.propertyName]=wi,this.notify())}notify(){let wi=this.oldValue,ki=this.getValue();this.callSubscribers(ki,wi),this.oldValue=ki}subscribe(wi,ki){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}})||et);const Br='CheckedObserver:array',jr='CheckedObserver:value';let Fr=(tt=K(),tt(nt=class{constructor(wi,ki,_i){this.element=wi,this.handler=ki,this.observerLocator=_i}getValue(){return this.value}setValue(wi){this.initialSync&&this.value===wi||(this.arrayObserver&&(this.arrayObserver.unsubscribe(Br,this),this.arrayObserver=null),'checkbox'===this.element.type&&Array.isArray(wi)&&(this.arrayObserver=this.observerLocator.getArrayObserver(wi),this.arrayObserver.subscribe(Br,this)),this.oldValue=this.value,this.value=wi,this.synchronizeElement(),this.notify(),!this.initialSync&&(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(jr,this))}synchronizeElement(){let wi=this.value,ki=this.element,_i=ki.hasOwnProperty('model')?ki.model:ki.value,Ci='radio'===ki.type,Ai=ki.matcher||((Pi,Ii)=>Pi===Ii);ki.checked=Ci&&!!Ai(wi,_i)||!Ci&&!0===wi||!Ci&&Array.isArray(wi)&&-1!==wi.findIndex((Pi)=>!!Ai(Pi,_i))}synchronizeValue(){let wi=this.value,ki=this.element,_i=ki.hasOwnProperty('model')?ki.model:ki.value,Ci,Ai=ki.matcher||((Pi,Ii)=>Pi===Ii);if('checkbox'===ki.type){if(Array.isArray(wi))return Ci=wi.findIndex((Pi)=>!!Ai(Pi,_i)),void(ki.checked&&-1===Ci?wi.push(_i):!ki.checked&&-1!==Ci&&wi.splice(Ci,1));wi=ki.checked}else if(ki.checked)wi=_i;else return;this.oldValue=this.value,this.value=wi,this.notify()}notify(){let wi=this.oldValue,ki=this.value;ki===wi||this.callSubscribers(ki,wi)}subscribe(wi,ki){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}unbind(){this.arrayObserver&&(this.arrayObserver.unsubscribe(Br,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(jr,this)}})||nt);const qr='SelectValueObserver:array';let Dr=(at=K(),at(ot=class{constructor(wi,ki,_i){this.element=wi,this.handler=ki,this.observerLocator=_i}getValue(){return this.value}setValue(wi){if(null!==wi&&wi!==void 0&&this.element.multiple&&!Array.isArray(wi))throw new Error('Only null or Array instances can be bound to a multi-select.');this.value===wi||(this.arrayObserver&&(this.arrayObserver.unsubscribe(qr,this),this.arrayObserver=null),Array.isArray(wi)&&(this.arrayObserver=this.observerLocator.getArrayObserver(wi),this.arrayObserver.subscribe(qr,this)),this.oldValue=this.value,this.value=wi,this.synchronizeOptions(),this.notify(),!this.initialSync&&(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))}call(){this.synchronizeOptions()}synchronizeOptions(){let wi=this.value,ki;Array.isArray(wi)&&(ki=!0);let _i=this.element.options,Ci=_i.length,Ai=this.element.matcher||((Pi,Ii)=>Pi===Ii);for(;Ci--;){let Pi=_i.item(Ci),Ii=Pi.hasOwnProperty('model')?Pi.model:Pi.value;if(ki){Pi.selected=-1!==wi.findIndex((Ei)=>!!Ai(Ii,Ei));continue}Pi.selected=!!Ai(Ii,wi)}}synchronizeValue(){let wi=this.element.options,ki=0,_i=[];for(let Ci=0,Ai=wi.length,Pi;Ci<Ai;Ci++)(Pi=wi.item(Ci),!!Pi.selected)&&(_i.push(Pi.hasOwnProperty('model')?Pi.model:Pi.value),ki++);if(!this.element.multiple)_i=0==ki?null:_i[0];else if(Array.isArray(this.value)){let Ci=this.element.matcher||((Pi,Ii)=>Pi===Ii),Ai=0;for(;Ai<this.value.length;){let Pi=this.value[Ai];-1===_i.findIndex((Ii)=>Ci(Pi,Ii))?this.value.splice(Ai,1):Ai++}for(Ai=0;Ai<_i.length;){let Pi=_i[Ai];-1===this.value.findIndex((Ii)=>Ci(Pi,Ii))&&this.value.push(Pi),Ai++}return}_i!==this.value&&(this.oldValue=this.value,this.value=_i,this.notify())}notify(){let wi=this.oldValue,ki=this.value;this.callSubscribers(ki,wi)}subscribe(wi,ki){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(wi,ki)}unsubscribe(wi,ki){this.removeSubscriber(wi,ki)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)}bind(){this.domObserver=je.c.createMutationObserver(()=>{this.synchronizeOptions(),this.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})}unbind(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(qr,this),this.arrayObserver=null)}})||ot),zr=class{constructor(wi){this.element=wi,this.doNotCache=!0,this.value='',this.version=0}getValue(){return this.value}setValue(wi){let ki=this.nameIndex||{},_i=this.version,Ci,Ai;if(null!==wi&&void 0!==wi&&wi.length){Ci=wi.split(/\s+/);for(let Pi=0,Ii=Ci.length;Pi<Ii;Pi++)(Ai=Ci[Pi],''!==Ai)&&(ki[Ai]=_i,this.element.classList.add(Ai))}if(this.value=wi,this.nameIndex=ki,this.version+=1,0!==_i)for(Ai in _i-=1,ki)ki.hasOwnProperty(Ai)&&ki[Ai]===_i&&this.element.classList.remove(Ai)}subscribe(){throw new Error(`Observation of a "${this.element.nodeName}" element\'s "class" property is not supported.`)}},Hr=class extends Ht{constructor(wi,ki){super(),this.name=wi,this.dependencies=ki,this.isAssignable=!0}evaluate(wi){return wi.bindingContext[this.name]}assign(wi,ki){wi.bindingContext[this.name]=ki}accept(){throw new Error('not implemented')}connect(wi,ki){let _i=this.dependencies,Ci=_i.length;for(;Ci--;)_i[Ci].connect(wi,ki)}},Ur,Wr,Qr,Yr;const Jr=Yr||class{isStandardSvgAttribute(){return!1}};h.o=Jr;let Zr=(lt=st=class{constructor(wi,ki,_i,Ci,Ai){this.taskQueue=wi,this.eventManager=ki,this.dirtyChecker=_i,this.svgAnalyzer=Ci,this.parser=Ai,this.adapters=[],this.logger=Be.getLogger('observer-locator')}getObserver(wi,ki){let _i=wi.__observers__,Ci;return _i&&ki in _i?_i[ki]:(Ci=this.createPropertyObserver(wi,ki),Ci.doNotCache||(void 0===_i&&(_i=this.getOrCreateObserversLookup(wi)),_i[ki]=Ci),Ci)}getOrCreateObserversLookup(wi){return wi.__observers__||this.createObserversLookup(wi)}createObserversLookup(wi){let ki={};return Reflect.defineProperty(wi,'__observers__',{enumerable:!1,configurable:!1,writable:!1,value:ki})||this.logger.warn('Cannot add observers to object',wi),ki}addAdapter(wi){this.adapters.push(wi)}getAdapterObserver(wi,ki,_i){for(let Ci=0,Ai=this.adapters.length;Ci<Ai;Ci++){let Pi=this.adapters[Ci],Ii=Pi.getObserver(wi,ki,_i);if(Ii)return Ii}return null}createPropertyObserver(wi,ki){let _i,Ci,Ai;if(!(wi instanceof Object))return new Nr(wi,ki);if(wi instanceof je.c.Element){if('class'===ki)return new zr(wi);if('style'===ki||'css'===ki)return new Tr(wi,ki);if(Ci=this.eventManager.getElementHandler(wi,ki),'value'===ki&&'select'===wi.tagName.toLowerCase())return new Dr(wi,Ci,this);if('checked'===ki&&'input'===wi.tagName.toLowerCase())return new Fr(wi,Ci,this);if(Ci)return new Vr(wi,ki,Ci);if(Ai=/^xlink:(.+)$/.exec(ki),Ai)return new Mr(wi,ki,Ai[1]);if('role'===ki&&(wi instanceof je.c.Element||wi instanceof je.c.SVGElement)||/^\w+:|^data-|^aria-/.test(ki)||wi instanceof je.c.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(wi.nodeName,ki))return new Lr(wi,ki)}if(_i=Object.getPropertyDescriptor(wi,ki),Ie(_i))return Re(wi,ki,_i,this);if(_i){const Pi=_i.get||_i.set;if(Pi){if(Pi.getObserver)return Pi.getObserver(wi);let Ii=this.getAdapterObserver(wi,ki,_i);return Ii?Ii:new Pr(this.dirtyChecker,wi,ki)}}return wi instanceof Array?'length'===ki?this.getArrayObserver(wi).getLengthObserver():new Pr(this.dirtyChecker,wi,ki):wi instanceof Map?'size'===ki?this.getMapObserver(wi).getLengthObserver():new Pr(this.dirtyChecker,wi,ki):wi instanceof Set?'size'===ki?this.getSetObserver(wi).getLengthObserver():new Pr(this.dirtyChecker,wi,ki):new Rr(this.taskQueue,wi,ki)}getAccessor(wi,ki){if(wi instanceof je.c.Element){if('class'===ki||'style'===ki||'css'===ki||'value'===ki&&('input'===wi.tagName.toLowerCase()||'select'===wi.tagName.toLowerCase())||'checked'===ki&&'input'===wi.tagName.toLowerCase()||'model'===ki&&'input'===wi.tagName.toLowerCase()||/^xlink:.+$/.exec(ki))return this.getObserver(wi,ki);if(/^\w+:|^data-|^aria-/.test(ki)||wi instanceof je.c.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(wi.nodeName,ki))return Or}return Er}getArrayObserver(wi){return se(this.taskQueue,wi)}getMapObserver(wi){return ke(this.taskQueue,wi)}getSetObserver(wi){return Te(this.taskQueue,wi)}},st.inject=[Fe.a,Sr,class{constructor(){this.tracked=[],this.checkDelay=120}addProperty(wi){let ki=this.tracked;ki.push(wi),1===ki.length&&this.scheduleDirtyCheck()}removeProperty(wi){let ki=this.tracked;ki.splice(ki.indexOf(wi),1)}scheduleDirtyCheck(){setTimeout(()=>this.check(),this.checkDelay)}check(){let wi=this.tracked,ki=wi.length;for(;ki--;){let _i=wi[ki];_i.isDirty()&&_i.call()}wi.length&&this.scheduleDirtyCheck()}},Jr,vr],lt),ti=class{constructor(wi,ki,_i,Ci,Ai,Pi){this.observerLocator=wi,this.targetProperty=ki,this.sourceExpression=_i,this.mode=Ci,this.lookupFunctions=Ai,this.attribute=Pi,this.discrete=!1}createBinding(wi){return new ri(this.observerLocator,this.sourceExpression,wi,this.targetProperty,this.mode,this.lookupFunctions)}};const ni='Binding:target';let ri=(dt=F(),dt(ut=class{constructor(wi,ki,_i,Ci,Ai,Pi){this.observerLocator=wi,this.sourceExpression=ki,this.target=_i,this.targetProperty=Ci,this.mode=Ai,this.lookupFunctions=Pi}updateTarget(wi){this.targetObserver.setValue(wi,this.target,this.targetProperty)}updateSource(wi){this.sourceExpression.assign(this.source,wi,this.lookupFunctions)}call(wi,ki,_i){if(this.isBound){if(wi===mt)return _i=this.targetObserver.getValue(this.target,this.targetProperty),ki=this.sourceExpression.evaluate(this.source,this.lookupFunctions),ki!==_i&&this.updateTarget(ki),void(this.mode!==pn.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(wi===ni)return void(ki!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(ki));throw new Error(`Unexpected call context ${wi}`)}}bind(wi){if(this.isBound){if(this.source===wi)return;this.unbind()}this.isBound=!0,this.source=wi,this.sourceExpression.bind&&this.sourceExpression.bind(this,wi,this.lookupFunctions);let ki=this.mode;if(!this.targetObserver){let Ci=ki===pn.twoWay?'getObserver':'getAccessor';this.targetObserver=this.observerLocator[Ci](this.target,this.targetProperty)}'bind'in this.targetObserver&&this.targetObserver.bind();let _i=this.sourceExpression.evaluate(wi,this.lookupFunctions);this.updateTarget(_i),ki===pn.oneWay?z(this):ki===pn.twoWay&&(this.sourceExpression.connect(this,wi),this.targetObserver.subscribe(ni,this))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,'unbind'in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(ni,this),this.unobserve(!0))}connect(wi){if(this.isBound){if(wi){let ki=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(ki)}this.sourceExpression.connect(this,this.source)}}})||ut),ai=class{constructor(wi,ki,_i,Ci){this.observerLocator=wi,this.targetProperty=ki,this.sourceExpression=_i,this.lookupFunctions=Ci}createBinding(wi){return new oi(this.observerLocator,this.sourceExpression,wi,this.targetProperty,this.lookupFunctions)}},oi=class{constructor(wi,ki,_i,Ci,Ai){this.sourceExpression=ki,this.target=_i,this.targetProperty=wi.getObserver(_i,Ci),this.lookupFunctions=Ai}callSource(wi){let ki=this.source.overrideContext;Object.assign(ki,wi),ki.$event=wi;let Ci=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);for(let Ai in delete ki.$event,wi)delete ki[Ai];return Ci}bind(wi){if(this.isBound){if(this.source===wi)return;this.unbind()}this.isBound=!0,this.source=wi,this.sourceExpression.bind&&this.sourceExpression.bind(this,wi,this.lookupFunctions),this.targetProperty.setValue((ki)=>this.callSource(ki))}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))}},si=class xi{constructor(wi){this.name=wi}static convention(wi){if(wi.endsWith('ValueConverter'))return new xi(A(wi.substring(0,wi.length-14)))}initialize(wi,ki){this.instance=wi.get(ki)}register(wi,ki){wi.registerValueConverter(ki||this.name,this.instance)}load(){}},li=class xi{constructor(wi){this.name=wi}static convention(wi){if(wi.endsWith('BindingBehavior'))return new xi(A(wi.substring(0,wi.length-15)))}initialize(wi,ki){this.instance=wi.get(ki)}register(wi,ki){wi.registerBindingBehavior(ki||this.name,this.instance)}load(){}},di=class{constructor(wi,ki,_i,Ci,Ai,Pi){this.eventManager=wi,this.targetEvent=ki,this.sourceExpression=_i,this.delegationStrategy=Ci,this.discrete=!0,this.preventDefault=Ai,this.lookupFunctions=Pi}createBinding(wi){return new ui(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,wi,this.preventDefault,this.lookupFunctions)}},ui=class{constructor(wi,ki,_i,Ci,Ai,Pi,Ii){this.eventManager=wi,this.targetEvent=ki,this.delegationStrategy=_i,this.sourceExpression=Ci,this.target=Ai,this.preventDefault=Pi,this.lookupFunctions=Ii}callSource(wi){let ki=this.source.overrideContext;ki.$event=wi;let Ci=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete ki.$event,!0!==Ci&&this.preventDefault&&wi.preventDefault(),Ci}bind(wi){if(this.isBound){if(this.source===wi)return;this.unbind()}this.isBound=!0,this.source=wi,this.sourceExpression.bind&&this.sourceExpression.bind(this,wi,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,(ki)=>this.callSource(ki),this.delegationStrategy)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)}},ci=class xi{constructor(wi,ki,_i){this.sourceExpression=wi,this.apiName=ki,this.lookupFunctions=_i,this.discrete=!0}createBinding(wi){return new pi(this.sourceExpression,xi.locateAPI(wi,this.apiName),this.lookupFunctions)}static locateAPI(wi,ki){switch(ki){case'element':return wi;case'controller':return Le(wi).controller;case'view-model':return Le(wi).controller.viewModel;case'view':return Le(wi).controller.view;default:let _i=Le(wi)[ki];if(_i===void 0)throw new Error(`Attempted to reference "${ki}", but it was not found amongst the target's API.`);return _i.viewModel;}}},pi=class{constructor(wi,ki,_i){this.sourceExpression=wi,this.target=ki,this.lookupFunctions=_i}bind(wi){if(this.isBound){if(this.source===wi)return;this.unbind()}this.isBound=!0,this.source=wi,this.sourceExpression.bind&&this.sourceExpression.bind(this,wi,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)}unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)}};const gi={bindingBehaviors:()=>null,valueConverters:()=>null};let fi=(pt=ct=class{constructor(wi,ki){this.observerLocator=wi,this.parser=ki}createBindingExpression(wi,ki,_i=pn.oneWay,Ci=gi){return new ti(this.observerLocator,wi,this.parser.parse(ki),_i,Ci)}propertyObserver(wi,ki){return{subscribe:(_i)=>{let Ci=this.observerLocator.getObserver(wi,ki);return Ci.subscribe(_i),{dispose:()=>Ci.unsubscribe(_i)}}}}collectionObserver(wi){return{subscribe:(ki)=>{let _i;if(wi instanceof Array)_i=this.observerLocator.getArrayObserver(wi);else if(wi instanceof Map)_i=this.observerLocator.getMapObserver(wi);else if(wi instanceof Set)_i=this.observerLocator.getSetObserver(wi);else throw new Error('collection must be an instance of Array, Map or Set.');return _i.subscribe(ki),{dispose:()=>_i.unsubscribe(ki)}}}}expressionObserver(wi,ki){let _i={bindingContext:wi,overrideContext:I(wi)};return new Pt(_i,this.parser.parse(ki),this.observerLocator,gi)}parseExpression(wi){return this.parser.parse(wi)}registerAdapter(wi){this.observerLocator.addAdapter(wi)}},ct.inject=[Zr,vr],pt),vi=Set.prototype,yi=class xi extends Ot{constructor(wi,ki){super(wi,ki)}static for(wi,ki){return'__set_observer__'in ki||Reflect.defineProperty(ki,'__set_observer__',{value:xi.create(wi,ki),enumerable:!1,configurable:!1}),ki.__set_observer__}static create(wi,ki){let _i=new xi(wi,ki),Ci=vi;return(Ci.add!==ki.add||Ci.delete!==ki.delete||Ci.clear!==ki.clear)&&(Ci={add:ki.add,delete:ki.delete,clear:ki.clear}),ki.add=function(){let Pi=ki.size,Ii=Ci.add.apply(ki,arguments),Ei=ki.size===Pi;return Ei||_i.addChangeRecord({type:'add',object:ki,value:Array.from(ki).pop()}),Ii},ki.delete=function(){let Ai=ki.has(arguments[0]),Pi=Ci.delete.apply(ki,arguments);return Ai&&_i.addChangeRecord({type:'delete',object:ki,value:arguments[0]}),Pi},ki.clear=function(){let Ai=Ci.clear.apply(ki,arguments);return _i.addChangeRecord({type:'clear',object:ki}),Ai},_i}}},30:function(u,h,w){'use strict';function A(z,H){if('string'!=typeof H)throw new Error(`Failed loading required CSS file: ${z}`);return H.replace(B,(U,W)=>{let Q=W.charAt(0);return('\''===Q||'"'===Q)&&(W=W.substr(1,W.length-2)),'url(\''+w.i(T.a)(W,z)+'\')'})}var N=w(1),R=w(8),M=w(2),T=w(6),V=w(0);h.a=function(z){var H,U;let W=(H=w.i(N.p)(new F(z)),H(U=class extends D{})||U);return W};let B=/url\((?!['"]data)([^)]+)\)/gi,F=class{constructor(H){this.address=H,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}initialize(H,U){this._scoped=new U(this)}register(H,U){'scoped'===U?H.registerViewEngineHooks(this._scoped):this._global=!0}load(H){return H.get(R.a).loadText(this.address).catch(()=>null).then((U)=>{U=A(this.address,U),this._scoped.css=U,this._global&&(this._alreadyGloballyInjected=!0,V.c.injectStyles(U))})}},D=class{constructor(H){this.owner=H,this.css=null}beforeCompile(H,U,W){if(W.targetShadowDOM)V.c.injectStyles(this.css,H,!0);else if(V.d.scopedCSS){let Q=V.c.injectStyles(this.css,H,!0);Q.setAttribute('scoped','scoped')}else this.owner._alreadyGloballyInjected||(V.c.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)}}},31:function(u,h,w){'use strict';var I=w(1);h.a=function(N,R,M){var T,V,B;let F=(T=w.i(I.g)(N),V=w.i(I.q)(R),T(B=V(B=class{bind(z){this.$parent=z}})||B)||B);for(let D=0,z=M.length;D<z;++D)w.i(I.j)(M[D])(F);return F}},32:function(u,h,w){'use strict';function A(M){return /([^\/^\?]+)\.html/i.exec(M)[1].toLowerCase()}var N=w(1),R=w(31);h.a=function(M){let T=M.container.get(N.f),V=M.aurelia.loader;T.addResourcePlugin('.html',{fetch:function(B){return V.loadTemplate(B).then((F)=>{let D=F.template.getAttribute('bindable'),z=A(B);return D?(D=D.split(',').map((H)=>H.trim()),F.template.removeAttribute('bindable')):D=[],{[z]:w.i(R.a)(z,B,D)}})}})}},33:function(u,h,w){'use strict';function A(z){var H,U,W;let Q=/([^\/^\?]+)\.html/i.exec(z)[1],Y=(H=w.i(N.g)(Q),U=w.i(N.q)(z),H(W=U(W=class{bind($){this.$parent=$}})||W)||W);return Y}var I=w(2),N=w(1),R=w(10),M=w(6),T=w(4),V=w('aurelia-templating-router/router-view');w.d(h,'a',function(){return D});var B,F;let D=(B=w.i(I.b)(N.h),B(F=class extends R.a{constructor(H){super(),this.compositionEngine=H}loadRoute(H,U){let W=H.container.createChild(),Q=/\.html/.test(U.moduleId)?A(U.moduleId):w.i(M.a)(U.moduleId,T.c.get(H.container.viewModel.constructor).moduleId),Y={viewModel:Q,childContainer:W,view:U.view||U.viewStrategy,router:H};return W.registerSingleton(V.RouterViewLocator),W.getChildRouter=function(){let K;return W.registerHandler(R.b,()=>{return K||(K=H.createChild(W))}),W.get(R.b)},this.compositionEngine.ensureViewModel(Y)}})||F)},34:function(u,h){'use strict';function A(U){var W=U.length;if(0<W%4)throw new Error('Invalid string. Length must be a multiple of 4');return'='===U[W-2]?2:'='===U[W-1]?1:0}function R(U){return V[63&U>>18]+V[63&U>>12]+V[63&U>>6]+V[63&U]}function M(U,W,Q){for(var K=[],$=W,Y;$<Q;$+=3)Y=(U[$]<<16)+(U[$+1]<<8)+U[$+2],K.push(R(Y));return K.join('')}h.byteLength=function(U){return 3*U.length/4-A(U)},h.toByteArray=function(U){var J=U.length,W,Q,Y,K,$,X;$=A(U),X=new F(3*J/4-$),Y=0<$?J-4:J;var Z=0;for(W=0,Q=0;W<Y;W+=4,Q+=3)K=B[U.charCodeAt(W)]<<18|B[U.charCodeAt(W+1)]<<12|B[U.charCodeAt(W+2)]<<6|B[U.charCodeAt(W+3)],X[Z++]=255&K>>16,X[Z++]=255&K>>8,X[Z++]=255&K;return 2===$?(K=B[U.charCodeAt(W)]<<2|B[U.charCodeAt(W+1)]>>4,X[Z++]=255&K):1===$&&(K=B[U.charCodeAt(W)]<<10|B[U.charCodeAt(W+1)]<<4|B[U.charCodeAt(W+2)]>>2,X[Z++]=255&K>>8,X[Z++]=255&K),X},h.fromByteArray=function(U){for(var Q=U.length,Y=Q%3,K='',$=[],X=16383,J=0,Z=Q-Y,W;J<Z;J+=X)$.push(M(U,J,J+X>Z?Z:J+X));return 1==Y?(W=U[Q-1],K+=V[W>>2],K+=V[63&W<<4],K+='=='):2==Y&&(W=(U[Q-2]<<8)+U[Q-1],K+=V[W>>10],K+=V[63&W>>4],K+=V[63&W<<2],K+='='),$.push(K),$.join('')};for(var V=[],B=[],F='undefined'==typeof Uint8Array?Array:Uint8Array,D='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',z=0,H=D.length;z<H;++z)V[z]=D[z],B[D.charCodeAt(z)]=z;B['-'.charCodeAt(0)]=62,B['_'.charCodeAt(0)]=63},35:function(u,h,w){'use strict';(function(A){function N(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function R(Oe,Le){if(N()<Le)throw new RangeError('Invalid typed array length');return M.TYPED_ARRAY_SUPPORT?(Oe=new Uint8Array(Le),Oe.__proto__=M.prototype):(null===Oe&&(Oe=new M(Le)),Oe.length=Le),Oe}function M(Oe,Le,Te){if(!M.TYPED_ARRAY_SUPPORT&&!(this instanceof M))return new M(Oe,Le,Te);if('number'==typeof Oe){if('string'==typeof Le)throw new Error('If encoding is specified then the first argument must be a string');return F(this,Oe)}return T(this,Oe,Le,Te)}function T(Oe,Le,Te,Ve){if('number'==typeof Le)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Le instanceof ArrayBuffer?H(Oe,Le,Te,Ve):'string'==typeof Le?D(Oe,Le,Te):U(Oe,Le)}function V(Oe){if('number'!=typeof Oe)throw new TypeError('"size" argument must be a number');else if(0>Oe)throw new RangeError('"size" argument must not be negative')}function B(Oe,Le,Te,Ve){return V(Le),0>=Le?R(Oe,Le):void 0===Te?R(Oe,Le):'string'==typeof Ve?R(Oe,Le).fill(Te,Ve):R(Oe,Le).fill(Te)}function F(Oe,Le){if(V(Le),Oe=R(Oe,0>Le?0:0|W(Le)),!M.TYPED_ARRAY_SUPPORT)for(var Te=0;Te<Le;++Te)Oe[Te]=0;return Oe}function D(Oe,Le,Te){if(('string'!=typeof Te||''===Te)&&(Te='utf8'),!M.isEncoding(Te))throw new TypeError('"encoding" must be a valid string encoding');var Ve=0|Y(Le,Te);Oe=R(Oe,Ve);var Be=Oe.write(Le,Te);return Be!==Ve&&(Oe=Oe.slice(0,Be)),Oe}function z(Oe,Le){var Te=0>Le.length?0:0|W(Le.length);Oe=R(Oe,Te);for(var Ve=0;Ve<Te;Ve+=1)Oe[Ve]=255&Le[Ve];return Oe}function H(Oe,Le,Te,Ve){if(Le.byteLength,0>Te||Le.byteLength<Te)throw new RangeError('\'offset\' is out of bounds');if(Le.byteLength<Te+(Ve||0))throw new RangeError('\'length\' is out of bounds');return Le=void 0===Te&&void 0===Ve?new Uint8Array(Le):void 0===Ve?new Uint8Array(Le,Te):new Uint8Array(Le,Te,Ve),M.TYPED_ARRAY_SUPPORT?(Oe=Le,Oe.__proto__=M.prototype):Oe=z(Oe,Le),Oe}function U(Oe,Le){if(M.isBuffer(Le)){var Te=0|W(Le.length);return(Oe=R(Oe,Te),0===Oe.length)?Oe:(Le.copy(Oe,0,0,Te),Oe)}if(Le){if('undefined'!=typeof ArrayBuffer&&Le.buffer instanceof ArrayBuffer||'length'in Le)return'number'!=typeof Le.length||Pe(Le.length)?R(Oe,0):z(Oe,Le);if('Buffer'===Le.type&&Ne(Le.data))return z(Oe,Le.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function W(Oe){if(Oe>=N())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+N().toString(16)+' bytes');return 0|Oe}function Y(Oe,Le){if(M.isBuffer(Oe))return Oe.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Oe)||Oe instanceof ArrayBuffer))return Oe.byteLength;'string'!=typeof Oe&&(Oe=''+Oe);var Te=Oe.length;if(0===Te)return 0;for(var Ve=!1;;)switch(Le){case'ascii':case'latin1':case'binary':return Te;case'utf8':case'utf-8':case void 0:return ke(Oe).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*Te;case'hex':return Te>>>1;case'base64':return Se(Oe).length;default:if(Ve)return ke(Oe).length;Le=(''+Le).toLowerCase(),Ve=!0;}}function K(Oe,Le,Te){var Ve=!1;if((void 0===Le||0>Le)&&(Le=0),Le>this.length)return'';if((void 0===Te||Te>this.length)&&(Te=this.length),0>=Te)return'';if(Te>>>=0,Le>>>=0,Te<=Le)return'';for(Oe||(Oe='utf8');;)switch(Oe){case'hex':return ue(this,Le,Te);case'utf8':case'utf-8':return oe(this,Le,Te);case'ascii':return le(this,Le,Te);case'latin1':case'binary':return de(this,Le,Te);case'base64':return ae(this,Le,Te);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ce(this,Le,Te);default:if(Ve)throw new TypeError('Unknown encoding: '+Oe);Oe=(Oe+'').toLowerCase(),Ve=!0;}}function $(Oe,Le,Te){var Ve=Oe[Le];Oe[Le]=Oe[Te],Oe[Te]=Ve}function X(Oe,Le,Te,Ve,Be){if(0===Oe.length)return-1;if('string'==typeof Te?(Ve=Te,Te=0):2147483647<Te?Te=2147483647:-2147483648>Te&&(Te=-2147483648),Te=+Te,isNaN(Te)&&(Te=Be?0:Oe.length-1),0>Te&&(Te=Oe.length+Te),Te>=Oe.length){if(Be)return-1;Te=Oe.length-1}else if(0>Te)if(Be)Te=0;else return-1;if('string'==typeof Le&&(Le=M.from(Le,Ve)),M.isBuffer(Le))return 0===Le.length?-1:J(Oe,Le,Te,Ve,Be);if('number'==typeof Le)return Le&=255,M.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?Be?Uint8Array.prototype.indexOf.call(Oe,Le,Te):Uint8Array.prototype.lastIndexOf.call(Oe,Le,Te):J(Oe,[Le],Te,Ve,Be);throw new TypeError('val must be string, number or Buffer')}function J(Oe,Le,Te,Ve,Be){function je(Qe,Ye){return 1==Fe?Qe[Ye]:Qe.readUInt16BE(Ye*Fe)}var Fe=1,qe=Oe.length,De=Le.length;if(void 0!==Ve&&(Ve=(Ve+'').toLowerCase(),'ucs2'===Ve||'ucs-2'===Ve||'utf16le'===Ve||'utf-16le'===Ve)){if(2>Oe.length||2>Le.length)return-1;Fe=2,qe/=2,De/=2,Te/=2}var ze;if(Be){var He=-1;for(ze=Te;ze<qe;ze++)if(je(Oe,ze)!==je(Le,-1==He?0:ze-He))-1!=He&&(ze-=ze-He),He=-1;else if(-1==He&&(He=ze),ze-He+1===De)return He*Fe}else for(Te+De>qe&&(Te=qe-De),ze=Te;0<=ze;ze--){for(var Ue=!0,We=0;We<De;We++)if(je(Oe,ze+We)!==je(Le,We)){Ue=!1;break}if(Ue)return ze}return-1}function Z(Oe,Le,Te,Ve){Te=+Te||0;var Be=Oe.length-Te;Ve?(Ve=+Ve,Ve>Be&&(Ve=Be)):Ve=Be;var je=Le.length;if(0!=je%2)throw new TypeError('Invalid hex string');Ve>je/2&&(Ve=je/2);for(var Fe=0,qe;Fe<Ve;++Fe){if(qe=parseInt(Le.substr(2*Fe,2),16),isNaN(qe))return Fe;Oe[Te+Fe]=qe}return Fe}function ee(Oe,Le,Te,Ve){return Ae(ke(Le,Oe.length-Te),Oe,Te,Ve)}function te(Oe,Le,Te,Ve){return Ae(_e(Le),Oe,Te,Ve)}function ne(Oe,Le,Te,Ve){return te(Oe,Le,Te,Ve)}function re(Oe,Le,Te,Ve){return Ae(Se(Le),Oe,Te,Ve)}function ie(Oe,Le,Te,Ve){return Ae(Ce(Le,Oe.length-Te),Oe,Te,Ve)}function ae(Oe,Le,Te){return 0===Le&&Te===Oe.length?Ie.fromByteArray(Oe):Ie.fromByteArray(Oe.slice(Le,Te))}function oe(Oe,Le,Te){Te=_Mathmin(Oe.length,Te);for(var Ve=[],Be=Le;Be<Te;){var je=Oe[Be],Fe=null,qe=239<je?4:223<je?3:191<je?2:1;if(Be+qe<=Te){var De,ze,He,Ue;1==qe?128>je&&(Fe=je):2==qe?(De=Oe[Be+1],128==(192&De)&&(Ue=(31&je)<<6|63&De,127<Ue&&(Fe=Ue))):3==qe?(De=Oe[Be+1],ze=Oe[Be+2],128==(192&De)&&128==(192&ze)&&(Ue=(15&je)<<12|(63&De)<<6|63&ze,2047<Ue&&(55296>Ue||57343<Ue)&&(Fe=Ue))):4==qe?(De=Oe[Be+1],ze=Oe[Be+2],He=Oe[Be+3],128==(192&De)&&128==(192&ze)&&128==(192&He)&&(Ue=(15&je)<<18|(63&De)<<12|(63&ze)<<6|63&He,65535<Ue&&1114112>Ue&&(Fe=Ue))):void 0}null===Fe?(Fe=65533,qe=1):65535<Fe&&(Fe-=65536,Ve.push(55296|1023&Fe>>>10),Fe=56320|1023&Fe),Ve.push(Fe),Be+=qe}return se(Ve)}function se(Oe){var Le=Oe.length;if(Le<=Re)return _StringfromCharCode.apply(String,Oe);for(var Te='',Ve=0;Ve<Le;)Te+=_StringfromCharCode.apply(String,Oe.slice(Ve,Ve+=Re));return Te}function le(Oe,Le,Te){var Ve='';Te=_Mathmin(Oe.length,Te);for(var Be=Le;Be<Te;++Be)Ve+=_StringfromCharCode(127&Oe[Be]);return Ve}function de(Oe,Le,Te){var Ve='';Te=_Mathmin(Oe.length,Te);for(var Be=Le;Be<Te;++Be)Ve+=_StringfromCharCode(Oe[Be]);return Ve}function ue(Oe,Le,Te){var Ve=Oe.length;(!Le||0>Le)&&(Le=0),(!Te||0>Te||Te>Ve)&&(Te=Ve);for(var Be='',je=Le;je<Te;++je)Be+=we(Oe[je]);return Be}function ce(Oe,Le,Te){for(var Ve=Oe.slice(Le,Te),Be='',je=0;je<Ve.length;je+=2)Be+=_StringfromCharCode(Ve[je]+256*Ve[je+1]);return Be}function pe(Oe,Le,Te){if(0!=Oe%1||0>Oe)throw new RangeError('offset is not uint');if(Oe+Le>Te)throw new RangeError('Trying to access beyond buffer length')}function ge(Oe,Le,Te,Ve,Be,je){if(!M.isBuffer(Oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Le>Be||Le<je)throw new RangeError('"value" argument is out of bounds');if(Te+Ve>Oe.length)throw new RangeError('Index out of range')}function me(Oe,Le,Te,Ve){0>Le&&(Le=65535+Le+1);for(var Be=0,je=_Mathmin(Oe.length-Te,2);Be<je;++Be)Oe[Te+Be]=(Le&255<<8*(Ve?Be:1-Be))>>>8*(Ve?Be:1-Be)}function he(Oe,Le,Te,Ve){0>Le&&(Le=4294967295+Le+1);for(var Be=0,je=_Mathmin(Oe.length-Te,4);Be<je;++Be)Oe[Te+Be]=255&Le>>>8*(Ve?Be:3-Be)}function fe(Oe,Le,Te,Ve){if(Te+Ve>Oe.length)throw new RangeError('Index out of range');if(0>Te)throw new RangeError('Index out of range')}function ve(Oe,Le,Te,Ve,Be){return Be||fe(Oe,Le,Te,4,3.4028234663852886e38,-3.4028234663852886e38),Ee.write(Oe,Le,Te,Ve,23,4),Te+4}function be(Oe,Le,Te,Ve,Be){return Be||fe(Oe,Le,Te,8,1.7976931348623157e308,-1.7976931348623157e308),Ee.write(Oe,Le,Te,Ve,52,8),Te+8}function ye(Oe){if(Oe=xe(Oe).replace(Me,''),2>Oe.length)return'';for(;0!=Oe.length%4;)Oe+='=';return Oe}function xe(Oe){return Oe.trim?Oe.trim():Oe.replace(/^\s+|\s+$/g,'')}function we(Oe){return 16>Oe?'0'+Oe.toString(16):Oe.toString(16)}function ke(Oe,Le){Le=Le||Infinity;for(var Ve=Oe.length,Be=null,je=[],Fe=0,Te;Fe<Ve;++Fe){if(Te=Oe.charCodeAt(Fe),55295<Te&&57344>Te){if(!Be){if(56319<Te){-1<(Le-=3)&&je.push(239,191,189);continue}else if(Fe+1===Ve){-1<(Le-=3)&&je.push(239,191,189);continue}Be=Te;continue}if(56320>Te){-1<(Le-=3)&&je.push(239,191,189),Be=Te;continue}Te=(Be-55296<<10|Te-56320)+65536}else Be&&-1<(Le-=3)&&je.push(239,191,189);if(Be=null,128>Te){if(0>(Le-=1))break;je.push(Te)}else if(2048>Te){if(0>(Le-=2))break;je.push(192|Te>>6,128|63&Te)}else if(65536>Te){if(0>(Le-=3))break;je.push(224|Te>>12,128|63&Te>>6,128|63&Te)}else if(1114112>Te){if(0>(Le-=4))break;je.push(240|Te>>18,128|63&Te>>12,128|63&Te>>6,128|63&Te)}else throw new Error('Invalid code point')}return je}function _e(Oe){for(var Le=[],Te=0;Te<Oe.length;++Te)Le.push(255&Oe.charCodeAt(Te));return Le}function Ce(Oe,Le){for(var je=[],Fe=0,Te,Ve,Be;Fe<Oe.length&&!(0>(Le-=2));++Fe)Te=Oe.charCodeAt(Fe),Ve=Te>>8,Be=Te%256,je.push(Be),je.push(Ve);return je}function Se(Oe){return Ie.toByteArray(ye(Oe))}function Ae(Oe,Le,Te,Ve){for(var Be=0;Be<Ve&&!(Be+Te>=Le.length||Be>=Oe.length);++Be)Le[Be+Te]=Oe[Be];return Be}function Pe(Oe){return Oe!==Oe}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var Ie=w(34),Ee=w(37),Ne=w(38);h.Buffer=M,h.SlowBuffer=function(Oe){return+Oe!=Oe&&(Oe=0),M.alloc(+Oe)},h.INSPECT_MAX_BYTES=50,M.TYPED_ARRAY_SUPPORT=A.TYPED_ARRAY_SUPPORT===void 0?function(){try{var Oe=new Uint8Array(1);return Oe.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Oe.foo()&&'function'==typeof Oe.subarray&&0===Oe.subarray(1,1).byteLength}catch(Le){return!1}}():A.TYPED_ARRAY_SUPPORT,h.kMaxLength=N(),M.poolSize=8192,M._augment=function(Oe){return Oe.__proto__=M.prototype,Oe},M.from=function(Oe,Le,Te){return T(null,Oe,Le,Te)},M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&M[Symbol.species]===M&&Object.defineProperty(M,Symbol.species,{value:null,configurable:!0})),M.alloc=function(Oe,Le,Te){return B(null,Oe,Le,Te)},M.allocUnsafe=function(Oe){return F(null,Oe)},M.allocUnsafeSlow=function(Oe){return F(null,Oe)},M.isBuffer=function(Le){return!!(null!=Le&&Le._isBuffer)},M.compare=function(Le,Te){if(!M.isBuffer(Le)||!M.isBuffer(Te))throw new TypeError('Arguments must be Buffers');if(Le===Te)return 0;for(var Ve=Le.length,Be=Te.length,je=0,Fe=_Mathmin(Ve,Be);je<Fe;++je)if(Le[je]!==Te[je]){Ve=Le[je],Be=Te[je];break}return Ve<Be?-1:Be<Ve?1:0},M.isEncoding=function(Le){switch((Le+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},M.concat=function(Le,Te){if(!Ne(Le))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Le.length)return M.alloc(0);var Ve;if(Te===void 0)for(Te=0,Ve=0;Ve<Le.length;++Ve)Te+=Le[Ve].length;var Be=M.allocUnsafe(Te),je=0;for(Ve=0;Ve<Le.length;++Ve){var Fe=Le[Ve];if(!M.isBuffer(Fe))throw new TypeError('"list" argument must be an Array of Buffers');Fe.copy(Be,je),je+=Fe.length}return Be},M.byteLength=Y,M.prototype._isBuffer=!0,M.prototype.swap16=function(){var Le=this.length;if(0!=Le%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var Te=0;Te<Le;Te+=2)$(this,Te,Te+1);return this},M.prototype.swap32=function(){var Le=this.length;if(0!=Le%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var Te=0;Te<Le;Te+=4)$(this,Te,Te+3),$(this,Te+1,Te+2);return this},M.prototype.swap64=function(){var Le=this.length;if(0!=Le%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var Te=0;Te<Le;Te+=8)$(this,Te,Te+7),$(this,Te+1,Te+6),$(this,Te+2,Te+5),$(this,Te+3,Te+4);return this},M.prototype.toString=function(){var Le=0|this.length;return 0==Le?'':0===arguments.length?oe(this,0,Le):K.apply(this,arguments)},M.prototype.equals=function(Le){if(!M.isBuffer(Le))throw new TypeError('Argument must be a Buffer');return this===Le||0===M.compare(this,Le)},M.prototype.inspect=function(){var Le='',Te=h.INSPECT_MAX_BYTES;return 0<this.length&&(Le=this.toString('hex',0,Te).match(/.{2}/g).join(' '),this.length>Te&&(Le+=' ... ')),'<Buffer '+Le+'>'},M.prototype.compare=function(Le,Te,Ve,Be,je){if(!M.isBuffer(Le))throw new TypeError('Argument must be a Buffer');if(void 0===Te&&(Te=0),void 0===Ve&&(Ve=Le?Le.length:0),void 0===Be&&(Be=0),void 0===je&&(je=this.length),0>Te||Ve>Le.length||0>Be||je>this.length)throw new RangeError('out of range index');if(Be>=je&&Te>=Ve)return 0;if(Be>=je)return-1;if(Te>=Ve)return 1;if(Te>>>=0,Ve>>>=0,Be>>>=0,je>>>=0,this===Le)return 0;for(var Fe=je-Be,qe=Ve-Te,De=_Mathmin(Fe,qe),ze=this.slice(Be,je),He=Le.slice(Te,Ve),Ue=0;Ue<De;++Ue)if(ze[Ue]!==He[Ue]){Fe=ze[Ue],qe=He[Ue];break}return Fe<qe?-1:qe<Fe?1:0},M.prototype.includes=function(Le,Te,Ve){return-1!==this.indexOf(Le,Te,Ve)},M.prototype.indexOf=function(Le,Te,Ve){return X(this,Le,Te,Ve,!0)},M.prototype.lastIndexOf=function(Le,Te,Ve){return X(this,Le,Te,Ve,!1)},M.prototype.write=function(Le,Te,Ve,Be){if(void 0===Te)Be='utf8',Ve=this.length,Te=0;else if(void 0===Ve&&'string'==typeof Te)Be=Te,Ve=this.length,Te=0;else if(isFinite(Te))Te|=0,isFinite(Ve)?(Ve|=0,void 0===Be&&(Be='utf8')):(Be=Ve,Ve=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var je=this.length-Te;if((void 0===Ve||Ve>je)&&(Ve=je),0<Le.length&&(0>Ve||0>Te)||Te>this.length)throw new RangeError('Attempt to write outside buffer bounds');Be||(Be='utf8');for(var Fe=!1;;)switch(Be){case'hex':return Z(this,Le,Te,Ve);case'utf8':case'utf-8':return ee(this,Le,Te,Ve);case'ascii':return te(this,Le,Te,Ve);case'latin1':case'binary':return ne(this,Le,Te,Ve);case'base64':return re(this,Le,Te,Ve);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ie(this,Le,Te,Ve);default:if(Fe)throw new TypeError('Unknown encoding: '+Be);Be=(''+Be).toLowerCase(),Fe=!0;}},M.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var Re=4096;M.prototype.slice=function(Le,Te){var Ve=this.length;Le=~~Le,Te=Te===void 0?Ve:~~Te,0>Le?(Le+=Ve,0>Le&&(Le=0)):Le>Ve&&(Le=Ve),0>Te?(Te+=Ve,0>Te&&(Te=0)):Te>Ve&&(Te=Ve),Te<Le&&(Te=Le);var Be;if(M.TYPED_ARRAY_SUPPORT)Be=this.subarray(Le,Te),Be.__proto__=M.prototype;else{var je=Te-Le;Be=new M(je,void 0);for(var Fe=0;Fe<je;++Fe)Be[Fe]=this[Fe+Le]}return Be},M.prototype.readUIntLE=function(Le,Te,Ve){Le|=0,Te|=0,Ve||pe(Le,Te,this.length);for(var Be=this[Le],je=1,Fe=0;++Fe<Te&&(je*=256);)Be+=this[Le+Fe]*je;return Be},M.prototype.readUIntBE=function(Le,Te,Ve){Le|=0,Te|=0,Ve||pe(Le,Te,this.length);for(var Be=this[Le+--Te],je=1;0<Te&&(je*=256);)Be+=this[Le+--Te]*je;return Be},M.prototype.readUInt8=function(Le,Te){return Te||pe(Le,1,this.length),this[Le]},M.prototype.readUInt16LE=function(Le,Te){return Te||pe(Le,2,this.length),this[Le]|this[Le+1]<<8},M.prototype.readUInt16BE=function(Le,Te){return Te||pe(Le,2,this.length),this[Le]<<8|this[Le+1]},M.prototype.readUInt32LE=function(Le,Te){return Te||pe(Le,4,this.length),(this[Le]|this[Le+1]<<8|this[Le+2]<<16)+16777216*this[Le+3]},M.prototype.readUInt32BE=function(Le,Te){return Te||pe(Le,4,this.length),16777216*this[Le]+(this[Le+1]<<16|this[Le+2]<<8|this[Le+3])},M.prototype.readIntLE=function(Le,Te,Ve){Le|=0,Te|=0,Ve||pe(Le,Te,this.length);for(var Be=this[Le],je=1,Fe=0;++Fe<Te&&(je*=256);)Be+=this[Le+Fe]*je;return je*=128,Be>=je&&(Be-=_Mathpow(2,8*Te)),Be},M.prototype.readIntBE=function(Le,Te,Ve){Le|=0,Te|=0,Ve||pe(Le,Te,this.length);for(var Be=Te,je=1,Fe=this[Le+--Be];0<Be&&(je*=256);)Fe+=this[Le+--Be]*je;return je*=128,Fe>=je&&(Fe-=_Mathpow(2,8*Te)),Fe},M.prototype.readInt8=function(Le,Te){return Te||pe(Le,1,this.length),128&this[Le]?-1*(255-this[Le]+1):this[Le]},M.prototype.readInt16LE=function(Le,Te){Te||pe(Le,2,this.length);var Ve=this[Le]|this[Le+1]<<8;return 32768&Ve?4294901760|Ve:Ve},M.prototype.readInt16BE=function(Le,Te){Te||pe(Le,2,this.length);var Ve=this[Le+1]|this[Le]<<8;return 32768&Ve?4294901760|Ve:Ve},M.prototype.readInt32LE=function(Le,Te){return Te||pe(Le,4,this.length),this[Le]|this[Le+1]<<8|this[Le+2]<<16|this[Le+3]<<24},M.prototype.readInt32BE=function(Le,Te){return Te||pe(Le,4,this.length),this[Le]<<24|this[Le+1]<<16|this[Le+2]<<8|this[Le+3]},M.prototype.readFloatLE=function(Le,Te){return Te||pe(Le,4,this.length),Ee.read(this,Le,!0,23,4)},M.prototype.readFloatBE=function(Le,Te){return Te||pe(Le,4,this.length),Ee.read(this,Le,!1,23,4)},M.prototype.readDoubleLE=function(Le,Te){return Te||pe(Le,8,this.length),Ee.read(this,Le,!0,52,8)},M.prototype.readDoubleBE=function(Le,Te){return Te||pe(Le,8,this.length),Ee.read(this,Le,!1,52,8)},M.prototype.writeUIntLE=function(Le,Te,Ve,Be){if(Le=+Le,Te|=0,Ve|=0,!Be){var je=_Mathpow(2,8*Ve)-1;ge(this,Le,Te,Ve,je,0)}var Fe=1,qe=0;for(this[Te]=255&Le;++qe<Ve&&(Fe*=256);)this[Te+qe]=255&Le/Fe;return Te+Ve},M.prototype.writeUIntBE=function(Le,Te,Ve,Be){if(Le=+Le,Te|=0,Ve|=0,!Be){var je=_Mathpow(2,8*Ve)-1;ge(this,Le,Te,Ve,je,0)}var Fe=Ve-1,qe=1;for(this[Te+Fe]=255&Le;0<=--Fe&&(qe*=256);)this[Te+Fe]=255&Le/qe;return Te+Ve},M.prototype.writeUInt8=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,1,255,0),M.TYPED_ARRAY_SUPPORT||(Le=_Mathfloor(Le)),this[Te]=255&Le,Te+1},M.prototype.writeUInt16LE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[Te]=255&Le,this[Te+1]=Le>>>8):me(this,Le,Te,!0),Te+2},M.prototype.writeUInt16BE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[Te]=Le>>>8,this[Te+1]=255&Le):me(this,Le,Te,!1),Te+2},M.prototype.writeUInt32LE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[Te+3]=Le>>>24,this[Te+2]=Le>>>16,this[Te+1]=Le>>>8,this[Te]=255&Le):he(this,Le,Te,!0),Te+4},M.prototype.writeUInt32BE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[Te]=Le>>>24,this[Te+1]=Le>>>16,this[Te+2]=Le>>>8,this[Te+3]=255&Le):he(this,Le,Te,!1),Te+4},M.prototype.writeIntLE=function(Le,Te,Ve,Be){if(Le=+Le,Te|=0,!Be){var je=_Mathpow(2,8*Ve-1);ge(this,Le,Te,Ve,je-1,-je)}var Fe=0,qe=1,De=0;for(this[Te]=255&Le;++Fe<Ve&&(qe*=256);)0>Le&&0==De&&0!==this[Te+Fe-1]&&(De=1),this[Te+Fe]=255&(Le/qe>>0)-De;return Te+Ve},M.prototype.writeIntBE=function(Le,Te,Ve,Be){if(Le=+Le,Te|=0,!Be){var je=_Mathpow(2,8*Ve-1);ge(this,Le,Te,Ve,je-1,-je)}var Fe=Ve-1,qe=1,De=0;for(this[Te+Fe]=255&Le;0<=--Fe&&(qe*=256);)0>Le&&0==De&&0!==this[Te+Fe+1]&&(De=1),this[Te+Fe]=255&(Le/qe>>0)-De;return Te+Ve},M.prototype.writeInt8=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,1,127,-128),M.TYPED_ARRAY_SUPPORT||(Le=_Mathfloor(Le)),0>Le&&(Le=255+Le+1),this[Te]=255&Le,Te+1},M.prototype.writeInt16LE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[Te]=255&Le,this[Te+1]=Le>>>8):me(this,Le,Te,!0),Te+2},M.prototype.writeInt16BE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[Te]=Le>>>8,this[Te+1]=255&Le):me(this,Le,Te,!1),Te+2},M.prototype.writeInt32LE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[Te]=255&Le,this[Te+1]=Le>>>8,this[Te+2]=Le>>>16,this[Te+3]=Le>>>24):he(this,Le,Te,!0),Te+4},M.prototype.writeInt32BE=function(Le,Te,Ve){return Le=+Le,Te|=0,Ve||ge(this,Le,Te,4,2147483647,-2147483648),0>Le&&(Le=4294967295+Le+1),M.TYPED_ARRAY_SUPPORT?(this[Te]=Le>>>24,this[Te+1]=Le>>>16,this[Te+2]=Le>>>8,this[Te+3]=255&Le):he(this,Le,Te,!1),Te+4},M.prototype.writeFloatLE=function(Le,Te,Ve){return ve(this,Le,Te,!0,Ve)},M.prototype.writeFloatBE=function(Le,Te,Ve){return ve(this,Le,Te,!1,Ve)},M.prototype.writeDoubleLE=function(Le,Te,Ve){return be(this,Le,Te,!0,Ve)},M.prototype.writeDoubleBE=function(Le,Te,Ve){return be(this,Le,Te,!1,Ve)},M.prototype.copy=function(Le,Te,Ve,Be){if(Ve||(Ve=0),Be||0===Be||(Be=this.length),Te>=Le.length&&(Te=Le.length),Te||(Te=0),0<Be&&Be<Ve&&(Be=Ve),Be===Ve)return 0;if(0===Le.length||0===this.length)return 0;if(0>Te)throw new RangeError('targetStart out of bounds');if(0>Ve||Ve>=this.length)throw new RangeError('sourceStart out of bounds');if(0>Be)throw new RangeError('sourceEnd out of bounds');Be>this.length&&(Be=this.length),Le.length-Te<Be-Ve&&(Be=Le.length-Te+Ve);var je=Be-Ve,Fe;if(this===Le&&Ve<Te&&Te<Be)for(Fe=je-1;0<=Fe;--Fe)Le[Fe+Te]=this[Fe+Ve];else if(1e3>je||!M.TYPED_ARRAY_SUPPORT)for(Fe=0;Fe<je;++Fe)Le[Fe+Te]=this[Fe+Ve];else Uint8Array.prototype.set.call(Le,this.subarray(Ve,Ve+je),Te);return je},M.prototype.fill=function(Le,Te,Ve,Be){if('string'==typeof Le){if('string'==typeof Te?(Be=Te,Te=0,Ve=this.length):'string'==typeof Ve&&(Be=Ve,Ve=this.length),1===Le.length){var je=Le.charCodeAt(0);256>je&&(Le=je)}if(void 0!==Be&&'string'!=typeof Be)throw new TypeError('encoding must be a string');if('string'==typeof Be&&!M.isEncoding(Be))throw new TypeError('Unknown encoding: '+Be)}else'number'==typeof Le&&(Le&=255);if(0>Te||this.length<Te||this.length<Ve)throw new RangeError('Out of range index');if(Ve<=Te)return this;Te>>>=0,Ve=Ve===void 0?this.length:Ve>>>0,Le||(Le=0);var Fe;if('number'==typeof Le)for(Fe=Te;Fe<Ve;++Fe)this[Fe]=Le;else{var qe=M.isBuffer(Le)?Le:ke(new M(Le,Be).toString()),De=qe.length;for(Fe=0;Fe<Ve-Te;++Fe)this[Fe+Te]=qe[Fe%De]}return this};var Me=/[^+\/0-9A-Za-z-_]/g}).call(h,w(12))},36:function(u,h,w){(function(A){function I(R,M){var T=R[1]||'',V=R[3];if(!V)return T;if(M){var B=N(V),F=V.sources.map(function(D){return'/*# sourceURL='+V.sourceRoot+D+' */'});return[T].concat(F).concat([B]).join('\n')}return[T].join('\n')}function N(R){var M=new A(JSON.stringify(R)).toString('base64');return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+M)+' */'}u.exports=function(R){var M=[];return M.toString=function(){return this.map(function(V){var B=I(V,R);return V[2]?'@media '+V[2]+'{'+B+'}':B}).join('')},M.i=function(T,V){'string'==typeof T&&(T=[[null,T,'']]);for(var B={},F=0,D;F<this.length;F++)D=this[F][0],'number'==typeof D&&(B[D]=!0);for(F=0;F<T.length;F++){var z=T[F];'number'==typeof z[0]&&B[z[0]]||(V&&!z[2]?z[2]=V:V&&(z[2]='('+z[2]+') and ('+V+')'),M.push(z))}},M}}).call(h,w(35).Buffer)},37:function(u,h){h.read=function(w,A,I,N,R){var M,T,V=8*R-N-1,B=(1<<V)-1,F=B>>1,D=-7,z=I?R-1:0,H=I?-1:1,U=w[A+z];for(z+=H,M=U&(1<<-D)-1,U>>=-D,D+=V;0<D;M=256*M+w[A+z],z+=H,D-=8);for(T=M&(1<<-D)-1,M>>=-D,D+=N;0<D;T=256*T+w[A+z],z+=H,D-=8);if(0===M)M=1-F;else{if(M===B)return T?NaN:(U?-1:1)*Infinity;T+=_Mathpow(2,N),M-=F}return(U?-1:1)*T*_Mathpow(2,M-N)},h.write=function(w,A,I,N,R,M){var T,V,B,F=8*M-R-1,D=(1<<F)-1,z=D>>1,H=23===R?5.960464477539063e-8-6.617444900424222e-24:0,U=N?0:M-1,W=N?1:-1,Q=0>A||0===A&&0>1/A?1:0;for(A=Math.abs(A),isNaN(A)||A===Infinity?(V=isNaN(A)?1:0,T=D):(T=_Mathfloor(Math.log(A)/Math.LN2),1>A*(B=_Mathpow(2,-T))&&(T--,B*=2),A+=1<=T+z?H/B:H*_Mathpow(2,1-z),2<=A*B&&(T++,B/=2),T+z>=D?(V=0,T=D):1<=T+z?(V=(A*B-1)*_Mathpow(2,R),T+=z):(V=A*_Mathpow(2,z-1)*_Mathpow(2,R),T=0));8<=R;w[I+U]=255&V,U+=W,V/=256,R-=8);for(T=T<<R|V,F+=R;0<F;w[I+U]=255&T,U+=W,T/=256,F-=8);w[I+U-W]|=128*Q}},38:function(u){var w={}.toString;u.exports=Array.isArray||function(A){return'[object Array]'==w.call(A)}},39:function(u,h,w){(function(A,I){(function(N,R){'use strict';function M(Z){'function'!=typeof Z&&(Z=new Function(''+Z));for(var ee=Array(arguments.length-1),te=0;te<ee.length;te++)ee[te]=arguments[te+1];var ne={callback:Z,args:ee};return Y[Q]=ne,X(Q),Q++}function T(Z){delete Y[Z]}function V(Z){var ee=Z.callback,te=Z.args;switch(te.length){case 0:ee();break;case 1:ee(te[0]);break;case 2:ee(te[0],te[1]);break;case 3:ee(te[0],te[1],te[2]);break;default:ee.apply(R,te);}}function B(Z){if(K)setTimeout(B,0,Z);else{var ee=Y[Z];if(ee){K=!0;try{V(ee)}finally{T(Z),K=!1}}}}function F(){X=function(Z){I.nextTick(function(){B(Z)})}}function D(){if(N.postMessage&&!N.importScripts){var Z=!0,ee=N.onmessage;return N.onmessage=function(){Z=!1},N.postMessage('','*'),N.onmessage=ee,Z}}function z(){var Z='setImmediate$'+Math.random()+'$',ee=function(te){te.source===N&&'string'==typeof te.data&&0===te.data.indexOf(Z)&&B(+te.data.slice(Z.length))};N.addEventListener?N.addEventListener('message',ee,!1):N.attachEvent('onmessage',ee),X=function(te){N.postMessage(Z+te,'*')}}function H(){var Z=new MessageChannel;Z.port1.onmessage=function(ee){var te=ee.data;B(te)},X=function(ee){Z.port2.postMessage(ee)}}function U(){var Z=$.documentElement;X=function(ee){var te=$.createElement('script');te.onreadystatechange=function(){B(ee),te.onreadystatechange=null,Z.removeChild(te),te=null},Z.appendChild(te)}}function W(){X=function(Z){setTimeout(B,0,Z)}}if(!N.setImmediate){var Q=1,Y={},K=!1,$=N.document,J=Object.getPrototypeOf&&Object.getPrototypeOf(N),X;J=J&&J.setTimeout?J:N,'[object process]'==={}.toString.call(N.process)?F():D()?z():N.MessageChannel?H():$&&'onreadystatechange'in $.createElement('script')?U():W(),J.setImmediate=M,J.clearImmediate=T}})('undefined'==typeof self?'undefined'==typeof A?this:A:self)}).call(h,w(12),w(24))},4:function(u,h,w){'use strict';function A(K){return K&&('function'==typeof K||'object'==typeof K)}function M(){return!0}function T(){}function V(K){return void 0===K?K={}:'function'==typeof K&&(K={validate:K}),K.validate||(K.validate=M),K.compose||(K.compose=T),K}function B(K){return function($){let X=K($);return!0===X}}function F(K,$){return function(X){let J=$(X);if(!0!==J)throw new Error(J||`${K} was not correctly implemented.`)}}function D(K,$){$=V($);let X=function(J){let Z='function'==typeof J?J.prototype:J;$.compose(Z),X.assert(Z),Object.defineProperty(Z,'protocol:'+K,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return X.validate=B($.validate),X.assert=F(K,$.validate),X}var z=w(0);w.d(h,'c',function(){return Y}),h.d=function(K){const X=Object.keys(K);return function(J){let Z=function(ee){for(let te='function'==typeof ee?ee.prototype:ee,ne=X.length,re;ne--;)re=X[ne],Object.defineProperty(te,re,{value:K[re],writable:!0})};return J?Z(J):Z}},h.b=D;var H=Object.assign||function(K){for(var $=1,X;$<arguments.length;$++)for(var J in X=arguments[$],X)Object.prototype.hasOwnProperty.call(X,J)&&(K[J]=X[J]);return K};const U={resource:'aurelia:resource',paramTypes:'design:paramtypes',propertyType:'design:type',properties:'design:properties',get(K,$,X){if(A($)){let J=U.getOwn(K,$,X);return void 0===J?U.get(K,Object.getPrototypeOf($),X):J}},getOwn(K,$,X){return A($)?Reflect.getOwnMetadata(K,$,X):void 0},define(K,$,X,J){Reflect.defineMetadata(K,$,X,J)},getOrCreateOwn(K,$,X,J){let Z=U.getOwn(K,X,J);return void 0===Z&&(Z=new $,Reflect.defineMetadata(K,Z,X,J)),Z}};h.a=U;const W=new Map,Q=Object.freeze({moduleId:void 0,moduleMember:void 0});let Y=class K{constructor($,X){this.moduleId=$,this.moduleMember=X}static get($){let X=W.get($);return void 0===X&&z.a.eachModule((J,Z)=>{if('object'==typeof Z)for(let ee in Z){let te=Z[ee];if(te===$)return W.set($,X=new K(J,ee)),!0}return Z===$&&(W.set($,X=new K(J,'default')),!0)}),X||Q}static set($,X){W.set($,X)}};D.create=function(K,$){$=V($);let J=function(Z){let ee=D(K,$);return Z?ee(Z):ee};return J.decorates=function(Z){return!0===Z['protocol:'+K]},J.validate=B($.validate),J.assert=F(K,$.validate),J}},40:function(u,h,w){function A(N,R){this._id=N,this._clearFn=R}var I=Function.prototype.apply;h.setTimeout=function(){return new A(I.call(setTimeout,window,arguments),clearTimeout)},h.setInterval=function(){return new A(I.call(setInterval,window,arguments),clearInterval)},h.clearTimeout=h.clearInterval=function(N){N&&N.close()},A.prototype.unref=A.prototype.ref=function(){},A.prototype.close=function(){this._clearFn.call(window,this._id)},h.enroll=function(N,R){clearTimeout(N._idleTimeoutId),N._idleTimeout=R},h.unenroll=function(N){clearTimeout(N._idleTimeoutId),N._idleTimeout=-1},h._unrefActive=h.active=function(N){clearTimeout(N._idleTimeoutId);var R=N._idleTimeout;0<=R&&(N._idleTimeoutId=setTimeout(function(){N._onTimeout&&N._onTimeout()},R))},w(39),h.setImmediate=setImmediate,h.clearImmediate=clearImmediate},41:function(u,h){'use strict';h.a=function(K,$,X,J){var Z=arguments.length,ee=3>Z?$:null===J?J=Object.getOwnPropertyDescriptor($,X):J,te;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ee=Reflect.decorate(K,$,X,J);else for(var ne=K.length-1;0<=ne;ne--)(te=K[ne])&&(ee=(3>Z?te(ee):3<Z?te($,X,ee):te($,X))||ee);return 3<Z&&ee&&Object.defineProperty($,X,ee),ee};var Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,$){K.__proto__=$}||function(K,$){for(var X in $)$.hasOwnProperty(X)&&(K[X]=$[X])},Y=Object.assign||function($){for(var J=1,Z=arguments.length,X;J<Z;J++)for(var ee in X=arguments[J],X)Object.prototype.hasOwnProperty.call(X,ee)&&($[ee]=X[ee]);return $}},42:function(u){u.exports=function(w){if(!w.webpackPolyfill){var A=Object.create(w);A.children||(A.children=[]),Object.defineProperty(A,'loaded',{enumerable:!0,get:function(){return A.l}}),Object.defineProperty(A,'id',{enumerable:!0,get:function(){return A.i}}),Object.defineProperty(A,'exports',{enumerable:!0}),A.webpackPolyfill=1}return A}},43:function(u,h,w){w(27),w(26),u.exports=w(25)},5:function(u,h,w){'use strict';function A(){return[this,...arguments]}function I(W){const Q=F[W];return function(){if(!(this.level<Q)){const Y=A.apply(this,arguments);for(let K=z.length;K--;)z[K][W](...Y)}}}function N(){Object.assign(U.prototype,{debug:I('debug'),info:I('info'),warn:I('warn'),error:I('error')})}Object.defineProperty(h,'__esModule',{value:!0}),h.getLogger=function(W){return D[W]||new U(W)},h.addAppender=function(W){1===z.push(W)&&N()},h.removeAppender=function(W){z=z.filter((Q)=>Q!==W)},h.setLevel=function(W){for(let Q in H=W,D)D[Q].setLevel(W)},h.getLevel=function(){return H},w.d(h,'Logger',function(){return U});const F={none:0,error:1,warn:2,info:3,debug:4};h.logLevel=F;let D={},z=[],H=F.none,U=class{constructor(Q){let Y=D[Q];return Y?Y:void(D[Q]=this,this.id=Q,this.level=H)}debug(Q,...Y){}info(Q,...Y){}warn(Q,...Y){}error(Q,...Y){}setLevel(Q){this.level=Q}}},6:function(u,h){'use strict';function A(z){for(let H=0,U;H<z.length;++H)if(U=z[H],'.'===U)z.splice(H,1),H-=1;else if('..'===U)if(0===H||1===H&&'..'===z[2]||'..'===z[H-1])continue;else 0<H&&(z.splice(H-1,2),H-=2)}function R(z,H,U){let W=[];if(null===H||H===void 0)return W;if(Array.isArray(H)){for(let Q=0,Y=H.length;Q<Y;Q++)if(U)W.push(`${D(z)}=${F(H[Q])}`);else{let K=z+'['+('object'==typeof H[Q]&&null!==H[Q]?Q:'')+']';W=W.concat(R(K,H[Q]))}}else if('object'==typeof H&&!U)for(let Q in H)W=W.concat(R(z+'['+Q+']',H[Q]));else W.push(`${D(z)}=${F(H)}`);return W}function T(z,H){return Array.isArray(z)?(z.push(H),z):void 0===z?H:[z,H]}function V(z,H,U){let W=z,Q=H.length-1;for(let Y=0,K;Y<=Q;Y++)if(K=''===H[Y]?W.length:H[Y],Y<Q){let $=W[K]&&'object'!=typeof W[K]?[W[K]]:W[K];W=W[K]=$||(isNaN(H[Y+1])?{}:[])}else W=W[K]=U}h.a=function(z,H){let U=H&&H.split('/'),W=z.trim().split('/');if('.'===W[0].charAt(0)&&U){let Q=U.slice(0,U.length-1);W.unshift(...Q)}return A(W),W.join('/')},h.b=function(z,H){if(!z)return H;if(!H)return z;let U=z.match(/^([^/]*?:)\//),W=U&&0<U.length?U[1]:'';z=z.substr(W.length);let Q=0===z.indexOf('///')&&'file:'===W?'///':0===z.indexOf('//')?'//':0===z.indexOf('/')?'/':'';let Y='/'===H.slice(-1)?'/':'',K=z.split('/'),$=H.split('/'),X=[];for(let J=0,Z=K.length;J<Z;++J)if('..'===K[J])X.pop();else if('.'===K[J]||''===K[J])continue;else X.push(K[J]);for(let J=0,Z=$.length;J<Z;++J)if('..'===$[J])X.pop();else if('.'===$[J]||''===$[J])continue;else X.push($[J]);return W+Q+X.join('/')+Y},h.c=function(z,H){let U=[],W=Object.keys(z||{}).sort();for(let Q=0,Y=W.length,K;Q<Y;Q++)K=W[Q],U=U.concat(R(K,z[K],H));return 0===U.length?'':U.join('&')},h.d=function(z){let H={};if(!z||'string'!=typeof z)return H;let U=z;'?'===U.charAt(0)&&(U=U.substr(1));let W=U.replace(/\+/g,' ').split('&');for(let Q=0;Q<W.length;Q++){let Y=W[Q].split('='),K=decodeURIComponent(Y[0]);if(!K)continue;let $=K.split(']['),X=$.length-1;if(/\[/.test($[0])&&/\]$/.test($[X])?($[X]=$[X].replace(/\]$/,''),$=$.shift().split('[').concat($),X=$.length-1):X=0,2<=Y.length){let J=Y[1]?decodeURIComponent(Y[1]):'';X?V(H,$,J):H[K]=T(H[K],J)}else H[K]=!0}return H};let F=encodeURIComponent,D=(z)=>F(z).replace('%24','$')},7:function(u,h,w){'use strict';function N(z,H,U){let W=0===H,Q=H===U-1,Y=0==H%2;z.$index=H,z.$first=W,z.$last=Q,z.$middle=!(W||Q),z.$odd=!Y,z.$even=Y}var F=w(3);h.f=function(z,H){let U=z.length;for(0<H&&--H;H<U;++H)N(z[H].overrideContext,H,U)},h.e=function(z,H,U,W,Q){let Y={},K=w.i(F.a)(Y,z.scope.overrideContext);return'undefined'==typeof Q?Y[z.local]=H:(Y[z.key]=Q,Y[z.value]=H),N(K,U,W),K},h.h=N,h.a=function(z,H){return z.behaviorInstructions.filter((U)=>U.originalAttrName===H)[0].attributes.items.sourceExpression},h.c=function(z){let H=!1;for(;z instanceof F.i;)z=z.expression;for(;z instanceof F.j;)z=z.expression,H=!0;return H?z:null},h.b=function(z){for(;z instanceof F.i;){if('oneTime'===z.name)return!0;z=z.expression}return!1},h.d=function(z){z.call&&z.mode===D?z.call(F.k):z.updateOneTimeBindings&&z.updateOneTimeBindings()},h.g=function(z,H,U,W){if(!U)return z.indexOf(H);const Q=z.length;for(let Y=W||0;Y<Q;Y++)if(U(z[Y],H))return Y;return-1};const D=F.e.oneTime},8:function(u,h,w){'use strict';var A=w(6),I=w(4);w.d(h,'b',function(){return R}),w.d(h,'a',function(){return M});let N=class{constructor(V,B){this.src=V,this.name=B}},R=class{constructor(V){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=V,this.onReady=null,this._template=null,this._factory=null}get template(){return this._template}set template(V){let B=this.address,F,D,z,H;this._template=V,this.templateIsLoaded=!0,F=V.content.querySelectorAll('require'),H=this.dependencies=Array(F.length);for(let U=0,W=F.length;U<W;++U){if(D=F[U],z=D.getAttribute('from'),!z)throw new Error(`<require> element in ${B} has no "from" attribute.`);H[U]=new N(w.i(A.a)(z,B),D.getAttribute('as')),D.parentNode&&D.parentNode.removeChild(D)}}get factory(){return this._factory}set factory(V){this._factory=V,this.factoryIsReady=!0}addDependency(V,B){let F='string'==typeof V?w.i(A.a)(V,this.address):I.c.get(V).moduleId;this.dependencies.push(new N(F,B))}},M=class{constructor(){this.templateRegistry={}}map(){throw new Error('Loaders must implement map(id, source).')}normalizeSync(){throw new Error('Loaders must implement normalizeSync(moduleId, relativeTo).')}normalize(){throw new Error('Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.')}loadModule(){throw new Error('Loaders must implement loadModule(id).')}loadAllModules(){throw new Error('Loader must implement loadAllModules(ids).')}loadTemplate(){throw new Error('Loader must implement loadTemplate(url).')}loadText(){throw new Error('Loader must implement loadText(url).')}applyPluginToUrl(){throw new Error('Loader must implement applyPluginToUrl(url, pluginName).')}addPlugin(){throw new Error('Loader must implement addPlugin(pluginName, implementation).')}getOrCreateTemplateRegistryEntry(V){return this.templateRegistry[V]||(this.templateRegistry[V]=new R(V))}}},9:function(u,h,w){'use strict';(function(A){function I(U){let W=1,Q=B.c.createMutationObserver(U),Y=B.c.createTextNode('');return Q.observe(Y,{characterData:!0}),function(){W=-W,Y.data=W}}function N(U){return function(){function Q(){clearTimeout(Y),clearInterval(K),U()}let Y=setTimeout(Q,0),K=setInterval(Q,50)}}function R(U,W,Q){Q&&W.stack&&'object'==typeof U&&null!==U&&(U.stack=V(U.stack)+W.stack),'onError'in W?W.onError(U):F?A(()=>{throw U}):setTimeout(()=>{throw U},0)}function M(){let U=new Error;if(U.stack)return U.stack;try{throw U}catch(W){return W.stack}}function T(U){return U.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,'')}function V(U){let W=U.lastIndexOf('flushMicroTaskQueue');return 0>W&&(W=U.lastIndexOf('flushTaskQueue'),0>W)?U:(W=U.lastIndexOf('\n',W),0>W?U:U.substr(0,W))}var B=w(0);w.d(h,'a',function(){return H});let F='function'==typeof A;let H=class{constructor(){this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],this.requestFlushMicroTaskQueue=B.d.mutationObserver?I(()=>this.flushMicroTaskQueue()):N(()=>this.flushMicroTaskQueue()),this.requestFlushTaskQueue=N(()=>this.flushTaskQueue())}queueMicroTask(W){1>this.microTaskQueue.length&&this.requestFlushMicroTaskQueue(),this.longStacks&&(W.stack=this.prepareQueueStack('\nEnqueued in MicroTaskQueue by:\n')),this.microTaskQueue.push(W)}queueTask(W){1>this.taskQueue.length&&this.requestFlushTaskQueue(),this.longStacks&&(W.stack=this.prepareQueueStack('\nEnqueued in TaskQueue by:\n')),this.taskQueue.push(W)}flushTaskQueue(){let W=this.taskQueue,Q=0,Y;this.taskQueue=[];try{for(this.flushing=!0;Q<W.length;)Y=W[Q],this.longStacks&&(this.stack='string'==typeof Y.stack?Y.stack:void 0),Y.call(),Q++}catch(K){R(K,Y,this.longStacks)}finally{this.flushing=!1}}flushMicroTaskQueue(){let W=this.microTaskQueue,Q=this.microTaskQueueCapacity,Y=0,K;try{for(this.flushing=!0;Y<W.length;)if(K=W[Y],this.longStacks&&(this.stack='string'==typeof K.stack?K.stack:void 0),K.call(),Y++,Y>Q){for(let $=0,X=W.length-Y;$<X;$++)W[$]=W[$+Y];W.length-=Y,Y=0}}catch($){R($,K,this.longStacks)}finally{this.flushing=!1}W.length=0}prepareQueueStack(W){let Q=W+T(M());return'string'==typeof this.stack&&(Q=V(Q)+this.stack),Q}}}).call(h,w(40).setImmediate)},app:function(u,h){'use strict';Object.defineProperty(h,'__esModule',{value:!0});h.AppViewModel=class{constructor(){this.name=''}}},'app.html':function(u){u.exports='<template>\r\n  <require from="style.less"></require>\r\n  <require from="customElements/hello-tag"></require>\r\n\r\n  <h2>Aurelia + Webpack</h2>\r\n  <div>\r\n    What\'s your name? <br>\r\n    <input value.bind="name" />\r\n  </div>\r\n\r\n  <hello-tag name.bind="name | upper" if.bind="name"></hello-tag>\r\n</template>'},'aurelia-event-aggregator':function(u,h,w){'use strict';function A(F,D,z){try{F(D,z)}catch(H){T.error(H)}}function I(F,D){try{F.handle(D)}catch(z){T.error(z)}}function N(F){let D=new B;return F.subscribeOnce=function(z,H){return D.subscribeOnce(z,H)},F.subscribe=function(z,H){return D.subscribe(z,H)},F.publish=function(z,H){D.publish(z,H)},D}var M=w(5);w.d(h,'b',function(){return B}),h.configure=function(F){F.instance(B,N(F.aurelia))};const T=M.getLogger('event-aggregator');let V=class{constructor(D,z){this.messageType=D,this.callback=z}handle(D){D instanceof this.messageType&&this.callback.call(null,D)}},B=class{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(D,z){let H,U;if(!D)throw new Error('Event was invalid.');if('string'!=typeof D)for(H=this.messageHandlers.slice(),U=H.length;U--;)I(H[U],D);else if(H=this.eventLookup[D],H)for(H=H.slice(),U=H.length;U--;)A(H[U],z,D)}subscribe(D,z){let H,U;if(!D)throw new Error('Event channel/type was invalid.');return'string'==typeof D?(H=z,U=this.eventLookup[D]||(this.eventLookup[D]=[])):(H=new V(D,z),U=this.messageHandlers),U.push(H),{dispose(){let W=U.indexOf(H);-1!==W&&U.splice(W,1)}}}subscribeOnce(D,z){let H=this.subscribe(D,(U,W)=>{return H.dispose(),z(U,W)});return H}}},'aurelia-framework':function(u,h,w){'use strict';function A(){z.c.addEventListener('submit',(Z)=>{const ee=Z.target,te=ee.action;'form'!==ee.tagName.toLowerCase()||te||Z.preventDefault()})}function I(Z,ee){let te,ne=()=>{return te=ee.shift(),te?Promise.resolve(te(Z)).then(ne):Promise.resolve()};return ne()}function N(Z,ee,te){function ne(ie){return ee.loadModule(ie).then((ae)=>{return'configure'in ae?Promise.resolve(ae.configure(Z,te.config||{})).then(()=>{Z.resourcesRelativeTo=null,K.debug(`Configured plugin ${te.moduleId}.`)}):void(Z.resourcesRelativeTo=null,K.debug(`Loaded plugin ${te.moduleId}.`))})}K.debug(`Loading plugin ${te.moduleId}.`),Z.resourcesRelativeTo=te.resourcesRelativeTo;let re=te.moduleId;return 1<te.resourcesRelativeTo.length?ee.normalize(te.moduleId,te.resourcesRelativeTo[1]).then((ie)=>ne(ie)):ne(re)}function R(Z,ee,te){function ne(se){let le=se.moduleId,de=M(le);return re(le)&&(le=ie(le)),Z.loader.normalize(le,se.relativeTo).then((ue)=>{return{name:se.moduleId,importId:re(se.moduleId)?ae(ue,de):ue}})}function re(se){let le=M(se);return!!le&&''!==le&&('.js'===le||'.ts'===le?!1:!0)}function ie(se){return se.replace($,'')}function ae(se,le){return ie(se)+'.'+le}let oe=Z.container.get(D.f);return Promise.all(Object.keys(ee).map((se)=>ne(ee[se]))).then((se)=>{let le=[],de=[];return se.forEach((ue)=>{le.push(void 0),de.push(ue.importId)}),oe.importViewResources(de,le,te)})}function M(Z){let ee=Z.match($);if(ee&&0<ee.length)return ee[0].split('.')[1]}function T(Z){if(Z.processed)throw new Error('This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.')}var V=w(5),B=w(2),F=w(8),D=w(1),z=w(0),H=w(6),U=w(3),W=w(4);w.d(h,'b',function(){return D.f}),w.d(h,'c',function(){return D.j});w(9);w.d(h,'Aurelia',function(){return Y});let Y=class Z{constructor(ee,te,ne){this.loader=ee||new z.a.Loader,this.container=te||new B.a().makeGlobal(),this.resources=ne||new D.a,this.use=new X(this),this.logger=V.getLogger('aurelia'),this.hostConfigured=!1,this.host=null,this.use.instance(Z,this),this.use.instance(F.a,this.loader),this.use.instance(D.a,this.resources)}start(){return this._started?this._started:(this.logger.info('Aurelia Starting'),this._started=this.use.apply().then(()=>{if(A(),!this.container.hasResolver(D.b)){let te='You must configure Aurelia with a BindingLanguage implementation.';throw this.logger.error(te),new Error(te)}this.logger.info('Aurelia Started');let ee=z.c.createCustomEvent('aurelia-started',{bubbles:!0,cancelable:!0});return z.c.dispatchEvent(ee),this}))}enhance(ee={},te=null){return this._configureHost(te||z.c.querySelectorAll('body')[0]),new Promise((ne)=>{let re=this.container.get(D.c);this.root=re.enhance({container:this.container,element:this.host,resources:this.resources,bindingContext:ee}),this.root.attached(),this._onAureliaComposed(),ne(this)})}setRoot(ee=null,te=null){let ne={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(te);let re=this.container.get(D.c),ie=this.container.get(D.d);return delete ie.initialComposition,ee||(this.configModuleId?ee=w.i(H.a)('./app',this.configModuleId):ee='app'),ne.viewModel=ee,ne.container=ne.childContainer=this.container,ne.viewSlot=this.hostSlot,ne.host=this.host,re.compose(ne).then((ae)=>{return this.root=ae,ne.viewSlot.attached(),this._onAureliaComposed(),this})}_configureHost(ee){if(!this.hostConfigured){if(ee=ee||this.host,this.host=ee&&'string'!=typeof ee?ee:z.c.getElementById(ee||'applicationHost'),!this.host)throw new Error('No applicationHost was specified.');this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new D.e(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(z.c.boundary,this.host)}}_onAureliaComposed(){let ee=z.c.createCustomEvent('aurelia-composed',{bubbles:!0,cancelable:!0});setTimeout(()=>z.c.dispatchEvent(ee),1)}};const K=V.getLogger('aurelia'),$=/\.[^/.]+$/;let X=class{constructor(ee){this.aurelia=ee,this.container=ee.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(()=>ee.loader.normalize('aurelia-bootstrapper').then((te)=>this.bootstrapperName=te)),this.postTask(()=>R(ee,this.resourcesToLoad,ee.resources))}instance(ee,te){return this.container.registerInstance(ee,te),this}singleton(ee,te){return this.container.registerSingleton(ee,te),this}transient(ee,te){return this.container.registerTransient(ee,te),this}preTask(ee){return T(this),this.preTasks.push(ee),this}postTask(ee){return T(this),this.postTasks.push(ee),this}feature(ee,te={}){let ne=/\/index$/i.test(ee),re=ne||M(ee)?ee:ee+'/index',ie=ne?ee.substr(0,ee.length-6):ee;return this.plugin({moduleId:re,resourcesRelativeTo:[ie,''],config:te})}globalResources(ee){T(this);let te=Array.isArray(ee)?ee:arguments,ne,re=this.resourcesRelativeTo||['',''];for(let ie=0,ae=te.length;ie<ae;++ie){if(ne=te[ie],'string'!=typeof ne)throw new Error(`Invalid resource path [${ne}]. Resources must be specified as relative module IDs.`);let oe=re[0],se=re[1],le=ne;(ne.startsWith('./')||ne.startsWith('../'))&&''!==oe&&(le=w.i(H.b)(oe,ne)),this.resourcesToLoad[le]={moduleId:le,relativeTo:se}}return this}globalName(ee,te){return T(this),this.resourcesToLoad[ee]={moduleId:te,relativeTo:''},this}plugin(ee,te){return(T(this),'string'==typeof ee)?this.plugin({moduleId:ee,resourcesRelativeTo:[ee,''],config:te||{}}):(this.info.push(ee),this)}_addNormalizedPlugin(ee,te){let ne={moduleId:ee,resourcesRelativeTo:[ee,''],config:te||{}};return this.plugin(ne),this.preTask(()=>{let re=[ee,this.bootstrapperName];return ne.moduleId=ee,ne.resourcesRelativeTo=re,Promise.resolve()}),this}defaultBindingLanguage(){return this._addNormalizedPlugin('aurelia-templating-binding')}router(){return this._addNormalizedPlugin('aurelia-templating-router')}history(){return this._addNormalizedPlugin('aurelia-history-browser')}defaultResources(){return this._addNormalizedPlugin('aurelia-templating-resources')}eventAggregator(){return this._addNormalizedPlugin('aurelia-event-aggregator')}basicConfiguration(){return this.defaultBindingLanguage().defaultResources().eventAggregator()}standardConfiguration(){return this.basicConfiguration().history().router()}developmentLogging(){return this.preTask(()=>{return this.aurelia.loader.normalize('aurelia-logging-console',this.bootstrapperName).then((ee)=>{return this.aurelia.loader.loadModule(ee).then((te)=>{V.addAppender(new te.ConsoleAppender),V.setLevel(V.logLevel.debug)})})}),this}apply(){return this.processed?Promise.resolve():I(this,this.preTasks).then(()=>{let ee=this.aurelia.loader,te=this.info,ne,re=()=>{return(ne=te.shift(),ne)?N(this,ee,ne).then(re):(this.processed=!0,Promise.resolve())};return re().then(()=>I(this,this.postTasks))})}}},'aurelia-history-browser':function(u,h,w){'use strict';function I(Q,Y,K){if(K){let $=Q.href.replace(/(javascript:|#).*$/,'');Q.replace($+'#'+Y)}else Q.hash='#'+Y}function N(Q,Y,K){return`${Q}//${Y}${K?':'+K:''}`}var R=w(0),M=w(13);h.configure=function(Q){Q.singleton(M.a,D),Q.transient(B,F)};var T,V;let B=class{activate(){}deactivate(){}},F=class Q extends B{constructor(){super(),this.handler=(Y)=>{let{shouldHandleEvent:K,href:$}=Q.getEventInfo(Y);K&&(Y.preventDefault(),this.history.navigate($))}}activate(Y){Y._hasPushState&&(this.history=Y,R.c.addEventListener('click',this.handler,!0))}deactivate(){R.c.removeEventListener('click',this.handler)}static getEventInfo(Y){let K={shouldHandleEvent:!1,href:null,anchor:null},$=Q.findClosestAnchor(Y.target);if(!$||!Q.targetIsThisWindow($))return K;if(Y.altKey||Y.ctrlKey||Y.metaKey||Y.shiftKey)return K;let X=$.getAttribute('href');K.anchor=$,K.href=X;let J=1===Y.which,Z=X&&!('#'===X.charAt(0)||/^[a-z]+:/i.test(X));return K.shouldHandleEvent=J&&Z,K}static findClosestAnchor(Y){for(;Y;){if('A'===Y.tagName)return Y;Y=Y.parentNode}}static targetIsThisWindow(Y){let K=Y.getAttribute('target'),$=R.a.global;return!K||K===$.name||'_self'===K||'top'===K&&$===$.top}},D=(V=T=class extends M.a{constructor(Y){super(),this._isActive=!1,this._checkUrlCallback=this._checkUrl.bind(this),this.location=R.a.location,this.history=R.a.history,this.linkHandler=Y}activate(Y){if(this._isActive)throw new Error('History has already been activated.');let K=!!Y.pushState;this._isActive=!0,this.options=Object.assign({},{root:'/'},this.options,Y),this.root=('/'+this.options.root+'/').replace(H,'/'),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);let $;if(this._hasPushState?$='popstate':this._wantsHashChange&&($='hashchange'),R.a.addEventListener($,this._checkUrlCallback),this._wantsHashChange&&K){let X=this.location,J=X.pathname.replace(/[^\/]$/,'$&/')===this.root;if(!this._hasPushState&&!J)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+'#'+this.fragment),!0;this._hasPushState&&J&&X.hash&&(this.fragment=this._getHash().replace(z,''),this.history.replaceState({},R.c.title,this.root+this.fragment+X.search))}return(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)?this._loadUrl():void 0}deactivate(){R.a.removeEventListener('popstate',this._checkUrlCallback),R.a.removeEventListener('hashchange',this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()}getAbsoluteRoot(){let Y=N(this.location.protocol,this.location.hostname,this.location.port);return`${Y}${this.root}`}navigate(Y,{trigger:K=!0,replace:$=!1}={}){if(Y&&W.test(Y))return this.location.href=Y,!0;if(!this._isActive)return!1;if(Y=this._getFragment(Y||''),this.fragment===Y&&!$)return!1;this.fragment=Y;let X=this.root+Y;if(''===Y&&'/'!==X&&(X=X.slice(0,-1)),this._hasPushState)X=X.replace('//','/'),this.history[$?'replaceState':'pushState']({},R.c.title,X);else if(this._wantsHashChange)I(this.location,Y,$);else return this.location.assign(X);return K?this._loadUrl(Y):void 0}navigateBack(){this.history.back()}setTitle(Y){R.c.title=Y}_getHash(){return this.location.hash.substr(1)}_getFragment(Y,K){let $;return Y||(this._hasPushState||!this._wantsHashChange||K?(Y=this.location.pathname+this.location.search,$=this.root.replace(U,''),!Y.indexOf($)&&(Y=Y.substr($.length))):Y=this._getHash()),'/'+Y.replace(z,'')}_checkUrl(){let Y=this._getFragment();Y!==this.fragment&&this._loadUrl()}_loadUrl(Y){let K=this.fragment=this._getFragment(Y);return!!this.options.routeHandler&&this.options.routeHandler(K)}},T.inject=[B],V);const z=/^#?\/*|\s+$/g,H=/^\/+|\/+$/g,U=/\/$/,W=/^([a-z][a-z0-9+\-.]*:)?\/\//i},'aurelia-logging-console':function(u,h,w){'use strict';w(5);w.d(h,'ConsoleAppender',function(){return I});let I=class{debug(R,...M){console.debug(`DEBUG [${R.id}]`,...M)}info(R,...M){console.info(`INFO [${R.id}]`,...M)}warn(R,...M){console.warn(`WARN [${R.id}]`,...M)}error(R,...M){console.error(`ERROR [${R.id}]`,...M)}}},'aurelia-pal-browser':function(u,h,w){'use strict';function A(){(function(){}).name||Object.defineProperty(Function.prototype,'name',{get:function(){let W=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,'name',{value:W}),W}})}function I(){if(!('classList'in document.createElement('_'))||document.createElementNS&&!('classList'in document.createElementNS('http://www.w3.org/2000/svg','g'))){let U='prototype',W=_Stringprototype.trim,Q=Array.prototype.indexOf,Y=[],K=function(Z,ee){this.name=Z,this.code=DOMException[Z],this.message=ee},$=function(Z,ee){if(''===ee)throw new K('SYNTAX_ERR','An invalid or illegal string was specified');if(/\s/.test(ee))throw new K('INVALID_CHARACTER_ERR','String contains an invalid character');return Q.call(Z,ee)},X=function(Z){let ee=W.call(Z.getAttribute('class')||''),te=ee?ee.split(/\s+/):Y;for(let ne=0,re=te.length;ne<re;++ne)this.push(te[ne]);this._updateClassName=function(){Z.setAttribute('class',this.toString())}},J=X[U]=[];K[U]=Error[U],J.item=function(Z){return this[Z]||null},J.contains=function(Z){return Z+='',-1!==$(this,Z)},J.add=function(){let Z=arguments,ee=0,te=Z.length,re=!1,ne;do ne=Z[ee]+'',-1===$(this,ne)&&(this.push(ne),re=!0);while(++ee<te);re&&this._updateClassName()},J.remove=function(){let Z=arguments,ee=0,te=Z.length,re=!1,ne,ie;do for(ne=Z[ee]+'',ie=$(this,ne);-1!==ie;)this.splice(ie,1),re=!0,ie=$(this,ne);while(++ee<te);re&&this._updateClassName()},J.toggle=function(Z,ee){Z+='';let te=this.contains(Z),ne=te?!0!==ee&&'remove':!1!==ee&&'add';return ne&&this[ne](Z),!0===ee||!1===ee?ee:!te},J.toString=function(){return this.join(' ')},Object.defineProperty(Element.prototype,'classList',{get:function(){return new X(this)},enumerable:!0,configurable:!0})}else{let U=document.createElement('_');if(U.classList.add('c1','c2'),!U.classList.contains('c2')){let W=function(Q){let Y=DOMTokenList.prototype[Q];DOMTokenList.prototype[Q]=function(K){for(let $=0,X=arguments.length;$<X;++$)K=arguments[$],Y.call(this,K)}};W('add'),W('remove')}if(U.classList.toggle('c3',!1),U.classList.contains('c3')){let W=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(Q,Y){return 1 in arguments&&!this.contains(Q)==!Y?Y:W.call(this,Q)}}U=null}}function N(){if(!1=='performance'in window&&(window.performance={}),!1=='now'in window.performance){let U=Date.now();performance.timing&&performance.timing.navigationStart&&(U=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-U}}F.performance=window.performance}function R(){if(!window.CustomEvent||'function'!=typeof window.CustomEvent){let U=function(W,Q){Q=Q||{bubbles:!1,cancelable:!1,detail:void 0};let Y=document.createEvent('CustomEvent');return Y.initCustomEvent(W,Q.bubbles,Q.cancelable,Q.detail),Y};U.prototype=window.Event.prototype,window.CustomEvent=U}}function M(){if(Element&&!Element.prototype.matches){let U=Element.prototype;U.matches=U.matchesSelector||U.mozMatchesSelector||U.msMatchesSelector||U.oMatchesSelector||U.webkitMatchesSelector}}function T(){function U(K){return'template'===K.tagName&&'http://www.w3.org/2000/svg'===K.namespaceURI}function W(K){let $=K.ownerDocument.createElement('template'),X=K.attributes,J=X.length,Z;for(K.parentNode.insertBefore($,K);0<J--;)Z=X[J],$.setAttribute(Z.name,Z.value),K.removeAttribute(Z.name);return K.parentNode.removeChild(K),Q($)}function Q(K){for(let $=K.content=document.createDocumentFragment(),X;X=K.firstChild;)$.appendChild(X);return K}D.ensureHTMLTemplateElement=D.htmlTemplateElement?function(K){return K}:function(K){let $=Q(K).content,X=$.querySelectorAll('template');for(let J=0,Z=X.length,ee;J<Z;++J)ee=X[J],U(ee)?W(ee):Q(ee);return K}}Object.defineProperty(h,'__esModule',{value:!0});var B=w(0);h._ensureFunctionName=A,h._ensureClassList=I,h._ensurePerformance=N,h._ensureCustomEvent=R,h._ensureElementMatches=M,h._ensureHTMLTemplateElement=T,h.initialize=function(){B.b||(R(),A(),T(),M(),I(),N(),w.i(B.f)((U,W,Q)=>{Object.assign(U,F),Object.assign(W,D),Object.assign(Q,H),function(Y){Y.console=Y.console||{};let K=Y.console,$,X,J={},Z=function(){},ee='memory'.split(','),te='assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn'.split(',');for(;$=ee.pop();)K[$]||(K[$]=J);for(;X=te.pop();)K[X]||(K[X]=Z)}(U.global),U.global.console&&'object'==typeof console.log&&['log','info','warn','error','assert','dir','clear','profile','profileEnd'].forEach(function(Y){console[Y]=this.bind(console[Y],console)},Function.prototype.call),Object.defineProperty(Q,'title',{get:function(){return document.title},set:function(Y){document.title=Y}}),Object.defineProperty(Q,'activeElement',{get:function(){return document.activeElement}}),Object.defineProperty(U,'XMLHttpRequest',{get:function(){return U.global.XMLHttpRequest}})}))};const F={location:window.location,history:window.history,addEventListener(U,W,Q){this.global.addEventListener(U,W,Q)},removeEventListener(U,W,Q){this.global.removeEventListener(U,W,Q)},performance:window.performance,requestAnimationFrame(U){return this.global.requestAnimationFrame(U)}};h._PLATFORM=F;const D={};h._FEATURE=D,D.shadowDOM=function(){return!!HTMLElement.prototype.attachShadow}(),D.scopedCSS=function(){return'scoped'in document.createElement('style')}(),D.htmlTemplateElement=function(){return'content'in document.createElement('template')}(),D.mutationObserver=function(){return!!(window.MutationObserver||window.WebKitMutationObserver)}();let z=window.ShadowDOMPolyfill||null;const H={Element:Element,SVGElement:SVGElement,boundary:'aurelia-dom-boundary',addEventListener(U,W,Q){document.addEventListener(U,W,Q)},removeEventListener(U,W,Q){document.removeEventListener(U,W,Q)},adoptNode(U){return document.adoptNode(U,!0)},createElement(U){return document.createElement(U)},createTextNode(U){return document.createTextNode(U)},createComment(U){return document.createComment(U)},createDocumentFragment(){return document.createDocumentFragment()},createMutationObserver(U){return new(window.MutationObserver||window.WebKitMutationObserver)(U)},createCustomEvent(U,W){return new window.CustomEvent(U,W)},dispatchEvent(U){document.dispatchEvent(U)},getComputedStyle(U){return window.getComputedStyle(U)},getElementById(U){return document.getElementById(U)},querySelectorAll(U){return document.querySelectorAll(U)},nextElementSibling(U){if(U.nextElementSibling)return U.nextElementSibling;do U=U.nextSibling;while(U&&1!==U.nodeType);return U},createTemplateFromMarkup(U){let W=document.createElement('div');W.innerHTML=U;let Q=W.firstElementChild;if(!Q||'TEMPLATE'!==Q.nodeName)throw new Error('Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>');return D.ensureHTMLTemplateElement(Q)},appendNode(U,W){(W||document.body).appendChild(U)},replaceNode(U,W,Q){W.parentNode?W.parentNode.replaceChild(U,W):null===z?Q.replaceChild(U,W):z.unwrap(Q).replaceChild(z.unwrap(U),z.unwrap(W))},removeNode(U,W){U.parentNode?U.parentNode.removeChild(U):W&&(null===z?W.removeChild(U):z.unwrap(W).removeChild(z.unwrap(U)))},injectStyles(U,W,Q){let Y=document.createElement('style');return Y.innerHTML=U,Y.type='text/css',W=W||document.head,Q&&0<W.childNodes.length?W.insertBefore(Y,W.childNodes[0]):W.appendChild(Y),Y}};h._DOM=H},'aurelia-templating-binding':function(u,h,w){'use strict';function A(Z,ee){if('style'===ee)N.getLogger('templating-binding').info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(Z.parentElement&&'TEXTAREA'===Z.parentElement.nodeName&&'textContent'===ee)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var N=w(5),R=w(3),M=w(1);h.configure=function(Z){Z.container.registerSingleton(M.b,J),Z.container.registerAlias(M.b,J)};var T,V,B,F,D,z,H,U;let W=(V=T=class{constructor(ee){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=ee,this.registerUniversal('accesskey','accessKey'),this.registerUniversal('contenteditable','contentEditable'),this.registerUniversal('tabindex','tabIndex'),this.registerUniversal('textcontent','textContent'),this.registerUniversal('innerhtml','innerHTML'),this.registerUniversal('scrolltop','scrollTop'),this.registerUniversal('scrollleft','scrollLeft'),this.registerUniversal('readonly','readOnly'),this.register('label','for','htmlFor'),this.register('img','usemap','useMap'),this.register('input','maxlength','maxLength'),this.register('input','minlength','minLength'),this.register('input','formaction','formAction'),this.register('input','formenctype','formEncType'),this.register('input','formmethod','formMethod'),this.register('input','formnovalidate','formNoValidate'),this.register('input','formtarget','formTarget'),this.register('textarea','maxlength','maxLength'),this.register('td','rowspan','rowSpan'),this.register('td','colspan','colSpan'),this.register('th','rowspan','rowSpan'),this.register('th','colspan','colSpan')}register(ee,te,ne){ee=ee.toLowerCase(),te=te.toLowerCase();const re=this.elements[ee]=this.elements[ee]||Object.create(null);re[te]=ne}registerUniversal(ee,te){ee=ee.toLowerCase(),this.allElements[ee]=te}map(ee,te){if(this.svg.isStandardSvgAttribute(ee,te))return te;ee=ee.toLowerCase(),te=te.toLowerCase();const ne=this.elements[ee];return void 0!==ne&&te in ne?ne[te]:te in this.allElements?this.allElements[te]:/(?:^data-)|(?:^aria-)|:/.test(te)?te:w.i(R.n)(te)}},T.inject=[R.o],V),Q=class{constructor(ee,te,ne,re,ie,ae){this.observerLocator=ee,this.targetProperty=te,this.parts=ne,this.mode=re,this.lookupFunctions=ie,this.attribute=this.attrToRemove=ae,this.discrete=!1}createBinding(ee){return 3===this.parts.length?new K(ee,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new Y(this.observerLocator,this.parts,ee,this.targetProperty,this.mode,this.lookupFunctions)}},Y=class{constructor(ee,te,ne,re,ie,ae){A(ne,re),this.observerLocator=ee,this.parts=te,this.target=ne,this.targetProperty=re,this.targetAccessor=ee.getAccessor(ne,re),this.mode=ie,this.lookupFunctions=ae}interpolate(){if(this.isBound){let ee='',te=this.parts;for(let ne=0,re=te.length;ne<re;ne++)ee+=0==ne%2?te[ne]:this[`childBinding${ne}`].value;this.targetAccessor.setValue(ee,this.target,this.targetProperty)}}updateOneTimeBindings(){for(let ee=1,te=this.parts.length,ne;ee<te;ee+=2)ne=this[`childBinding${ee}`],ne.mode===R.e.oneTime&&ne.call()}bind(ee){if(this.isBound){if(this.source===ee)return;this.unbind()}this.source=ee;let te=this.parts;for(let ne=1,re=te.length,ie;ne<re;ne+=2)ie=new K(this,this.observerLocator,te[ne],this.mode,this.lookupFunctions),ie.bind(ee),this[`childBinding${ne}`]=ie;this.isBound=!0,this.interpolate()}unbind(){if(this.isBound){this.isBound=!1,this.source=null;let ee=this.parts;for(let te=1,ne=ee.length,re;te<ne;te+=2)re=`childBinding${te}`,this[re].unbind()}}},K=(B=w.i(R.p)(),B(F=class{constructor(ee,te,ne,re,ie,ae,oe,se){ee instanceof Y?this.parent=ee:(A(ee,ae),this.target=ee,this.targetProperty=ae,this.targetAccessor=te.getAccessor(ee,ae)),this.observerLocator=te,this.sourceExpression=ne,this.mode=re,this.lookupFunctions=ie,this.left=oe,this.right=se}updateTarget(ee){ee=null===ee||ee===void 0?'':ee.toString(),ee!==this.value&&(this.value=ee,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+ee+this.right,this.target,this.targetProperty))}call(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==R.e.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))}bind(ee){if(this.isBound){if(this.source===ee)return;this.unbind()}this.isBound=!0,this.source=ee;let te=this.sourceExpression;te.bind&&te.bind(this,ee,this.lookupFunctions),this.rawValue=te.evaluate(ee,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===R.e.oneWay&&w.i(R.q)(this)}unbind(){if(this.isBound){this.isBound=!1;let ee=this.sourceExpression;ee.unbind&&ee.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}}connect(ee){this.isBound&&(ee&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))}})||F),$=(z=D=class{constructor(ee,te,ne,re){this.parser=ee,this.observerLocator=te,this.eventManager=ne,this.attributeMap=re}interpret(ee,te,ne,re,ie){return ne.command in this?this[ne.command](ee,te,ne,re,ie):this.handleUnknownCommand(ee,te,ne,re,ie)}handleUnknownCommand(ee,te,ne,re){return N.getLogger('templating-binding').warn('Unknown binding command.',ne),re}determineDefaultBindingMode(ee,te,ne){let re=ee.tagName.toLowerCase();return'input'===re&&('value'===te||'files'===te)&&'checkbox'!==ee.type&&'radio'!==ee.type||'input'===re&&'checked'===te&&('checkbox'===ee.type||'radio'===ee.type)||('textarea'===re||'select'===re)&&'value'===te||('textcontent'===te||'innerhtml'===te)&&'true'===ee.contentEditable||'scrolltop'===te||'scrollleft'===te?R.e.twoWay:ne&&te in ne.attributes&&ne.attributes[te]&&ne.attributes[te].defaultBindingMode>=R.e.oneTime?ne.attributes[te].defaultBindingMode:R.e.oneWay}bind(ee,te,ne,re,ie){let ae=re||M.s.attribute(ne.attrName);return ae.attributes[ne.attrName]=new R.r(this.observerLocator,this.attributeMap.map(te.tagName,ne.attrName),this.parser.parse(ne.attrValue),ne.defaultBindingMode||this.determineDefaultBindingMode(te,ne.attrName,ie),ee.lookupFunctions),ae}trigger(ee,te,ne){return new R.s(this.eventManager,ne.attrName,this.parser.parse(ne.attrValue),R.t.none,!0,ee.lookupFunctions)}capture(ee,te,ne){return new R.s(this.eventManager,ne.attrName,this.parser.parse(ne.attrValue),R.t.capturing,!0,ee.lookupFunctions)}delegate(ee,te,ne){return new R.s(this.eventManager,ne.attrName,this.parser.parse(ne.attrValue),R.t.bubbling,!0,ee.lookupFunctions)}call(ee,te,ne,re){let ie=re||M.s.attribute(ne.attrName);return ie.attributes[ne.attrName]=new R.u(this.observerLocator,ne.attrName,this.parser.parse(ne.attrValue),ee.lookupFunctions),ie}options(ee,te,ne,re,ie){let ae=re||M.s.attribute(ne.attrName),oe=ne.attrValue,se=this.language,le=null,de='',ge=!1,me=!1,he=!1,ue,ce,pe;for(ce=0,pe=oe.length;ce<pe;++ce){if(ue=oe[ce],';'===ue&&!ge)he||(le=this._getPrimaryPropertyName(ee,ie)),ne=se.inspectAttribute(ee,'?',le,de.trim()),se.createAttributeInstruction(ee,te,ne,ae,ie),ae.attributes[ne.attrName]||(ae.attributes[ne.attrName]=ne.attrValue),de='',le=null;else if(':'===ue&&null===le)he=!0,le=de.trim(),de='';else if('\\'===ue){de+=ue,me=!0;continue}else de+=ue,null!==le&&!1==me&&'\''===ue&&(ge=!ge);me=!1}return he||(le=this._getPrimaryPropertyName(ee,ie)),null!==le&&(ne=se.inspectAttribute(ee,'?',le,de.trim()),se.createAttributeInstruction(ee,te,ne,ae,ie),!ae.attributes[ne.attrName]&&(ae.attributes[ne.attrName]=ne.attrValue)),ae}_getPrimaryPropertyName(ee,te){let ne=ee.getAttribute(te.attributeName);return ne&&ne.primaryProperty?ne.primaryProperty.name:null}'for'(ee,te,ne,re){let ie,ae,oe,se,le;if(se=ne.attrValue,le=se.match(/^ *[[].+[\]]/),ie=le?se.split('of '):se.split(' of '),2!==ie.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return oe=re||M.s.attribute(ne.attrName),le?(ae=ie[0].replace(/[[\]]/g,'').replace(/,/g,' ').replace(/\s+/g,' ').trim().split(' '),oe.attributes.key=ae[0],oe.attributes.value=ae[1]):oe.attributes.local=ie[0],oe.attributes.items=new R.r(this.observerLocator,'items',this.parser.parse(ie[1]),R.e.oneWay,ee.lookupFunctions),oe}'two-way'(ee,te,ne,re){let ie=re||M.s.attribute(ne.attrName);return ie.attributes[ne.attrName]=new R.r(this.observerLocator,this.attributeMap.map(te.tagName,ne.attrName),this.parser.parse(ne.attrValue),R.e.twoWay,ee.lookupFunctions),ie}'one-way'(ee,te,ne,re){let ie=re||M.s.attribute(ne.attrName);return ie.attributes[ne.attrName]=new R.r(this.observerLocator,this.attributeMap.map(te.tagName,ne.attrName),this.parser.parse(ne.attrValue),R.e.oneWay,ee.lookupFunctions),ie}'one-time'(ee,te,ne,re){let ie=re||M.s.attribute(ne.attrName);return ie.attributes[ne.attrName]=new R.r(this.observerLocator,this.attributeMap.map(te.tagName,ne.attrName),this.parser.parse(ne.attrValue),R.e.oneTime,ee.lookupFunctions),ie}},D.inject=[R.v,R.f,R.g,W],z),X={},J=(U=H=class extends M.b{constructor(ee,te,ne,re){super(),this.parser=ee,this.observerLocator=te,this.syntaxInterpreter=ne,this.emptyStringExpression=this.parser.parse('\'\''),ne.language=this,this.attributeMap=re}inspectAttribute(ee,te,ne,re){let ie=ne.split('.');if(X.defaultBindingMode=null,2===ie.length)X.attrName=ie[0].trim(),X.attrValue=re,X.command=ie[1].trim(),'ref'===X.command?(X.expression=new R.w(this.parser.parse(re),X.attrName,ee.lookupFunctions),X.command=null,X.attrName='ref'):X.expression=null;else if('ref'===ne)X.attrName=ne,X.attrValue=re,X.command=null,X.expression=new R.w(this.parser.parse(re),'element',ee.lookupFunctions);else{X.attrName=ne,X.attrValue=re,X.command=null;const ae=this.parseInterpolation(ee,re);X.expression=null===ae?null:new Q(this.observerLocator,this.attributeMap.map(te,ne),ae,R.e.oneWay,ee.lookupFunctions,ne)}return X}createAttributeInstruction(ee,te,ne,re,ie){let ae;if(ne.expression){if('ref'===ne.attrName)return ne.expression;ae=re||M.s.attribute(ne.attrName),ae.attributes[ne.attrName]=ne.expression}else ne.command&&(ae=this.syntaxInterpreter.interpret(ee,te,ne,re,ie));return ae}inspectTextContent(ee,te){const ne=this.parseInterpolation(ee,te);return null===ne?null:new Q(this.observerLocator,'textContent',ne,R.e.oneWay,ee.lookupFunctions,'textContent')}parseInterpolation(ee,te){let ne=te.indexOf('${',0),re=te.length,ae=0,oe=0,se=null,ue=0,ie,le,de;for(;0<=ne&&ne<re-2;){oe=1,le=ne,ne+=2;do{if(ie=te[ne],ne++,'\''===ie||'"'===ie){null==se?se=ie:se===ie&&(se=null);continue}if('\\'===ie){ne++;continue}if(null!==se)continue;'{'===ie?oe++:'}'===ie&&oe--}while(0<oe&&ne<re);if(0==oe)de=de||[],'\\'===te[le-1]&&'\\'!==te[le-2]?(de[ue]=te.substring(ae,le-1)+te.substring(le,ne),ue++,de[ue]=this.emptyStringExpression,ue++):(de[ue]=te.substring(ae,le),ue++,de[ue]=this.parser.parse(te.substring(le+2,ne-1)),ue++),ae=ne,ne=te.indexOf('${',ne);else break}return 0==ue?null:(de[ue]=te.substr(ae),de)}},H.inject=[R.v,R.f,$,W],U)},'aurelia-templating-resources':function(u,h,w){'use strict';function A(pe){w.i(ce.a)(),pe.globalResources('./compose','./if','./with','./repeat','./show','./hide','./replaceable','./sanitize-html','./focus','./binding-mode-behaviors','./self-binding-behavior','./throttle-binding-behavior','./debounce-binding-behavior','./signal-binding-behavior','./update-trigger-binding-behavior','./attr-binding-behavior'),w.i(re.a)(pe);let ge=pe.container.get(H.f);ge.addResourcePlugin('.css',{fetch:function(me){return{[me]:w.i(U.a)(me)}}})}var I=w(0),N=w('aurelia-templating-resources/compose'),R=w('aurelia-templating-resources/if'),M=w('aurelia-templating-resources/with'),T=w('aurelia-templating-resources/repeat'),V=w('aurelia-templating-resources/show'),B=w('aurelia-templating-resources/hide'),F=w('aurelia-templating-resources/sanitize-html'),D=w('aurelia-templating-resources/replaceable'),z=w('aurelia-templating-resources/focus'),H=w(1),U=w(30),W=w(18),Q=w('aurelia-templating-resources/attr-binding-behavior'),Y=w('aurelia-templating-resources/binding-mode-behaviors'),K=w('aurelia-templating-resources/throttle-binding-behavior'),$=w('aurelia-templating-resources/debounce-binding-behavior'),X=w('aurelia-templating-resources/self-binding-behavior'),J=w('aurelia-templating-resources/signal-binding-behavior'),Z=w(17),ee=w('aurelia-templating-resources/update-trigger-binding-behavior'),te=w(14),ne=w(22),re=w(32),ie=w(20),ae=w(16),oe=w(19),se=w(23),le=w(21),de=w(7),ue=w(15),ce=w(11);w.d(h,'configure',function(){return A})},'aurelia-templating-resources/attr-binding-behavior':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(3);w.d(h,'AttrBindingBehavior',function(){return I});let I=class{bind(R){R.targetObserver=new A.h(R.target,R.targetProperty)}unbind(){}}},'aurelia-templating-resources/binding-mode-behaviors':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(3),I=w(4);w.d(h,'OneTimeBindingBehavior',function(){return D}),w.d(h,'OneWayBindingBehavior',function(){return z}),w.d(h,'TwoWayBindingBehavior',function(){return H});var N,R,M,T,V,B;let F={bind(U){U.originalMode=U.mode,U.mode=this.mode},unbind(U){U.mode=U.originalMode,U.originalMode=null}},D=(N=w.i(I.d)(F),N(R=class{constructor(){this.mode=A.e.oneTime}})||R),z=(M=w.i(I.d)(F),M(T=class{constructor(){this.mode=A.e.oneWay}})||T),H=(V=w.i(I.d)(F),V(B=class{constructor(){this.mode=A.e.twoWay}})||B)},'aurelia-templating-resources/compose':function(u,h,w){'use strict';function A(Z,ee,te,ne){te&&Object.defineProperty(Z,ee,{enumerable:te.enumerable,configurable:te.configurable,writable:te.writable,value:te.initializer?te.initializer.call(ne):void 0})}function I(Z,ee,te,ne,re){var ie={};return Object.keys(ne).forEach(function(ae){ie[ae]=ne[ae]}),ie.enumerable=!!ie.enumerable,ie.configurable=!!ie.configurable,('value'in ie||ie.initializer)&&(ie.writable=!0),ie=te.slice().reverse().reduce(function(ae,oe){return oe(Z,ee,ae)||ae},ie),re&&void 0!==ie.initializer&&(ie.value=ie.initializer?ie.initializer.call(re):void 0,ie.initializer=void 0),void 0===ie.initializer&&(Object.defineProperty(Z,ee,ie),ie=null),ie}function R(Z,ee){return Object.assign(ee,{bindingContext:Z.bindingContext,overrideContext:Z.overrideContext,owningView:Z.owningView,container:Z.container,viewSlot:Z.viewSlot,viewResources:Z.viewResources,currentController:Z.currentController,host:Z.element,swapOrder:Z.swapOrder})}function M(Z,ee){Z.currentInstruction=null,Z.compositionEngine.compose(ee).then((te)=>{Z.currentController=te,Z.currentViewModel=te?te.viewModel:null})}Object.defineProperty(h,'__esModule',{value:!0});var T=w(2),V=w(9),B=w(1),F=w(0);w.d(h,'Compose',function(){return J});var D,z,H,Q,Y,K,$,X;let J=(D=w.i(B.g)('compose'),z=w.i(T.b)(F.c.Element,T.a,B.h,B.e,B.a,V.a),D(H=w.i(B.i)(H=z(H=(Q=class{constructor(ee,te,ne,re,ie,ae){A(this,'model',Y,this),A(this,'view',K,this),A(this,'viewModel',$,this),A(this,'swapOrder',X,this),this.element=ee,this.container=te,this.compositionEngine=ne,this.viewSlot=re,this.viewResources=ie,this.taskQueue=ae,this.currentController=null,this.currentViewModel=null}created(ee){this.owningView=ee}bind(ee,te){this.bindingContext=ee,this.overrideContext=te,M(this,R(this,{view:this.view,viewModel:this.viewModel,model:this.model}))}unbind(){this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)}modelChanged(ee){return this.currentInstruction?void(this.currentInstruction.model=ee):void this.taskQueue.queueMicroTask(()=>{if(this.currentInstruction)return void(this.currentInstruction.model=ee);let ne=this.currentViewModel;ne&&'function'==typeof ne.activate&&ne.activate(ee)})}viewChanged(ee){let ne=R(this,{view:ee,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=ne):void(this.currentInstruction=ne,this.taskQueue.queueMicroTask(()=>M(this,this.currentInstruction)))}viewModelChanged(ee){let ne=R(this,{viewModel:ee,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=ne):void(this.currentInstruction=ne,this.taskQueue.queueMicroTask(()=>M(this,this.currentInstruction)))}},Y=I(Q.prototype,'model',[B.j],{enumerable:!0,initializer:null}),K=I(Q.prototype,'view',[B.j],{enumerable:!0,initializer:null}),$=I(Q.prototype,'viewModel',[B.j],{enumerable:!0,initializer:null}),X=I(Q.prototype,'swapOrder',[B.j],{enumerable:!0,initializer:null}),Q))||H)||H)||H)},'aurelia-templating-resources/debounce-binding-behavior':function(u,h,w){'use strict';function A(R){let M=this.debounceState;return M.immediate?(M.immediate=!1,void this.debouncedMethod(R)):void(clearTimeout(M.timeoutId),M.timeoutId=setTimeout(()=>this.debouncedMethod(R),M.delay))}Object.defineProperty(h,'__esModule',{value:!0});var I=w(3);w.d(h,'DebounceBindingBehavior',function(){return N});let N=class{bind(M,T,V=200){let B='updateTarget';M.callSource?B='callSource':M.updateSource&&M.mode===I.e.twoWay&&(B='updateSource'),M.debouncedMethod=M[B],M.debouncedMethod.originalName=B,M[B]=A,M.debounceState={delay:V,timeoutId:null,immediate:'updateTarget'==B}}unbind(M){let V=M.debouncedMethod.originalName;M[V]=M.debouncedMethod,M.debouncedMethod=null,clearTimeout(M.debounceState.timeoutId),M.debounceState=null}}},'aurelia-templating-resources/focus':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(1),I=w(3),N=w(2),R=w(9),M=w(0);w.d(h,'Focus',function(){return F});var T,V,B;let F=(T=w.i(A.k)('focus',I.e.twoWay),V=w.i(N.b)(M.c.Element,R.a),T(B=V(B=class{constructor(z,H){this.element=z,this.taskQueue=H,this.isAttached=!1,this.needsApply=!1,this.focusListener=()=>{this.value=!0},this.blurListener=()=>{M.c.activeElement!==this.element&&(this.value=!1)}}valueChanged(){this.isAttached?this._apply():this.needsApply=!0}_apply(){this.value?this.taskQueue.queueMicroTask(()=>{this.value&&this.element.focus()}):this.element.blur()}attached(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener('focus',this.focusListener),this.element.addEventListener('blur',this.blurListener)}detached(){this.isAttached=!1,this.element.removeEventListener('focus',this.focusListener),this.element.removeEventListener('blur',this.blurListener)}})||B)||B)},'aurelia-templating-resources/hide':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(2),I=w(1),N=w(0),R=w(11);w.d(h,'Hide',function(){return B});var M,T,V;let B=(M=w.i(I.k)('hide'),T=w.i(A.b)(N.c.Element,I.o,A.d.of(N.c.boundary,!0)),M(V=T(V=class{constructor(D,z,H){this.element=D,this.animator=z,this.domBoundary=H}created(){w.i(R.b)(this.domBoundary)}valueChanged(D){D?this.animator.addClass(this.element,R.c):this.animator.removeClass(this.element,R.c)}bind(){this.valueChanged(this.value)}})||V)||V)},'aurelia-templating-resources/if':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(1),I=w(2);w.d(h,'If',function(){return T});var N,R,M;let T=(N=w.i(A.k)('if'),R=w.i(I.b)(A.l,A.e),N(M=w.i(A.m)(M=R(M=class{constructor(B,F){this.viewFactory=B,this.viewSlot=F,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}bind(B,F){this.bindingContext=B,this.overrideContext=F,this.valueChanged(this.value)}valueChanged(B){if(this.__queuedChanges)return void this.__queuedChanges.push(B);let F=this._runValueChanged(B);if(F instanceof Promise){let D=this.__queuedChanges=[],z=()=>{if(!D.length)return void(this.__queuedChanges=void 0);let H=this._runValueChanged(D.shift())||Promise.resolve();H.then(z)};F.then(z)}}_runValueChanged(B){if(!B){let F;return null!==this.view&&this.showing&&(F=this.viewSlot.remove(this.view),F instanceof Promise?F.then(()=>this.view.unbind()):this.view.unbind()),this.showing=!1,F}return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing?void 0:(this.showing=!0,this.viewSlot.add(this.view))}unbind(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))}})||M)||M)||M)},'aurelia-templating-resources/repeat':function(u,h,w){'use strict';function A(ee,te,ne,re){ne&&Object.defineProperty(ee,te,{enumerable:ne.enumerable,configurable:ne.configurable,writable:ne.writable,value:ne.initializer?ne.initializer.call(re):void 0})}function I(ee,te,ne,re,ie){var ae={};return Object.keys(re).forEach(function(oe){ae[oe]=re[oe]}),ae.enumerable=!!ae.enumerable,ae.configurable=!!ae.configurable,('value'in ae||ae.initializer)&&(ae.writable=!0),ae=ne.slice().reverse().reduce(function(oe,se){return se(ee,te,oe)||oe},ae),ie&&void 0!==ae.initializer&&(ae.value=ae.initializer?ae.initializer.call(ie):void 0,ae.initializer=void 0),void 0===ae.initializer&&(Object.defineProperty(ee,te,ae),ae=null),ae}Object.defineProperty(h,'__esModule',{value:!0});var R=w(2),M=w(3),T=w(1),V=w(22),B=w(7),F=w(15),D=w(14);w.d(h,'Repeat',function(){return Z});var z,H,U,Y,K,$,X,J;let Z=(z=w.i(T.k)('repeat'),H=w.i(R.b)(T.l,T.n,T.e,T.a,M.f,V.a),z(U=w.i(T.m)(U=H(U=(Y=class extends D.a{constructor(te,ne,re,ie,ae,oe){super({local:'item',viewsRequireLifecycle:w.i(F.a)(te)}),A(this,'items',K,this),A(this,'local',$,this),A(this,'key',X,this),A(this,'value',J,this),this.viewFactory=te,this.instruction=ne,this.viewSlot=re,this.lookupFunctions=ie.lookupFunctions,this.observerLocator=ae,this.key='key',this.value='value',this.strategyLocator=oe,this.ignoreMutation=!1,this.sourceExpression=w.i(B.a)(this.instruction,'repeat.for'),this.isOneTime=w.i(B.b)(this.sourceExpression),this.viewsRequireLifecycle=w.i(F.a)(te)}call(te,ne){this[te](this.items,ne)}bind(te,ne){this.scope={bindingContext:te,overrideContext:ne},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()}unbind(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()}_unsubscribeCollection(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)}itemsChanged(){if(this._unsubscribeCollection(),!!this.scope){let te=this.items;if(this.strategy=this.strategyLocator.getStrategy(te),!this.strategy)throw new Error(`Value for '${this.sourceExpression}' is non-repeatable`);this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,te)}}_getInnerCollection(){let te=w.i(B.c)(this.sourceExpression);return te?te.evaluate(this.scope,null):null}handleCollectionMutated(te,ne){this.collectionObserver&&this.strategy.instanceMutated(this,te,ne)}handleInnerCollectionMutated(){if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;let re=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(()=>this.ignoreMutation=!1),re===this.items?this.itemsChanged():this.items=re}}_observeInnerCollection(){let te=this._getInnerCollection(),ne=this.strategyLocator.getStrategy(te);return!!ne&&(this.collectionObserver=ne.getCollectionObserver(this.observerLocator,te),!!this.collectionObserver)&&(this.callContext='handleInnerCollectionMutated',this.collectionObserver.subscribe(this.callContext,this),!0)}_observeCollection(){let te=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,te),this.collectionObserver&&(this.callContext='handleCollectionMutated',this.collectionObserver.subscribe(this.callContext,this))}_captureAndRemoveMatcherBinding(){if(this.viewFactory.viewFactory){const te=this.viewFactory.viewFactory.instructions,ne=Object.keys(te);for(let re=0;re<ne.length;re++){const ie=te[ne[re]].expressions;if(ie)for(let ae=0;re<ie.length;re++)if('matcher'===ie[ae].targetProperty){const oe=ie[ae];return ie.splice(ae,1),oe}}}}viewCount(){return this.viewSlot.children.length}views(){return this.viewSlot.children}view(te){return this.viewSlot.children[te]}matcher(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null}addView(te,ne){let re=this.viewFactory.create();re.bind(te,ne),this.viewSlot.add(re)}insertView(te,ne,re){let ie=this.viewFactory.create();ie.bind(ne,re),this.viewSlot.insert(te,ie)}moveView(te,ne){this.viewSlot.move(te,ne)}removeAllViews(te,ne){return this.viewSlot.removeAll(te,ne)}removeViews(te,ne,re){return this.viewSlot.removeMany(te,ne,re)}removeView(te,ne,re){return this.viewSlot.removeAt(te,ne,re)}updateBindings(te){let ne=te.bindings.length;for(;ne--;)w.i(B.d)(te.bindings[ne]);for(ne=te.controllers.length;ne--;)for(let re=te.controllers[ne].boundProperties.length,ie;re--;)ie=te.controllers[ne].boundProperties[re].binding,w.i(B.d)(ie)}},K=I(Y.prototype,'items',[T.j],{enumerable:!0,initializer:null}),$=I(Y.prototype,'local',[T.j],{enumerable:!0,initializer:null}),X=I(Y.prototype,'key',[T.j],{enumerable:!0,initializer:null}),J=I(Y.prototype,'value',[T.j],{enumerable:!0,initializer:null}),Y))||U)||U)||U)},'aurelia-templating-resources/replaceable':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(2),I=w(1);w.d(h,'Replaceable',function(){return T});var N,R,M;let T=(N=w.i(I.k)('replaceable'),R=w.i(A.b)(I.l,I.e),N(M=w.i(I.m)(M=R(M=class{constructor(B,F){this.viewFactory=B,this.viewSlot=F,this.view=null}bind(B,F){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(B,F)}unbind(){this.view.unbind()}})||M)||M)||M)},'aurelia-templating-resources/sanitize-html':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(3),I=w(2),N=w(18);w.d(h,'SanitizeHTMLValueConverter',function(){return V});var R,M,T;let V=(R=w.i(A.m)('sanitizeHTML'),M=w.i(I.b)(N.a),R(T=M(T=class{constructor(F){this.sanitizer=F}toView(F){return null===F||void 0===F?null:this.sanitizer.sanitize(F)}})||T)||T)},'aurelia-templating-resources/self-binding-behavior':function(u,h,w){'use strict';function A(R){return R.path&&R.path[0]||R.deepPath&&R.deepPath[0]||R.target}function I(R){let M=A(R);this.target!==M||this.selfEventCallSource(R)}Object.defineProperty(h,'__esModule',{value:!0}),w.d(h,'SelfBindingBehavior',function(){return N});let N=class{bind(M){if(!M.callSource||!M.targetEvent)throw new Error('Self binding behavior only supports event.');M.selfEventCallSource=M.callSource,M.callSource=I}unbind(M){M.callSource=M.selfEventCallSource,M.selfEventCallSource=null}}},'aurelia-templating-resources/show':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(2),I=w(1),N=w(0),R=w(11);w.d(h,'Show',function(){return B});var M,T,V;let B=(M=w.i(I.k)('show'),T=w.i(A.b)(N.c.Element,I.o,A.d.of(N.c.boundary,!0)),M(V=T(V=class{constructor(D,z,H){this.element=D,this.animator=z,this.domBoundary=H}created(){w.i(R.b)(this.domBoundary)}valueChanged(D){D?this.animator.removeClass(this.element,R.c):this.animator.addClass(this.element,R.c)}bind(){this.valueChanged(this.value)}})||V)||V)},'aurelia-templating-resources/signal-binding-behavior':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(17);w.d(h,'SignalBindingBehavior',function(){return I});let I=class{static inject(){return[A.a]}constructor(R){this.signals=R.signals}bind(R){if(!R.updateTarget)throw new Error('Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.');if(3===arguments.length){let T=arguments[2],V=this.signals[T]||(this.signals[T]=[]);V.push(R),R.signalName=T}else if(3<arguments.length){let T=Array.prototype.slice.call(arguments,2),V=T.length;for(;V--;){let B=T[V],F=this.signals[B]||(this.signals[B]=[]);F.push(R)}R.signalName=T}else throw new Error('Signal name is required.')}unbind(R){let T=R.signalName;if(R.signalName=null,Array.isArray(T)){let V=T,B=V.length;for(;B--;){let F=V[B],D=this.signals[F];D.splice(D.indexOf(R),1)}}else{let V=this.signals[T];V.splice(V.indexOf(R),1)}}}},'aurelia-templating-resources/throttle-binding-behavior':function(u,h,w){'use strict';function A(R){let M=this.throttleState,T=+new Date-M.last;return T>=M.delay?(clearTimeout(M.timeoutId),M.timeoutId=null,M.last=+new Date,void this.throttledMethod(R)):void(M.newValue=R,null===M.timeoutId&&(M.timeoutId=setTimeout(()=>{M.timeoutId=null,M.last=+new Date,this.throttledMethod(M.newValue)},M.delay-T)))}Object.defineProperty(h,'__esModule',{value:!0});var I=w(3);w.d(h,'ThrottleBindingBehavior',function(){return N});let N=class{bind(M,T,V=200){let B='updateTarget';M.callSource?B='callSource':M.updateSource&&M.mode===I.e.twoWay&&(B='updateSource'),M.throttledMethod=M[B],M.throttledMethod.originalName=B,M[B]=A,M.throttleState={delay:V,last:0,timeoutId:null}}unbind(M){let V=M.throttledMethod.originalName;M[V]=M.throttledMethod,M.throttledMethod=null,clearTimeout(M.throttleState.timeoutId),M.throttleState=null}}},'aurelia-templating-resources/update-trigger-binding-behavior':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(3);w.d(h,'UpdateTriggerBindingBehavior',function(){return T});var I,N;const M='The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.';let T=(N=I=class{constructor(B){this.eventManager=B}bind(B,F,...D){if(0===D.length)throw new Error('The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:\'blur\'">');if(B.mode!==A.e.twoWay)throw new Error(M);let z=B.observerLocator.getObserver(B.target,B.targetProperty);if(!z.handler)throw new Error(M);B.targetObserver=z,z.originalHandler=B.targetObserver.handler;let H=this.eventManager.createElementHandler(D);z.handler=H}unbind(B){B.targetObserver.handler=B.targetObserver.originalHandler,B.targetObserver.originalHandler=null}},I.inject=[A.g],N)},'aurelia-templating-resources/with':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(2),I=w(1),N=w(3);w.d(h,'With',function(){return V});var R,M,T;let V=(R=w.i(I.k)('with'),M=w.i(A.b)(I.l,I.e),R(T=w.i(I.m)(T=M(T=class{constructor(F,D){this.viewFactory=F,this.viewSlot=D,this.parentOverrideContext=null,this.view=null}bind(F,D){this.parentOverrideContext=D,this.valueChanged(this.value)}valueChanged(F){let D=w.i(N.a)(F,this.parentOverrideContext);this.view?this.view.bind(F,D):(this.view=this.viewFactory.create(),this.view.bind(F,D),this.viewSlot.add(this.view))}unbind(){this.parentOverrideContext=null,this.view&&this.view.unbind()}})||T)||T)||T)},'aurelia-templating-router':function(u,h,w){'use strict';function A(V){V.singleton(N.a,R.a).singleton(N.b,N.c).globalResources('./router-view','./route-href'),V.container.registerAlias(N.b,N.c)}var I=w(0),N=w(10),R=w(33),M=w('aurelia-templating-router/router-view'),T=w('aurelia-templating-router/route-href');w.d(h,'configure',function(){return A})},'aurelia-templating-router/route-href':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(1),I=w(2),N=w(10),R=w(0),M=w(5);w.d(h,'RouteHref',function(){return U});var T,V,B,F,D,z;const H=M.getLogger('route-href');let U=(T=w.i(A.k)('route-href'),V=w.i(A.j)({name:'route',changeHandler:'processChange'}),B=w.i(A.j)({name:'params',changeHandler:'processChange'}),F=w.i(A.j)({name:'attribute',defaultValue:'href'}),D=w.i(I.b)(N.b,R.c.Element),T(z=V(z=B(z=F(z=D(z=class{constructor(Q,Y){this.router=Q,this.element=Y}bind(){this.isActive=!0,this.processChange()}unbind(){this.isActive=!1}attributeChanged(Q,Y){Y&&this.element.removeAttribute(Y),this.processChange()}processChange(){return this.router.ensureConfigured().then(()=>{if(!this.isActive)return null;let Q=this.router.generate(this.route,this.params);return this.element.au.controller?this.element.au.controller.viewModel[this.attribute]=Q:this.element.setAttribute(this.attribute,Q),null}).catch((Q)=>{H.error(Q)})}})||z)||z)||z)||z)||z)},'aurelia-templating-router/router-view':function(u,h,w){'use strict';function A(ee,te,ne,re){ne&&Object.defineProperty(ee,te,{enumerable:ne.enumerable,configurable:ne.configurable,writable:ne.writable,value:ne.initializer?ne.initializer.call(re):void 0})}function I(ee,te,ne,re,ie){var ae={};return Object.keys(re).forEach(function(oe){ae[oe]=re[oe]}),ae.enumerable=!!ae.enumerable,ae.configurable=!!ae.configurable,('value'in ae||ae.initializer)&&(ae.writable=!0),ae=ne.slice().reverse().reduce(function(oe,se){return se(ee,te,oe)||oe},ae),ie&&void 0!==ae.initializer&&(ae.value=ae.initializer?ae.initializer.call(ie):void 0,ae.initializer=void 0),void 0===ae.initializer&&(Object.defineProperty(ee,te,ae),ae=null),ae}Object.defineProperty(h,'__esModule',{value:!0});var R=w(2),M=w(3),T=w(1),V=w(10),B=w(4),F=w(0);w.d(h,'RouterView',function(){return J}),w.d(h,'RouterViewLocator',function(){return Z});var D,z,H,Q,Y,K,$,X;let J=(D=w.i(T.g)('router-view'),z=w.i(R.b)(F.c.Element,R.a,T.e,V.b,T.r,T.d,T.h),D(H=w.i(T.i)(H=z(H=(Q=class{constructor(te,ne,re,ie,ae,oe,se){A(this,'swapOrder',Y,this),A(this,'layoutView',K,this),A(this,'layoutViewModel',$,this),A(this,'layoutModel',X,this),this.element=te,this.container=ne,this.viewSlot=re,this.router=ie,this.viewLocator=ae,this.compositionTransaction=oe,this.compositionEngine=se,this.router.registerViewPort(this,this.element.getAttribute('name')),'initialComposition'in oe||(oe.initialComposition=!0,this.compositionTransactionNotifier=oe.enlist())}created(te){this.owningView=te}bind(te,ne){this.container.viewModel=te,this.overrideContext=ne}process(te,ne){let re=te.component,ie=re.childContainer,ae=re.viewModel,oe=re.viewModelResource,se=oe.metadata,le=re.router.currentInstruction.config,de=le.viewPorts?le.viewPorts[te.name]:{};ie.get(Z)._notify(this);let ue={viewModel:de.layoutViewModel||le.layoutViewModel||this.layoutViewModel,view:de.layoutView||le.layoutView||this.layoutView,model:de.layoutModel||le.layoutModel||this.layoutModel,router:te.component.router,childContainer:ie,viewSlot:this.viewSlot},ce=this.viewLocator.getViewStrategy(re.view||ae);return ce&&re.view&&ce.makeRelativeTo(B.c.get(re.router.container.viewModel.constructor).moduleId),se.load(ie,oe.value,null,ce,!0).then((pe)=>{this.compositionTransactionNotifier||(this.compositionTransactionOwnershipToken=this.compositionTransaction.tryCapture()),(ue.viewModel||ue.view)&&(te.layoutInstruction=ue),te.controller=se.create(ie,T.s.dynamic(this.element,ae,pe)),ne||this.swap(te)})}swap(te){let ne=te.layoutInstruction,re=this.view,ie=()=>{let oe=T.t[this.swapOrder]||T.t.after,se=this.viewSlot;oe(se,re,()=>{return Promise.resolve(se.add(this.view))}).then(()=>{this._notify()})},ae=(oe)=>{return te.controller.automate(this.overrideContext,oe),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(()=>{return this.compositionTransactionOwnershipToken=null,ie()}):ie()};return ne?(ne.viewModel||(ne.viewModel={}),this.compositionEngine.createController(ne).then((oe)=>{return T.u.distributeView(te.controller.view,oe.slots||oe.view.slots),oe.automate(w.i(M.a)(ne.viewModel),this.owningView),oe.view.children.push(te.controller.view),oe.view||oe}).then((oe)=>{return this.view=oe,ae(oe)})):(this.view=te.controller.view,ae(this.owningView))}_notify(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)}},Y=I(Q.prototype,'swapOrder',[T.j],{enumerable:!0,initializer:null}),K=I(Q.prototype,'layoutView',[T.j],{enumerable:!0,initializer:null}),$=I(Q.prototype,'layoutViewModel',[T.j],{enumerable:!0,initializer:null}),X=I(Q.prototype,'layoutModel',[T.j],{enumerable:!0,initializer:null}),Q))||H)||H)||H),Z=class{constructor(){this.promise=new Promise((te)=>this.resolve=te)}findNearest(){return this.promise}_notify(te){this.resolve(te)}}},'converters/upper':function(u,h){'use strict';Object.defineProperty(h,'__esModule',{value:!0});h.UpperValueConverter=class{toView(I){return I&&I.toUpperCase()}}},'customElements/hello-tag':function(u,h,w){'use strict';Object.defineProperty(h,'__esModule',{value:!0});var A=w(41),I=w('aurelia-framework');class N{}h.HelloTagCustomElement=N,A.a([I.c],N.prototype,'name',void 0)},'customElements/hello-tag.html':function(u){u.exports='<template>\r\n  <div class="tag-header">\r\n    HELLO<br>\r\n    MY NAME IS\r\n  </div>\r\n  <div class="tag-body">${name}</div>\r\n</template>'},main:function(u,h,w){'use strict';var I=w('aurelia-framework');h.configure=function(N){N.use.standardConfiguration().developmentLogging().globalResources('converters/upper').postTask((R)=>{let M=R.container.get(I.b);M._pluginMap['.less']=M._pluginMap['.css']}),N.start().then(()=>N.setRoot('app'))}},'style.less':function(u,h,w){h=u.exports=w(36)(void 0),h.push([u.i,'body {\n  font-family: "Segoe UI", Arial, Sans;\n}\nhello-tag {\n  border: solid 1px #a00;\n  border-radius: 5px;\n  display: block;\n  width: 200px;\n  margin: 20px;\n  transform: rotate(-5deg);\n}\n.tag-header {\n  color: #fff;\n  background: #a00;\n  font-weight: bold;\n  text-align: center;\n  padding: 8px;\n}\n.tag-body {\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n  font-family: cursive;\n  font-size: 1.3em;\n}\n',''])}});